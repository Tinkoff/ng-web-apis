"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[360],{6360:(w,l,o)=>{o.r(l),o.d(l,{default:()=>P});var i=o(8974),r=o(6568),e=o(6528),g=o(5532),h=o(6800),m=o(4212),p=o(6112),d=o(6708),u=o(8332),v=o(816);function y(n,s){if(1&n&&(e.I0R(0,"div"),e.OEk(1," Unfortunately we could not show what the code snippet above would render due to an error: "),e.wR5(2,"br"),e.I0R(3,"b"),e.OEk(4),e.C$Y()()),2&n){const a=s.ngIf;e.yG2(4),e.cNF(a)}}function C(n,s){if(1&n&&(e.I0R(0,"div")(1,"p"),e.OEk(2,"The sample above would render the following:"),e.C$Y(),e.wR5(3,"hr"),e.I0R(4,"h2",2),e.OEk(5),e.C$Y(),e.wR5(6,"hr"),e.I0R(7,"p"),e.OEk(8,"Go ahead and change your browser Location permission as shown below to see this change reflected above."),e.C$Y(),e.I0R(9,"div",2),e.wR5(10,"img",3),e.C$Y()()),2&n){const a=s.ngIf;e.yG2(5),e.oRS("Geolocation state: ",a,"")}}let P=(()=>{var n;class s{constructor(){(0,i.c)(this,"navigator",(0,e.uUt)(g.Qb)),(0,i.c)(this,"error$",new p.g(null)),(0,i.c)(this,"basicSample","import { PermissionsService } from '@ng-web-apis/permissions';\n\n@Component({\n  selector: 'main',\n  template: `\n    <h2>Geolocation state: {{ geolocationState$ | async }}</h2>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AppComponent {\n  geolocationState$ = this.permissionsService.state('geolocation');\n\n  constructor(\n    private readonly permissionsService: PermissionsService,\n  ) {}\n}\n"),(0,i.c)(this,"geolocationState$",(0,e.uUt)(h.WU).state("geolocation").pipe((0,d.y)(t=>{"prompt"===t&&(alert("After you acknowledge this message the browser will ask your permission to allow location access!"),this.navigator.geolocation.getCurrentPosition(()=>{}))}),(0,u.a)(t=>(this.error$.next(t.message),(0,v.of)(null)))))}}return n=s,(0,i.c)(s,"\u0275fac",function(t){return new(t||n)}),(0,i.c)(s,"\u0275cmp",e.In1({type:n,selectors:[["permissions-page"]],standalone:!0,features:[e.UHJ],decls:10,vars:7,consts:[[3,"highlight"],[4,"ngIf"],[1,"align-center"],["alt","Click on 'View site information' icon next to the address bar and change selected permission for Location","src","assets/change-permissions-instructions.jpg"]],template:function(t,c){1&t&&(e.OEk(0,"The following example shows basic usage of\n"),e.I0R(1,"code"),e.OEk(2,"PermissionsService"),e.C$Y(),e.OEk(3,"\n: "),e.I0R(4,"pre"),e.wR5(5,"code",0),e.C$Y(),e.yuY(6,y,5,1,"div",1),e.wVc(7,"async"),e.yuY(8,C,11,1,"div",1),e.wVc(9,"async")),2&t&&(e.yG2(5),e.E7m("highlight",c.basicSample),e.yG2(1),e.E7m("ngIf",e.kDX(7,3,c.error$)),e.yG2(2),e.E7m("ngIf",e.kDX(9,5,c.geolocationState$)))},dependencies:[r.MD,r.u_,r.a,m.M9,m.gl],styles:["[_nghost-%COMP%]{display:block;max-width:600px;margin:0 auto}"],changeDetection:0})),s})()}}]);