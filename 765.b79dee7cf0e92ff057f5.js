"use strict";(self.webpackChunkng_web_apis=self.webpackChunkng_web_apis||[]).push([[765],{6789:(U,P,l)=>{l.r(P),l.d(P,{AudioPageModule:()=>ge});var _=l(190),e=l(4788),x=l(2057),m=l(1422),J=l(4295),h=l(4762),q=l(9359),S=l(4945),v=l(1528),C=l(5124),D=l(2936),p=l(5155),Z=l(4533),g=l(7282);let O=(()=>{class t extends AudioBufferSourceNode{constructor(n,a,o,i,u,c){const y=(0,g.Q)(u,0),s=(0,g.Q)(c,1);if(!o){const A=a.createBufferSource();return Object.setPrototypeOf(t.prototype,Object.getPrototypeOf(A)),Object.setPrototypeOf(A,t.prototype),A.playbackRate.value=s,t.init(A,null,i,n),A}super(a,{detune:y,playbackRate:s}),t.init(this,null,i,n)}set bufferSetter(n){this.buffer$.next(n)}ngOnDestroy(){this.buffer$.complete();try{this.stop()}catch(n){}this.disconnect()}static init(n,a,o,i){null!==o&&n.start();const u=new e.vpe;n.ended=u,n.onended=()=>u.emit(),n.buffer$=new q.x,n.buffer$.pipe((0,v.w)(c=>"string"==typeof c?i.fetch(c):(0,S.of)(c))).subscribe(c=>{n.buffer=c})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(D.L),e.Y36(_.N),e.Y36(Z.j),e.$8M("autoplay"),e.$8M("detune"),e.$8M("playbackRate"))},t.\u0275dir=e.lG2({type:t,selectors:[["","waAudioBufferSourceNode",""]],inputs:{loop:"loop",loopStart:"loopStart",loopEnd:"loopEnd",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",bufferSetter:["buffer","bufferSetter"],detuneParam:["detune","detuneParam"],playbackRateParam:["playbackRate","playbackRateParam"]},outputs:{ended:"ended"},exportAs:["AudioNode"],features:[e._Bn([{provide:p.K,useExisting:(0,e.Gpc)(()=>t)}]),e.qOj]}),(0,h.gn)([(0,C.v)("detune")],t.prototype,"detuneParam",void 0),(0,h.gn)([(0,C.v)("playbackRate")],t.prototype,"playbackRateParam",void 0),t})();var w=l(2725),N=l(4054),b=l(7969),Q=l(815),f=l(2568);let $=(()=>{class t extends AnalyserNode{constructor(n,a,o,i,u,c,y){const s=(0,g.Q)(i,2048),A=(0,g.Q)(u,-30),M=(0,g.Q)(c,-100),T=(0,g.Q)(y,.8);if(!o){const d=n.createAnalyser();return Object.setPrototypeOf(d,t.prototype),t.init(d,a),d.fftSize=s,d.maxDecibels=A,d.minDecibels=M,d.smoothingTimeConstant=T,d}super(n,{fftSize:s,maxDecibels:A,minDecibels:M,smoothingTimeConstant:T}),t.init(this,a)}ngOnDestroy(){this.disconnect()}static init(n,a){(0,f.$)(a,n);let o=new Uint8Array(n.frequencyBinCount),i=new Float32Array(n.frequencyBinCount),u=new Uint8Array(n.fftSize),c=new Float32Array(n.fftSize);n.frequencyByte$=(0,w.F)(0,N.Z).pipe((0,b.U)(()=>(o.length!==n.frequencyBinCount&&(o=new Uint8Array(n.frequencyBinCount)),n.getByteFrequencyData(o),o)),(0,Q.B)()),n.frequencyFloat$=(0,w.F)(0,N.Z).pipe((0,b.U)(()=>(i.length!==n.frequencyBinCount&&(i=new Float32Array(n.frequencyBinCount)),n.getFloatFrequencyData(i),i)),(0,Q.B)()),n.timeByte$=(0,w.F)(0,N.Z).pipe((0,b.U)(()=>(u.length!==n.fftSize&&(u=new Uint8Array(n.frequencyBinCount)),n.getByteTimeDomainData(u),u)),(0,Q.B)()),n.timeFloat$=(0,w.F)(0,N.Z).pipe((0,b.U)(()=>(c.length!==n.fftSize&&(c=new Float32Array(n.frequencyBinCount)),n.getFloatTimeDomainData(c),c)),(0,Q.B)())}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.N),e.Y36(p.K,4),e.Y36(Z.j),e.$8M("fftSize"),e.$8M("maxDecibels"),e.$8M("minDecibels"),e.$8M("smoothingTimeConstant"))},t.\u0275dir=e.lG2({type:t,selectors:[["","waAnalyserNode",""]],inputs:{fftSize:"fftSize",minDecibels:"minDecibels",maxDecibels:"maxDecibels",smoothingTimeConstant:"smoothingTimeConstant",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},outputs:{frequencyByte$:"frequencyByte$",frequencyFloat$:"frequencyFloat$",timeByte$:"timeByte$",timeFloat$:"timeFloat$"},exportAs:["AudioNode"],features:[e._Bn([{provide:p.K,useExisting:(0,e.Gpc)(()=>t)}]),e.qOj]}),t})();var W=l(47);let Y=(()=>{class t extends MediaElementAudioSourceNode{constructor(n,a,{nativeElement:o}){if(!a){const i=n.createMediaElementSource(o);return Object.setPrototypeOf(i,t.prototype),i}super(n,{mediaElement:o})}ngOnDestroy(){this.disconnect()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.N),e.Y36(Z.j),e.Y36(e.SBq))},t.\u0275dir=e.lG2({type:t,selectors:[["audio","waMediaElementAudioSourceNode",""],["video","waMediaElementAudioSourceNode",""]],exportAs:["AudioNode"],features:[e._Bn([{provide:p.K,useExisting:(0,e.Gpc)(()=>t)}]),e.qOj]}),t})();var E=l(5772),G=l(3555);function B(t){if(!t)return 0;if("number"==typeof t)return t;if(t instanceof Array){const r=t[t.length-1].value;return"number"==typeof r?r:r[r.length-1]}return t.value instanceof Array?t.value[t.value.length-1]:t.value}var j=l(4676);let k=(()=>{class t extends StereoPannerNode{constructor(n,a,o){const i=(0,g.Q)(o,0);try{new StereoPannerNode(n)}catch(u){const c=n.createPanner();return Object.setPrototypeOf(c,t.prototype),c.fallbackToPannerNode(B(i)),(0,f.$)(a,c),c}super(n,{pan:i}),(0,f.$)(a,this)}set panParam(n){"setPosition"in this?this.fallbackToPannerNode(B(n)):(0,j.Z)(this.pan,n,this.context.currentTime)}ngOnDestroy(){this.disconnect()}fallbackToPannerNode(n){const a=100*n,o=a>0?270-a:a+90,i=Math.sin(a*(Math.PI/180)),u=Math.sin(o*(Math.PI/180));this.setPosition(i,0,u)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.N),e.Y36(p.K,4),e.$8M("pan"))},t.\u0275dir=e.lG2({type:t,selectors:[["","waStereoPannerNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",panParam:["pan","panParam"]},exportAs:["AudioNode"],features:[e._Bn([{provide:p.K,useExisting:(0,e.Gpc)(()=>t)}]),e.qOj]}),t})(),H=(()=>{class t extends DelayNode{constructor(n,a,o,i,u){const c=(0,g.Q)(i,0),y=(0,g.Q)(u,1);if(!o){const s=n.createDelay(y);return Object.setPrototypeOf(s,t.prototype),(0,f.$)(a,s),s.delayTime.value=c,s}super(n,{delayTime:c,maxDelayTime:y}),(0,f.$)(a,this)}ngOnDestroy(){this.disconnect()}static init(n,a){(0,f.$)(a,n)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.N),e.Y36(p.K,4),e.Y36(Z.j),e.$8M("delayTime"),e.$8M("maxDelayTime"))},t.\u0275dir=e.lG2({type:t,selectors:[["","waDelayNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",delayTimeParam:["delayTime","delayTimeParam"]},exportAs:["AudioNode"],features:[e._Bn([{provide:p.K,useExisting:(0,e.Gpc)(()=>t)}]),e.qOj]}),(0,h.gn)([(0,C.v)("delayTime")],t.prototype,"delayTimeParam",void 0),t})(),I=(()=>{class t extends BiquadFilterNode{constructor(n,a,o,i,u,c,y){const s=(0,g.Q)(i,0),A=(0,g.Q)(u,350),M=(0,g.Q)(c,0),T=(0,g.Q)(y,1);if(!a){const d=n.createBiquadFilter();return Object.setPrototypeOf(d,t.prototype),d.detune.value=s,d.frequency.value=A,d.gain.value=M,d.Q.value=T,(0,f.$)(o,d),d}super(n,{detune:s,frequency:A,gain:M,Q:T}),(0,f.$)(o,this)}ngOnDestroy(){this.disconnect()}static init(n,a){(0,f.$)(a,n)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.N),e.Y36(Z.j),e.Y36(p.K,4),e.$8M("detune"),e.$8M("frequency"),e.$8M("gain"),e.$8M("Q"))},t.\u0275dir=e.lG2({type:t,selectors:[["","waBiquadFilterNode",""]],inputs:{type:"type",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",detuneParam:["detune","detuneParam"],frequencyParam:["frequency","frequencyParam"],gainParam:["gain","gainParam"],qParam:["Q","qParam"]},exportAs:["AudioNode"],features:[e._Bn([{provide:p.K,useExisting:(0,e.Gpc)(()=>t)}]),e.qOj]}),(0,h.gn)([(0,C.v)("detune")],t.prototype,"detuneParam",void 0),(0,h.gn)([(0,C.v)("frequency")],t.prototype,"frequencyParam",void 0),(0,h.gn)([(0,C.v)("gain")],t.prototype,"gainParam",void 0),(0,h.gn)([(0,C.v)("Q")],t.prototype,"qParam",void 0),t})(),z=(()=>{class t extends WaveShaperNode{constructor(n,a,o){if(!o){const i=n.createWaveShaper();return Object.setPrototypeOf(i,t.prototype),(0,f.$)(a,i),i}super(n),(0,f.$)(a,this)}ngOnDestroy(){this.disconnect()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.N),e.Y36(p.K,4),e.Y36(Z.j))},t.\u0275dir=e.lG2({type:t,selectors:[["","waWaveShaperNode",""]],inputs:{oversample:"oversample",curve:"curve",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},exportAs:["AudioNode"],features:[e._Bn([{provide:p.K,useExisting:(0,e.Gpc)(()=>t)}]),e.qOj]}),t})();var K=l(6667);let L=(()=>{class t{constructor(n){this.context=n}transform(n,a,o){return this.context.createPeriodicWave(new Float32Array(n),a?new Float32Array(a):new Float32Array(n.length),{disableNormalization:!!o})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.N,16))},t.\u0275pipe=e.Yjl({name:"waPeriodicWave",type:t,pure:!0}),t})(),R=(()=>{class t{transform(n,a,o="exponential"){return n instanceof Array?{value:n,duration:a}:{value:n,duration:a,mode:o}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=e.Yjl({name:"waAudioParam",type:t,pure:!0}),t})();const X=["chain"];function V(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){return e.CHM(n),e.oxw().start()}),e._uU(1," Start AudioContext\n"),e.qZA()}}function ee(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",16,17),e.NdJ("click",function(o){e.CHM(n);const i=e.MAs(1);return e.oxw(3).onClick(i,o.target)}),e._uU(2," Play "),e.ynx(3,18),e.NdJ("timeByte$",function(o){e.CHM(n),e.oxw(2);const i=e.MAs(34);return e.oxw().onTimeDomain(o,i)}),e.GkF(4,19),e.BQk(),e.qZA()}if(2&t){e.oxw(2);const n=e.MAs(33),a=e.oxw();e.Q6J("loop",!0),e.xp6(4),e.Q6J("waOutput",a.chain||n)}}function ne(t,r){if(1&t&&(e.ynx(0),e.YNc(1,ee,5,2,"button",15),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.buffers)}}function te(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"audio",20),e.ynx(1,18),e.NdJ("timeByte$",function(o){e.CHM(n),e.oxw();const i=e.MAs(34);return e.oxw().onTimeDomain(o,i)}),e.GkF(2,19),e.BQk(),e.qZA()}if(2&t){e.oxw();const n=e.MAs(33),a=e.oxw();e.xp6(2),e.Q6J("waOutput",a.chain||n)}}function oe(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"button",22,17),e.NdJ("click",function(o){e.CHM(n);const i=e.MAs(1);return e.oxw(3).onClick(i,o.target)}),e.ALo(2,"waPeriodicWave"),e._uU(3," Play "),e.ynx(4,18),e.NdJ("timeByte$",function(o){e.CHM(n),e.oxw(2);const i=e.MAs(34);return e.oxw().onTimeDomain(o,i)}),e.GkF(5,19),e.BQk(),e.qZA()}if(2&t){e.oxw(2);const n=e.MAs(33),a=e.oxw();e.Q6J("frequency",100)("periodicWave",e.lcZ(2,3,a.real)),e.xp6(5),e.Q6J("waOutput",a.chain||n)}}function ae(t,r){if(1&t&&(e.ynx(0),e.YNc(1,oe,6,5,"button",21),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.buffers)}}function ie(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"fieldset",23,24),e.ALo(3,"waAudioParam"),e.TgZ(4,"legend"),e._uU(5,"GainNode"),e.qZA(),e.TgZ(6,"input",25),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw(2).gain=o}),e.qZA(),e.TgZ(7,"fieldset",26),e.ALo(8,"waAudioParam"),e.TgZ(9,"legend"),e._uU(10,"StereoPannerNode"),e.qZA(),e.TgZ(11,"input",27),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw(2).pan=o}),e.qZA(),e.TgZ(12,"fieldset",9),e.TgZ(13,"legend"),e._uU(14,"AudioDestinationNode"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("gain",e.xi3(3,4,n.gain,.1)),e.xp6(5),e.Q6J("ngModel",n.gain),e.xp6(1),e.Q6J("pan",e.xi3(8,7,n.pan,.1)),e.xp6(4),e.Q6J("ngModel",n.pan)}}function re(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"fieldset",23,24),e.ALo(3,"waAudioParam"),e.TgZ(4,"legend"),e._uU(5,"GainNode"),e.qZA(),e.TgZ(6,"em"),e._uU(7,"For feedback loop purposes only"),e.qZA(),e.TgZ(8,"fieldset",28),e.ALo(9,"waAudioParam"),e.TgZ(10,"legend"),e._uU(11,"DelayNode"),e.qZA(),e.TgZ(12,"input",25),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw(2).delayTime=o}),e.qZA(),e.TgZ(13,"fieldset",23),e.TgZ(14,"legend"),e._uU(15,"GainNode"),e.qZA(),e.TgZ(16,"input",25),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw(2).delayGain=o}),e.qZA(),e.TgZ(17,"fieldset",19),e.TgZ(18,"legend"),e._uU(19,"Output"),e.qZA(),e.TgZ(20,"em"),e._uU(21," Connected back to the beginning of the chain "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"fieldset",9),e.TgZ(23,"legend"),e._uU(24,"AudioDestinationNode"),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&t){const n=e.MAs(2),a=e.oxw(2);e.xp6(1),e.Q6J("gain",e.xi3(3,6,a.gain,.1)),e.xp6(7),e.Q6J("delayTime",e.xi3(9,9,a.delayTime,.1)),e.xp6(4),e.Q6J("ngModel",a.delayTime),e.xp6(1),e.Q6J("gain",a.delayGain),e.xp6(3),e.Q6J("ngModel",a.delayGain),e.xp6(1),e.Q6J("waOutput",n)}}function le(t,r){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"fieldset",29,24),e.ALo(3,"waAudioParam"),e.ALo(4,"waAudioParam"),e.ALo(5,"waAudioParam"),e.ALo(6,"waAudioParam"),e.TgZ(7,"legend"),e._uU(8,"BiquadFilterNode"),e.qZA(),e.TgZ(9,"label"),e.TgZ(10,"select",30),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw(2).type=o}),e.TgZ(11,"option",31),e._uU(12,"lowpass"),e.qZA(),e.TgZ(13,"option",32),e._uU(14,"highpass"),e.qZA(),e.TgZ(15,"option",33),e._uU(16,"bandpass"),e.qZA(),e.TgZ(17,"option",34),e._uU(18,"lowshelf"),e.qZA(),e.TgZ(19,"option",35),e._uU(20,"highshelf"),e.qZA(),e.TgZ(21,"option",36),e._uU(22,"peaking"),e.qZA(),e.TgZ(23,"option",37),e._uU(24,"notch"),e.qZA(),e.TgZ(25,"option",38),e._uU(26,"allpass"),e.qZA(),e.qZA(),e.TgZ(27,"code"),e._uU(28,"type"),e.qZA(),e.qZA(),e.TgZ(29,"label"),e.TgZ(30,"input",25),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw(2).filterGain=o}),e.qZA(),e.TgZ(31,"code"),e._uU(32,"gain"),e.qZA(),e.qZA(),e.TgZ(33,"label"),e.TgZ(34,"input",39),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw(2).frequency=o}),e.qZA(),e.TgZ(35,"code"),e._uU(36,"frequency"),e.qZA(),e.qZA(),e.TgZ(37,"label"),e.TgZ(38,"input",40),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw(2).Q=o}),e.qZA(),e.TgZ(39,"code"),e._uU(40,"Q"),e.qZA(),e.qZA(),e.TgZ(41,"label"),e.TgZ(42,"input",41),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw(2).detune=o}),e.qZA(),e.TgZ(43,"code"),e._uU(44,"detune"),e.qZA(),e.qZA(),e.TgZ(45,"fieldset",42),e.TgZ(46,"legend"),e._uU(47,"WaveShaperNode"),e.qZA(),e.TgZ(48,"input",43),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw(2).onCurveChange(o)}),e.qZA(),e.ynx(49,23),e.ALo(50,"waAudioParam"),e.TgZ(51,"fieldset",44),e.TgZ(52,"legend"),e._uU(53,"ConvolverNode"),e.qZA(),e.TgZ(54,"fieldset",9),e.TgZ(55,"legend"),e._uU(56,"AudioDestinationNode"),e.qZA(),e.qZA(),e.qZA(),e.BQk(),e.qZA(),e.qZA(),e.BQk()}if(2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("type",n.type)("gain",e.xi3(3,13,n.filterGain,.1))("frequency",e.xi3(4,16,n.frequency,.1))("Q",e.xi3(5,19,n.Q,.1))("detune",e.xi3(6,22,n.detune,.1)),e.xp6(9),e.Q6J("ngModel",n.type),e.xp6(20),e.Q6J("ngModel",n.filterGain),e.xp6(4),e.Q6J("ngModel",n.frequency),e.xp6(4),e.Q6J("ngModel",n.Q),e.xp6(4),e.Q6J("ngModel",n.detune),e.xp6(3),e.Q6J("curve",n.curve),e.xp6(3),e.Q6J("ngModel",n.distortion),e.xp6(1),e.Q6J("gain",e.xi3(50,25,n.distortionCompensation,.1))}}function ce(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"section"),e.TgZ(1,"h1"),e._uU(2,"Description"),e.qZA(),e.TgZ(3,"p"),e._uU(4," This is a demo for "),e.TgZ(5,"code"),e.TgZ(6,"em"),e._uU(7,"@ng-web-apis/audio"),e.qZA(),e.qZA(),e._uU(8," \u2014 a Web Audio API declarative library for Angular. Here you can select different audio source options and see AudioNode graph for selected configuration. Demo page uses HTML elements as directives hosts, in real life scenario you can use "),e.TgZ(9,"code"),e._uU(10,"ng-container"),e.qZA(),e._uU(11," so you will not have redundant DOM tags. "),e.qZA(),e.qZA(),e.TgZ(12,"section"),e.TgZ(13,"h1"),e._uU(14,"Source"),e.qZA(),e.TgZ(15,"p"),e.TgZ(16,"label"),e.TgZ(17,"input",3),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().selectedSource=o}),e.qZA(),e._uU(18," AudioBufferSourceNode "),e.qZA(),e.qZA(),e.TgZ(19,"p"),e.TgZ(20,"label"),e.TgZ(21,"input",4),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().selectedSource=o}),e.qZA(),e._uU(22," MediaElementAudioSourceNode "),e.qZA(),e.qZA(),e.TgZ(23,"p"),e.TgZ(24,"label"),e.TgZ(25,"input",5),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().selectedSource=o}),e.qZA(),e._uU(26," OscillatorNode "),e.qZA(),e.qZA(),e.ynx(27,6),e.YNc(28,ne,2,1,"ng-container",7),e.YNc(29,te,3,1,"audio",8),e.YNc(30,ae,2,1,"ng-container",7),e.BQk(),e.TgZ(31,"p"),e._UZ(32,"canvas",9,10),e.qZA(),e.qZA(),e.TgZ(35,"section"),e.TgZ(36,"h1"),e._uU(37,"Chain"),e.qZA(),e.TgZ(38,"p"),e.TgZ(39,"label"),e.TgZ(40,"input",11),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().selectedChain=o}),e.qZA(),e._uU(41," Dry "),e.qZA(),e.qZA(),e.TgZ(42,"p"),e.TgZ(43,"label"),e.TgZ(44,"input",12),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().selectedChain=o}),e.qZA(),e._uU(45," Balance "),e.qZA(),e.qZA(),e.TgZ(46,"p"),e.TgZ(47,"label"),e.TgZ(48,"input",13),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().selectedChain=o}),e.qZA(),e._uU(49," Delay "),e.qZA(),e.qZA(),e.TgZ(50,"p"),e.TgZ(51,"label"),e.TgZ(52,"input",14),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().selectedChain=o}),e.qZA(),e._uU(53," Complex "),e.qZA(),e.qZA(),e.ynx(54,6),e.YNc(55,ie,15,10,"ng-container",7),e.YNc(56,re,25,12,"ng-container",7),e.YNc(57,le,57,28,"ng-container",7),e.BQk(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(17),e.Q6J("ngModel",n.selectedSource),e.xp6(4),e.Q6J("ngModel",n.selectedSource),e.xp6(4),e.Q6J("ngModel",n.selectedSource),e.xp6(2),e.Q6J("ngSwitch",n.selectedSource),e.xp6(1),e.Q6J("ngSwitchCase","buffer"),e.xp6(1),e.Q6J("ngSwitchCase","media"),e.xp6(1),e.Q6J("ngSwitchCase","oscillator"),e.xp6(10),e.Q6J("ngModel",n.selectedChain),e.xp6(4),e.Q6J("ngModel",n.selectedChain),e.xp6(4),e.Q6J("ngModel",n.selectedChain),e.xp6(4),e.Q6J("ngModel",n.selectedChain),e.xp6(2),e.Q6J("ngSwitch",n.selectedChain),e.xp6(1),e.Q6J("ngSwitchCase","balance"),e.xp6(1),e.Q6J("ngSwitchCase","delay"),e.xp6(1),e.Q6J("ngSwitchCase","complex")}}let ue=(()=>{class t{constructor(n){this.context=n,this.buffers=[Date.now()],this.selectedChain="dry",this.selectedSource="buffer",this.gain=1,this.pan=0,this.delayTime=1,this.delayGain=.5,this.distortion=20,this.frequency=350,this.detune=0,this.filterGain=0,this.Q=1,this.type="lowpass",this.curve=F(this.distortion),this.started=!1,this.real=[0,0,1,0,1]}get distortionCompensation(){return 1.2-this.distortion/20}start(){this.started=!0,this.context.resume()}onCurveChange(n){this.distortion=n,this.curve=F(n)}onClick(n,a){"Play"===a.textContent.trim()?(a.textContent="Stop",n.start()):this.buffers[0]=Date.now()}onTimeDomain(n,a){const o=a.getContext("2d");if(!o)return;o.fillStyle="rgb(200, 200, 200)",o.fillRect(0,0,a.width,a.height),o.lineWidth=2,o.strokeStyle="rgb(0, 0, 0)",o.beginPath();const i=Number(a.width)/n.length;let u=0;for(let c=0;c<n.length;c++){const s=n[c]/128*a.height/2;0===c?o.moveTo(u,s):o.lineTo(u,s),u+=i}o.lineTo(a.width,a.height/2),o.stroke()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.N))},t.\u0275cmp=e.Xpm({type:t,selectors:[["audio-page"]],viewQuery:function(n,a){if(1&n&&e.Gf(X,5),2&n){let o;e.iGM(o=e.CRH())&&(a.chain=o.first)}},decls:3,vars:2,consts:[[3,"click",4,"ngIf","ngIfElse"],["graph",""],[3,"click"],["type","radio","value","buffer","name","source",3,"ngModel","ngModelChange"],["type","radio","value","media","name","source",3,"ngModel","ngModelChange"],["type","radio","value","oscillator","name","source",3,"ngModel","ngModelChange"],[3,"ngSwitch"],[4,"ngSwitchCase"],["waMediaElementAudioSourceNode","","src","assets/demo.mp3","loop","","controls","",4,"ngSwitchCase"],["waAudioDestinationNode",""],["fallback","AudioNode","canvas",""],["type","radio","name","chain","value","dry",3,"ngModel","ngModelChange"],["type","radio","name","chain","value","balance",3,"ngModel","ngModelChange"],["type","radio","name","chain","value","delay",3,"ngModel","ngModelChange"],["type","radio","name","chain","value","complex",3,"ngModel","ngModelChange"],["waAudioBufferSourceNode","","buffer","assets/demo.mp3",3,"loop","click",4,"ngFor","ngForOf"],["waAudioBufferSourceNode","","buffer","assets/demo.mp3",3,"loop","click"],["source","AudioNode"],["waAnalyserNode","",3,"timeByte$"],[3,"waOutput"],["waMediaElementAudioSourceNode","","src","assets/demo.mp3","loop","","controls",""],["waOscillatorNode","",3,"frequency","periodicWave","click",4,"ngFor","ngForOf"],["waOscillatorNode","",3,"frequency","periodicWave","click"],["waGainNode","",3,"gain"],["chain","AudioNode"],["type","range","min","0","max","1","step","0.01",3,"ngModel","ngModelChange"],["waStereoPannerNode","",3,"pan"],["type","range","min","-1","max","1","step","0.01",3,"ngModel","ngModelChange"],["waDelayNode","",3,"delayTime"],["waBiquadFilterNode","",3,"type","gain","frequency","Q","detune"],[3,"ngModel","ngModelChange"],["value","lowpass"],["value","highpass"],["value","bandpass"],["value","lowshelf"],["value","highshelf"],["value","peaking"],["value","notch"],["value","allpass"],["type","range","min","20","max","5000",3,"ngModel","ngModelChange"],["type","range","min","1","max","100",3,"ngModel","ngModelChange"],["type","range","min","0","max","100",3,"ngModel","ngModelChange"],["waWaveShaperNode","","oversample","4x",3,"curve"],["type","range","min","0","max","20","step","0.1",3,"ngModel","ngModelChange"],["waConvolverNode","","buffer","assets/response.m4a"]],template:function(n,a){if(1&n&&(e.YNc(0,V,2,0,"button",0),e.YNc(1,ce,58,15,"ng-template",null,1,e.W1O)),2&n){const o=e.MAs(2);e.Q6J("ngIf",!a.started)("ngIfElse",o)}},directives:[x.O5,m._,m.Fj,m.JJ,m.On,x.RF,x.n9,J.i,x.sg,O,$,W.g,Y,E.P,G.z,m.eT,k,H,I,m.EJ,m.YN,m.Kr,z,K.g],pipes:[L,R],encapsulation:2,changeDetection:0}),t})();function F(t){const r=44100,n=new Float32Array(r),a=Math.PI/180;for(let o=0;o<r;++o){const i=2*o/r-1;n[o]=(3+t)*i*20*a/(Math.PI+t*Math.abs(i))}return n}var se=l(3279),de=l(3672);let ge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[x.ez,m.u5,de.O,se.Bz.forChild([{path:"",component:ue}])]]}),t})()},5184:(U,P,l)=>{l.d(P,{n:()=>x});var _=l(2085),e=l(8499);function x(m){return(0,_.e)((J,h)=>{let q=!1,S=0;J.subscribe(new e.Q(h,v=>(q||(q=!m(v,S++)))&&h.next(v)))})}}}]);