"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[946],{21946:(U,l,s)=>{s.r(l),s.d(l,{PermissionsPageModule:()=>C});var r=s(88692),m=s(22864),g=s(16098),h=s(73930),p=s(13237),d=s(54121),u=s(84945),v=s(98168),f=s(33568),e=s(64537);function Z(o,n){if(1&o&&(e.TgZ(0,"div"),e._uU(1," Unfortunately we could not show what the code snippet above would render due to an error: "),e._UZ(2,"br"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&o){const t=n.ngIf;e.xp6(4),e.Oqu(t)}}function S(o,n){if(1&o&&(e.TgZ(0,"div")(1,"p"),e._uU(2,"The sample above would render the following:"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"h2",2),e._uU(5),e.qZA(),e._UZ(6,"hr"),e.TgZ(7,"p"),e._uU(8,"Go ahead and change your browser Location permission as shown below to see this change reflected above."),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"img",3),e.qZA()()),2&o){const t=n.ngIf;e.xp6(5),e.hij("Geolocation state: ",t,"")}}let y=(()=>{var o;class n{constructor(i,a){this.permissionsService=i,this.navigator=a,this.error$=new d.X(null),this.basicSample="import { PermissionsService } from '@ng-web-apis/permissions';\n\n@Component({\n  selector: 'main',\n  template: `\n    <h2>Geolocation state: {{ geolocationState$ | async }}</h2>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AppComponent {\n  geolocationState$ = this.permissionsService.state('geolocation');\n\n  constructor(\n    private readonly permissionsService: PermissionsService,\n  ) {}\n}\n",this.geolocationState$=this.permissionsService.state("geolocation").pipe((0,v.b)(c=>{"prompt"===c&&(alert("After you acknowledge this message the browser will ask your permission to allow location access!"),this.navigator.geolocation.getCurrentPosition(()=>{}))}),(0,f.K)(c=>(this.error$.next(c.message),(0,u.of)(null))))}}return(o=n).\u0275fac=function(i){return new(i||o)(e.Y36(p.qQ),e.Y36(h.s5))},o.\u0275cmp=e.Xpm({type:o,selectors:[["permissions-page"]],decls:10,vars:7,consts:[[3,"highlight"],[4,"ngIf"],[1,"align-center"],["alt","Click on 'View site information' icon next to the address bar and change selected permission for Location","src","assets/change-permissions-instructions.jpg"]],template:function(i,a){1&i&&(e._uU(0,"The following example shows basic usage of\n"),e.TgZ(1,"code"),e._uU(2,"PermissionsService"),e.qZA(),e._uU(3,"\n: "),e.TgZ(4,"pre"),e._UZ(5,"code",0),e.qZA(),e.YNc(6,Z,5,1,"div",1),e.ALo(7,"async"),e.YNc(8,S,11,1,"div",1),e.ALo(9,"async")),2&i&&(e.xp6(5),e.Q6J("highlight",a.basicSample),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,3,a.error$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(9,5,a.geolocationState$)))},dependencies:[r.O5,g.y$,r.Ov],styles:["[_nghost-%COMP%]{display:block;max-width:600px;margin:0 auto}"],changeDetection:0}),n})(),C=(()=>{var o;class n{}return(o=n).\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[r.ez,g._l,m.Bz.forChild([{path:"",component:y}])]}),n})()}}]);