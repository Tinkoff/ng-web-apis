"use strict";(self.webpackChunkng_web_apis=self.webpackChunkng_web_apis||[]).push([[53],{5053:(R,P,s)=>{s.r(P),s.d(P,{CanvasPageModule:()=>G});var e=s(4788),m=s(1422),M=s(2176);const _=new e.OlP("Canvas 2D rendering context"),o=new e.OlP("A directive performing processing before and after drawing to canvas",{factory:()=>[]});let c=(()=>{class t{constructor(i,n,T,l){this.call=()=>{},this.subscription=l.runOutsideAngular(()=>T.subscribe(()=>{n.save(),i.forEach(r=>r.call(n)),this.call(n),n.restore()}))}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(o),e.LFG(_),e.LFG(M.L1),e.LFG(e.R0b))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();function u({nativeElement:t},a=t.getAttribute("waOpaque"),i=t.getAttribute("waDesynchronized")){const n=t.getContext("2d",{alpha:null===a,desynchronized:null!==i});if(!n)throw new Error("Context of different type was already requested");return n}let g=(()=>{class t{constructor(i,n,T,l){i.strokeStyle="transparent",n.call=r=>{r.clearRect(0,0,r.canvas.width,r.canvas.height)}}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(_),e.Y36(c),e.$8M("opaque"),e.$8M("desynchronized"))},t.\u0275dir=e.lG2({type:t,selectors:[["canvas","waCanvas2d",""]],features:[e._Bn([{provide:_,deps:[e.SBq],useFactory:u},c])]}),t})(),d=(()=>{class t{constructor(i){this.dX=0,this.dY=0,i.call=n=>{!this.image||(void 0!==this.sWidth&&void 0!==this.sHeight&&void 0!==this.sX&&void 0!==this.sY&&void 0!==this.dWidth&&void 0!==this.dHeight?n.drawImage(this.image,this.sX,this.sY,this.sWidth,this.sHeight,this.dX,this.dY,this.dWidth,this.dHeight):void 0!==this.dWidth&&void 0!==this.dHeight?n.drawImage(this.image,this.dX,this.dY,this.dWidth,this.dHeight):n.drawImage(this.image,this.dX,this.dY))}}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(c))},t.\u0275dir=e.lG2({type:t,selectors:[["canvas-draw-image"]],inputs:{image:"image",dX:"dX",dY:"dY",dWidth:"dWidth",dHeight:"dHeight",sX:"sX",sY:"sY",sWidth:"sWidth",sHeight:"sHeight"},features:[e._Bn([c])]}),t})();const p=new e.OlP("A directive that draws on canvas");let v=(()=>{class t{constructor(i){this.closed=!1,this.pathSteps=new e.n_E,i.call=n=>{n.beginPath(),this.pathSteps.forEach(T=>{T.call(n)}),this.closed&&n.closePath(),n.stroke(),n.fill(this.fillRule)}}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(c))},t.\u0275dir=e.lG2({type:t,selectors:[["canvas-path",3,"path",""]],contentQueries:function(i,n,T){if(1&i&&e.Suo(T,p,4),2&i){let l;e.iGM(l=e.CRH())&&(n.pathSteps=l)}},inputs:{closed:"closed",fillRule:"fillRule"},features:[e._Bn([c])]}),t})(),f=(()=>{class t{constructor(){this.fillStyle="black",this.strokeStyle="transparent"}call(i){i.fillStyle=this.fillStyle,i.strokeStyle=this.strokeStyle}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=e.lG2({type:t,selectors:[["canvas-path","fillStyle",""],["canvas-path","strokeStyle",""],["canvas-text","fillStyle",""],["canvas-text","strokeStyle",""]],inputs:{fillStyle:"fillStyle",strokeStyle:"strokeStyle"},features:[e._Bn([{provide:o,useExisting:t,multi:!0}])]}),t})(),y=(()=>{class t{constructor(){this.x=0,this.y=0,this.width=0,this.height=0}call(i){i.rect(this.x,this.y,this.width,this.height)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=e.lG2({type:t,selectors:[["canvas-rect"]],inputs:{x:"x",y:"y",width:"width",height:"height"},features:[e._Bn([{provide:p,useExisting:(0,e.Gpc)(()=>t)}])]}),t})(),D=(()=>{class t{constructor(){this.globalAlpha=1,this.globalCompositeOperation="source-over"}call(i){i.globalAlpha=this.globalAlpha,i.globalCompositeOperation=this.globalCompositeOperation}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=e.lG2({type:t,selectors:[["canvas-draw-image","globalAlpha",""],["canvas-draw-image","globalCompositeOperation",""],["canvas-path","globalAlpha",""],["canvas-path","globalCompositeOperation",""],["canvas-text","globalAlpha",""],["canvas-text","globalCompositeOperation",""]],inputs:{globalAlpha:"globalAlpha",globalCompositeOperation:"globalCompositeOperation"},features:[e._Bn([{provide:o,useExisting:t,multi:!0}])]}),t})(),h=(()=>{class t{constructor(){this.shadowBlur=0,this.shadowColor="transparent",this.shadowOffsetX=0,this.shadowOffsetY=0}call(i){i.shadowBlur=this.shadowBlur,i.shadowColor=this.shadowColor,i.shadowOffsetX=this.shadowOffsetX,i.shadowOffsetY=this.shadowOffsetY}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=e.lG2({type:t,selectors:[["canvas-draw-image","shadowBlur",""],["canvas-draw-image","shadowColor",""],["canvas-draw-image","shadowOffsetX",""],["canvas-draw-image","shadowOffsetY",""],["canvas-path","shadowBlur",""],["canvas-path","shadowColor",""],["canvas-path","shadowOffsetX",""],["canvas-path","shadowOffsetY",""],["canvas-text","shadowBlur",""],["canvas-text","shadowColor",""],["canvas-text","shadowOffsetX",""],["canvas-text","shadowOffsetY",""]],inputs:{shadowBlur:"shadowBlur",shadowColor:"shadowColor",shadowOffsetX:"shadowOffsetX",shadowOffsetY:"shadowOffsetY"},features:[e._Bn([{provide:o,useExisting:t,multi:!0}])]}),t})(),w=(()=>{class t{constructor(){this.x=0,this.y=0,this.radius=0,this.startAngle=0,this.endAngle=0,this.anticlockwise=!1}call(i){i.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=e.lG2({type:t,selectors:[["canvas-arc"]],inputs:{x:"x",y:"y",radius:"radius",startAngle:"startAngle",endAngle:"endAngle",anticlockwise:"anticlockwise"},features:[e._Bn([{provide:p,useExisting:(0,e.Gpc)(()=>t)}])]}),t})(),A=(()=>{class t{constructor(){this.x=0,this.y=0}call(i){i.lineTo(this.x,this.y)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=e.lG2({type:t,selectors:[["canvas-line-to"]],inputs:{x:"x",y:"y"},features:[e._Bn([{provide:p,useExisting:(0,e.Gpc)(()=>t)}])]}),t})(),Z=(()=>{class t{constructor(i){this.text="",this.x=0,this.y=0,i.call=n=>{n.fillText(this.text,this.x,this.y,this.maxWidth),n.strokeText(this.text,this.x,this.y,this.maxWidth)}}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(c))},t.\u0275dir=e.lG2({type:t,selectors:[["canvas-text"]],inputs:{text:"text",x:"x",y:"y",maxWidth:"maxWidth"},features:[e._Bn([c])]}),t})(),S=(()=>{class t{constructor(){this.direction="inherit",this.font="10px sans-serif",this.textAlign="start",this.textBaseline="alphabetic"}call(i){i.direction=this.direction,i.font=this.font,i.textAlign=this.textAlign,i.textBaseline=this.textBaseline}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=e.lG2({type:t,selectors:[["canvas-text","direction",""],["canvas-text","font",""],["canvas-text","textAlign",""],["canvas-text","textBaseline",""]],inputs:{direction:"direction",font:"font",textAlign:"textAlign",textBaseline:"textBaseline"},features:[e._Bn([{provide:o,useExisting:t,multi:!0}])]}),t})(),O=(()=>{class t{transform(i){return i*Math.PI/180}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=e.Yjl({name:"rad",type:t,pure:!0}),t})(),x=(()=>{class t{constructor(){this.x1=20,this.y1=20,this.w1=100,this.h1=50,this.c1="#ff0000",this.x2=50,this.y2=50,this.w2=100,this.h2=50,this.c2="#00ff00",this.dX=0,this.dY=0,this.dWidth=100,this.dHeight=100,this.globalCompositeOperation="source-over",this.mouth=30,this.blur=0,this.offset=0,this.font='bold 40px "Lucida Bright"',this.text="PAC-MAN",this.color="#ffa500",this.image=new Image,this.image.onload=()=>{URL.revokeObjectURL(this.image.src)}}onFile(i){i.files&&(this.image.src=URL.createObjectURL(i.files[0]))}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["audio-page"]],decls:118,vars:56,consts:[["for","file"],["id","file","type","file","accept","image/*",3,"input"],["file",""],["type","range","min","0","max","300",3,"ngModel","ngModelChange"],["type","range","min","0","max","150",3,"ngModel","ngModelChange"],["type","color",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["ngValue","source-over"],["ngValue","multiply"],["ngValue","screen"],["waCanvas2d",""],[3,"image","dX","dY","dWidth","dHeight"],[3,"fillStyle"],[3,"x","y","width","height"],[3,"fillStyle","globalCompositeOperation"],["type","range","min","0.01","max","45",3,"ngModel","ngModelChange"],["type","range","min","0","max","10",3,"ngModel","ngModelChange"],["type","text",3,"ngModel","ngModelChange"],["fillStyle","gold","shadowColor","grey",3,"shadowBlur","shadowOffsetY"],[3,"x","y","radius","startAngle","endAngle"],[3,"x","y"],[3,"fillStyle","maxWidth","text","font","x","y"]],template:function(i,n){if(1&i){const T=e.EpF();e.TgZ(0,"h2"),e._uU(1,"Basic example"),e.qZA(),e.TgZ(2,"section"),e.TgZ(3,"fieldset"),e.TgZ(4,"label",0),e._uU(5,"Image:"),e.qZA(),e.TgZ(6,"input",1,2),e.NdJ("input",function(){e.CHM(T);const r=e.MAs(7);return n.onFile(r)}),e.qZA(),e.TgZ(8,"label"),e.TgZ(9,"span"),e._uU(10,"dX:"),e.qZA(),e.TgZ(11,"input",3),e.NdJ("ngModelChange",function(r){return n.dX=r}),e.qZA(),e.qZA(),e.TgZ(12,"label"),e.TgZ(13,"span"),e._uU(14,"dY:"),e.qZA(),e.TgZ(15,"input",4),e.NdJ("ngModelChange",function(r){return n.dY=r}),e.qZA(),e.qZA(),e.TgZ(16,"label"),e.TgZ(17,"span"),e._uU(18,"dWidth:"),e.qZA(),e.TgZ(19,"input",3),e.NdJ("ngModelChange",function(r){return n.dWidth=r}),e.qZA(),e.qZA(),e.TgZ(20,"label"),e.TgZ(21,"span"),e._uU(22,"dHeight:"),e.qZA(),e.TgZ(23,"input",4),e.NdJ("ngModelChange",function(r){return n.dHeight=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"fieldset"),e.TgZ(25,"label"),e.TgZ(26,"span"),e._uU(27,"x:"),e.qZA(),e.TgZ(28,"input",3),e.NdJ("ngModelChange",function(r){return n.x1=r}),e.qZA(),e.qZA(),e.TgZ(29,"label"),e.TgZ(30,"span"),e._uU(31,"y:"),e.qZA(),e.TgZ(32,"input",4),e.NdJ("ngModelChange",function(r){return n.y1=r}),e.qZA(),e.qZA(),e.TgZ(33,"label"),e.TgZ(34,"span"),e._uU(35,"width:"),e.qZA(),e.TgZ(36,"input",3),e.NdJ("ngModelChange",function(r){return n.w1=r}),e.qZA(),e.qZA(),e.TgZ(37,"label"),e.TgZ(38,"span"),e._uU(39,"height:"),e.qZA(),e.TgZ(40,"input",4),e.NdJ("ngModelChange",function(r){return n.h1=r}),e.qZA(),e.qZA(),e.TgZ(41,"label"),e.TgZ(42,"span"),e._uU(43,"color:"),e.qZA(),e.TgZ(44,"input",5),e.NdJ("ngModelChange",function(r){return n.c1=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"fieldset"),e.TgZ(46,"label"),e.TgZ(47,"span"),e._uU(48,"x:"),e.qZA(),e.TgZ(49,"input",3),e.NdJ("ngModelChange",function(r){return n.x2=r}),e.qZA(),e.qZA(),e.TgZ(50,"label"),e.TgZ(51,"span"),e._uU(52,"y:"),e.qZA(),e.TgZ(53,"input",4),e.NdJ("ngModelChange",function(r){return n.y2=r}),e.qZA(),e.qZA(),e.TgZ(54,"label"),e.TgZ(55,"span"),e._uU(56,"width:"),e.qZA(),e.TgZ(57,"input",3),e.NdJ("ngModelChange",function(r){return n.w2=r}),e.qZA(),e.qZA(),e.TgZ(58,"label"),e.TgZ(59,"span"),e._uU(60,"height:"),e.qZA(),e.TgZ(61,"input",4),e.NdJ("ngModelChange",function(r){return n.h2=r}),e.qZA(),e.qZA(),e.TgZ(62,"label"),e.TgZ(63,"span"),e._uU(64,"color:"),e.qZA(),e.TgZ(65,"input",5),e.NdJ("ngModelChange",function(r){return n.c2=r}),e.qZA(),e.qZA(),e.TgZ(66,"label"),e.TgZ(67,"span"),e._uU(68,"overlay:"),e.qZA(),e.TgZ(69,"select",6),e.NdJ("ngModelChange",function(r){return n.globalCompositeOperation=r}),e.TgZ(70,"option",7),e._uU(71,"source-over"),e.qZA(),e.TgZ(72,"option",8),e._uU(73,"multiply"),e.qZA(),e.TgZ(74,"option",9),e._uU(75,"screen"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"canvas",10),e._UZ(77,"canvas-draw-image",11),e.TgZ(78,"canvas-path",12),e._UZ(79,"canvas-rect",13),e.qZA(),e.TgZ(80,"canvas-path",14),e._UZ(81,"canvas-rect",13),e.qZA(),e.qZA(),e.TgZ(82,"h2"),e._uU(83,"Path example"),e.qZA(),e.TgZ(84,"section"),e.TgZ(85,"fieldset"),e.TgZ(86,"label"),e.TgZ(87,"span"),e._uU(88,"Pac-Man mouth:"),e.qZA(),e.TgZ(89,"input",15),e.NdJ("ngModelChange",function(r){return n.mouth=r}),e.qZA(),e.qZA(),e.TgZ(90,"label"),e.TgZ(91,"span"),e._uU(92,"Pac-Man shadow blur:"),e.qZA(),e.TgZ(93,"input",16),e.NdJ("ngModelChange",function(r){return n.blur=r}),e.qZA(),e.qZA(),e.TgZ(94,"label"),e.TgZ(95,"span"),e._uU(96,"Pac-Man shadow distance:"),e.qZA(),e.TgZ(97,"input",16),e.NdJ("ngModelChange",function(r){return n.offset=r}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(98,"fieldset"),e.TgZ(99,"label"),e.TgZ(100,"span"),e._uU(101,"Text:"),e.qZA(),e.TgZ(102,"input",17),e.NdJ("ngModelChange",function(r){return n.text=r}),e.qZA(),e.qZA(),e.TgZ(103,"label"),e.TgZ(104,"span"),e._uU(105,"Font:"),e.qZA(),e.TgZ(106,"input",17),e.NdJ("ngModelChange",function(r){return n.font=r}),e.qZA(),e.qZA(),e.TgZ(107,"label"),e.TgZ(108,"span"),e._uU(109,"color:"),e.qZA(),e.TgZ(110,"input",5),e.NdJ("ngModelChange",function(r){return n.color=r}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(111,"canvas",10),e.TgZ(112,"canvas-path",18),e._UZ(113,"canvas-arc",19),e.ALo(114,"rad"),e.ALo(115,"rad"),e._UZ(116,"canvas-line-to",20),e.qZA(),e._UZ(117,"canvas-text",21),e.qZA()}2&i&&(e.xp6(11),e.Q6J("ngModel",n.dX),e.xp6(4),e.Q6J("ngModel",n.dY),e.xp6(4),e.Q6J("ngModel",n.dWidth),e.xp6(4),e.Q6J("ngModel",n.dHeight),e.xp6(5),e.Q6J("ngModel",n.x1),e.xp6(4),e.Q6J("ngModel",n.y1),e.xp6(4),e.Q6J("ngModel",n.w1),e.xp6(4),e.Q6J("ngModel",n.h1),e.xp6(4),e.Q6J("ngModel",n.c1),e.xp6(5),e.Q6J("ngModel",n.x2),e.xp6(4),e.Q6J("ngModel",n.y2),e.xp6(4),e.Q6J("ngModel",n.w2),e.xp6(4),e.Q6J("ngModel",n.h2),e.xp6(4),e.Q6J("ngModel",n.c2),e.xp6(4),e.Q6J("ngModel",n.globalCompositeOperation),e.xp6(8),e.Q6J("image",n.image)("dX",n.dX)("dY",n.dY)("dWidth",n.dWidth)("dHeight",n.dHeight),e.xp6(1),e.Q6J("fillStyle",n.c1),e.xp6(1),e.Q6J("x",n.x1)("y",n.y1)("width",n.w1)("height",n.h1),e.xp6(1),e.Q6J("fillStyle",n.c2)("globalCompositeOperation",n.globalCompositeOperation),e.xp6(1),e.Q6J("x",n.x2)("y",n.y2)("width",n.w2)("height",n.h2),e.xp6(8),e.Q6J("ngModel",n.mouth),e.xp6(4),e.Q6J("ngModel",n.blur),e.xp6(4),e.Q6J("ngModel",n.offset),e.xp6(5),e.Q6J("ngModel",n.text),e.xp6(4),e.Q6J("ngModel",n.font),e.xp6(4),e.Q6J("ngModel",n.color),e.xp6(2),e.Q6J("shadowBlur",n.blur)("shadowOffsetY",n.offset),e.xp6(1),e.Q6J("x",50)("y",75)("radius",30)("startAngle",e.lcZ(114,52,n.mouth))("endAngle",e.lcZ(115,54,-n.mouth)),e.xp6(3),e.Q6J("x",50)("y",75),e.xp6(1),e.Q6J("fillStyle",n.color)("maxWidth",200)("text",n.text)("font",n.font)("x",90)("y",90))},directives:[m.eT,m.Fj,m.JJ,m.On,m.EJ,m.YN,m.Kr,g,d,v,f,y,D,h,w,A,Z,S],pipes:[O],encapsulation:2,changeDetection:0}),t})();var b=s(5891),E=s(2057);let Y=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})(),G=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[E.ez,m.u5,Y,b.Bz.forChild([{path:"",component:x}])]]}),t})()},2176:(R,P,s)=>{s.d(P,{L1:()=>c,s5:()=>y,m9:()=>o});var e=s(4788),m=s(7980),M=s(815),_=s(2057);const o=new e.OlP("An abstraction over global window object",{factory:()=>{const{defaultView:C}=(0,e.f3M)(_.K0);if(!C)throw new Error("Window is not available");return C}}),c=new e.OlP("Shared Observable based on `window.requestAnimationFrame`",{factory:()=>{const{requestAnimationFrame:C,cancelAnimationFrame:J}=(0,e.f3M)(o);return new m.y(I=>{let F=NaN;const q=N=>{I.next(N),F=C(q)};return F=C(q),()=>{J(F)}}).pipe((0,M.B)())}}),y=(new e.OlP("An abstraction over window.caches object",{factory:()=>(0,e.f3M)(o).caches}),new e.OlP("An abstraction over window.crypto object",{factory:()=>(0,e.f3M)(o).crypto}),new e.OlP("An abstraction over window.CSS object",{factory:()=>(0,e.f3M)(o).CSS||{escape:C=>C,supports:()=>!1}}),new e.OlP("An abstraction over window.history object",{factory:()=>(0,e.f3M)(o).history}),new e.OlP("An abstraction over window.localStorage object",{factory:()=>(0,e.f3M)(o).localStorage}),new e.OlP("An abstraction over window.location object",{factory:()=>(0,e.f3M)(o).location}),new e.OlP("An abstraction over window.navigator object",{factory:()=>(0,e.f3M)(o).navigator}));new e.OlP("An abstraction over window.navigator.mediaDevices object",{factory:()=>(0,e.f3M)(y).mediaDevices}),new e.OlP("An abstraction over window.navigator.connection object",{factory:()=>(0,e.f3M)(y).connection||null});var w=s(4581),A=s(1927),Z=s(7969),S=s(2147),O=s(5086);new e.OlP("Shared Observable based on `document visibility changed`",{factory:()=>{const C=(0,e.f3M)(_.K0);return(0,w.R)(C,"visibilitychange").pipe((0,A.O)(0),(0,Z.U)(()=>"hidden"!==C.visibilityState),(0,S.x)(),(0,O.d)({refCount:!1,bufferSize:1}))}}),new e.OlP("An abstraction over window.performance object",{factory:()=>(0,e.f3M)(o).performance}),new e.OlP("An abstraction over window.screen object",{factory:()=>(0,e.f3M)(o).screen}),new e.OlP("An abstraction over window.sessionStorage object",{factory:()=>(0,e.f3M)(o).sessionStorage}),new e.OlP("An abstraction over SpeechRecognition class",{factory:()=>{const C=(0,e.f3M)(o);return C.speechRecognition||C.webkitSpeechRecognition||null}}),new e.OlP("An abstraction over window.speechSynthesis object",{factory:()=>(0,e.f3M)(o).speechSynthesis}),new e.OlP("An abstraction over window.navigator.userAgent object",{factory:()=>(0,e.f3M)(y).userAgent})},4581:(R,P,s)=>{s.d(P,{R:()=>p});var e=s(5955),m=s(7980),M=s(3159),_=s(6602),o=s(5975),c=s(2692);const u=["addListener","removeListener"],g=["addEventListener","removeEventListener"],d=["on","off"];function p(h,w,A,Z){if((0,o.m)(A)&&(Z=A,A=void 0),Z)return p(h,w,A).pipe((0,c.Z)(Z));const[S,O]=function(h){return(0,o.m)(h.addEventListener)&&(0,o.m)(h.removeEventListener)}(h)?g.map(x=>b=>h[x](w,b,A)):function(h){return(0,o.m)(h.addListener)&&(0,o.m)(h.removeListener)}(h)?u.map(v(h,w)):function(h){return(0,o.m)(h.on)&&(0,o.m)(h.off)}(h)?d.map(v(h,w)):[];if(!S&&(0,_.z)(h))return(0,M.z)(x=>p(x,w,A))((0,e.Xf)(h));if(!S)throw new TypeError("Invalid event target");return new m.y(x=>{const b=(...E)=>x.next(1<E.length?E:E[0]);return S(b),()=>O(b)})}function v(h,w){return A=>Z=>h[A](w,Z)}},5086:(R,P,s)=>{s.d(P,{d:()=>o});var e=s(9359),m=s(2069);class M extends e.x{constructor(u=1/0,g=1/0,d=m.l){super(),this._bufferSize=u,this._windowTime=g,this._timestampProvider=d,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=g===1/0,this._bufferSize=Math.max(1,u),this._windowTime=Math.max(1,g)}next(u){const{isStopped:g,_buffer:d,_infiniteTimeWindow:p,_timestampProvider:v,_windowTime:f}=this;g||(d.push(u),!p&&d.push(v.now()+f)),this._trimBuffer(),super.next(u)}_subscribe(u){this._throwIfClosed(),this._trimBuffer();const g=this._innerSubscribe(u),{_infiniteTimeWindow:d,_buffer:p}=this,v=p.slice();for(let f=0;f<v.length&&!u.closed;f+=d?1:2)u.next(v[f]);return this._checkFinalizedStatuses(u),g}_trimBuffer(){const{_bufferSize:u,_timestampProvider:g,_buffer:d,_infiniteTimeWindow:p}=this,v=(p?1:2)*u;if(u<1/0&&v<d.length&&d.splice(0,d.length-v),!p){const f=g.now();let y=0;for(let D=1;D<d.length&&d[D]<=f;D+=2)y=D;y&&d.splice(0,y+1)}}}var _=s(815);function o(c,u,g){var d,p;let v,f=!1;return c&&"object"==typeof c?(v=null!==(d=c.bufferSize)&&void 0!==d?d:1/0,u=null!==(p=c.windowTime)&&void 0!==p?p:1/0,f=!!c.refCount,g=c.scheduler):v=null!=c?c:1/0,(0,_.B)({connector:()=>new M(v,u,g),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}}}]);