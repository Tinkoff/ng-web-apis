"use strict";(self.webpackChunkng_web_apis=self.webpackChunkng_web_apis||[]).push([[592],{5124:(D,l,t)=>{t.d(l,{v:()=>o});var s=t(4676);function o(u=""){return(a,n)=>{Object.defineProperty(a,n,{set(e){e="string"==typeof e?Number.parseFloat(e):e;const c=this instanceof AudioWorkletNode?this.parameters.get(n):this[u];c instanceof AudioParam?(0,s.Z)(c,e,this.context.currentTime):Object.defineProperty(a,n,{value:e})}})}}},1506:(D,l,t)=>{t.d(l,{i:()=>B});var s=t(3725),o=t(7969),r=t(8168),a=t(2147),n=t(2085),e=t(8499),d=t(6523),P=t(4970),_=t(190),T=t(5155),p=t(4533),y=t(2568),v=t(4788);let B=(()=>{class M extends AnalyserNode{constructor(A,R,I){if(!I){const C=A.createAnalyser();return Object.setPrototypeOf(C,M.prototype),M.init(C,R),C}super(A),M.init(this,R)}ngOnDestroy(){this.disconnect()}isSilent(A){return Math.abs(A.reduce((R,I)=>R+I,0))<.001}static init(A,R){(0,y.$)(R,A),A.fftSize=256,A.connect(A.context.destination),A.quiet=(0,s.F)(100).pipe(function(M){return(0,o.U)(()=>M)}(new Float32Array(A.fftSize)),(0,r.b)(I=>A.getFloatTimeDomainData(I)),(0,o.U)(I=>A.isSilent(I)),(0,a.x)(),(0,n.e)((h,A)=>{let R=!1;h.subscribe(new e.Q(A,C=>(R||(R=!C))&&A.next(C)))}),function(M,h=d.z){return(0,n.e)((A,R)=>{let I=null,C=null,g=null;const W=()=>{if(I){I.unsubscribe(),I=null;const m=C;C=null,R.next(m)}};function N(){const m=g+M,L=h.now();if(L<m)return I=this.schedule(void 0,m-L),void R.add(I);W()}A.subscribe(new e.Q(R,m=>{C=m,g=h.now(),I||(I=h.schedule(N,M),R.add(I))},()=>{W(),R.complete()},void 0,()=>{C=I=null}))})}(5e3),(0,P.h)(I=>I))}}return M.\u0275fac=function(A){return new(A||M)(v.Y36(_.N),v.Y36(T.K),v.Y36(p.j))},M.\u0275dir=v.lG2({type:M,selectors:[["","waAudioDestinationNode",""]],outputs:{quiet:"quiet"},exportAs:["AudioNode"],features:[v.qOj]}),M})()},47:(D,l,t)=>{t.d(l,{g:()=>n});var s=t(190),o=t(5155),u=t(4533),r=t(2568),a=t(4788);let n=(()=>{class e extends GainNode{constructor(d,i,P){if(!P){const f=d.createGain();return Object.setPrototypeOf(f,e.prototype),(0,r.$)(i,f),f}super(d),(0,r.$)(i,this)}set waOutput(d){this.disconnect(),(0,r.$)(this,d)}ngOnDestroy(){this.disconnect()}static init(d,i){(0,r.$)(i,d)}}return e.\u0275fac=function(d){return new(d||e)(a.Y36(s.N),a.Y36(o.K),a.Y36(u.j))},e.\u0275dir=a.lG2({type:e,selectors:[["","waOutput",""]],inputs:{waOutput:"waOutput"},features:[a.qOj]}),e})()},3672:(D,l,t)=>{t.d(l,{O:()=>o});var s=t(4788);let o=(()=>{class u{}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=s.oAB({type:u}),u.\u0275inj=s.cJS({}),u})()},6667:(D,l,t)=>{t.d(l,{g:()=>i});var s=t(4788),o=t(9359),u=t(4945),r=t(1528),a=t(2936),n=t(190),e=t(5155),c=t(4533),d=t(2568);let i=(()=>{class P extends ConvolverNode{constructor(_,T,p,y){if(!y){const v=T.createConvolver();return Object.setPrototypeOf(v,P.prototype),P.init(v,p,_),v}super(T),P.init(this,p,_)}set bufferSetter(_){this.buffer$.next(_)}ngOnDestroy(){this.buffer$.complete(),this.disconnect()}static init(_,T,p){(0,d.$)(T,_),_.buffer$=new o.x,_.buffer$.pipe((0,r.w)(y=>"string"==typeof y?p.fetch(y):(0,u.of)(y))).subscribe(y=>{_.buffer=y})}}return P.\u0275fac=function(_){return new(_||P)(s.Y36(a.L),s.Y36(n.N),s.Y36(e.K,4),s.Y36(c.j))},P.\u0275dir=s.lG2({type:P,selectors:[["","waConvolverNode",""]],inputs:{normalize:"normalize",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",bufferSetter:["buffer","bufferSetter"]},exportAs:["AudioNode"],features:[s._Bn([{provide:e.K,useExisting:(0,s.Gpc)(()=>P)}]),s.qOj]}),P})()},3555:(D,l,t)=>{t.d(l,{z:()=>d});var s=t(4762),o=t(4788),u=t(5124),r=t(190),a=t(5155),n=t(4533),e=t(2568),c=t(7282);let d=(()=>{class i extends GainNode{constructor(f,_,T,p){const y=(0,c.Q)(p,1);if(!T){const v=f.createGain();return Object.setPrototypeOf(v,i.prototype),(0,e.$)(_,v),v.gain.value=y,v}super(f,{gain:y}),(0,e.$)(_,this)}ngOnDestroy(){this.disconnect()}}return i.\u0275fac=function(f){return new(f||i)(o.Y36(r.N),o.Y36(a.K,4),o.Y36(n.j),o.$8M("gain"))},i.\u0275dir=o.lG2({type:i,selectors:[["","waGainNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",gainParam:["gain","gainParam"]},exportAs:["AudioNode"],features:[o._Bn([{provide:a.K,useExisting:(0,o.Gpc)(()=>i)}]),o.qOj]}),(0,s.gn)([(0,u.v)("gain")],i.prototype,"gainParam",void 0),i})()},2936:(D,l,t)=>{t.d(l,{L:()=>u});var s=t(190),o=t(4788);let u=(()=>{class r{constructor(n){this.context=n,this.cache=new Map}fetch(n){return new Promise((e,c)=>{if(this.cache.has(n))return void e(this.cache.get(n));const d=new XMLHttpRequest;d.open("GET",n,!0),d.responseType="arraybuffer",d.onerror=c,d.onabort=c,d.onload=()=>{this.context.decodeAudioData(d.response,i=>{this.cache.set(n,i),e(i)},c)},d.send()})}}return r.\u0275fac=function(n){return new(n||r)(o.LFG(s.N))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},5772:(D,l,t)=>{t.d(l,{P:()=>d});var s=t(4762),o=t(4788),u=t(5124),r=t(190),a=t(5155),n=t(4533),e=t(2568),c=t(7282);let d=(()=>{class i extends OscillatorNode{constructor(f,_,T,p,y){const v=(0,c.Q)(p,0),B=(0,c.Q)(y,440);if(!_){const M=f.createOscillator();return Object.setPrototypeOf(i.prototype,Object.getPrototypeOf(M)),Object.setPrototypeOf(M,i.prototype),M.detune.value=v,M.frequency.value=B,i.init(M,null,T),M}super(f,{detune:v,frequency:B}),i.init(this,null,T)}set periodicWave(f){this.setPeriodicWave(f)}ngOnDestroy(){try{this.stop()}catch(f){}this.disconnect()}static init(f,_,T){(0,e.$)(_,f),null!==T&&f.start();const p=new o.vpe;f.ended=p,f.onended=()=>p.emit()}}return i.\u0275fac=function(f){return new(f||i)(o.Y36(r.N),o.Y36(n.j),o.$8M("autoplay"),o.$8M("detune"),o.$8M("frequency"))},i.\u0275dir=o.lG2({type:i,selectors:[["","waOscillatorNode",""]],inputs:{type:"type",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",periodicWave:"periodicWave",detuneParam:["detune","detuneParam"],frequencyParam:["frequency","frequencyParam"]},outputs:{ended:"ended"},exportAs:["AudioNode"],features:[o._Bn([{provide:a.K,useExisting:(0,o.Gpc)(()=>i)}]),o.qOj]}),(0,s.gn)([(0,u.v)("detune")],i.prototype,"detuneParam",void 0),(0,s.gn)([(0,u.v)("frequency")],i.prototype,"frequencyParam",void 0),i})()},190:(D,l,t)=>{t.d(l,{N:()=>o});const o=new(t(4788).OlP)("Web Audio API context",{providedIn:"root",factory:()=>new AudioContext})},5155:(D,l,t)=>{t.d(l,{K:()=>o});const o=new(t(4788).OlP)("Web Audio API audio node",{factory:()=>null})},4533:(D,l,t)=>{t.d(l,{j:()=>u});var s=t(4788),o=t(190);const u=new s.OlP("Tests if constructor mode of node creation is supported or a fallback to factory method is needed",{providedIn:"root",factory:()=>{try{return!!new GainNode((0,s.f3M)(o.N))}catch(r){return!1}}})},2568:(D,l,t)=>{function s(o,u){o&&u&&o.connect(u)}t.d(l,{$:()=>s})},7282:(D,l,t)=>{function s(o,u){const r=parseFloat(o||"");return isNaN(r)?u:r}t.d(l,{Q:()=>s})},4676:(D,l,t)=>{function s(a,n,e=0){a.cancelAndHoldAtTime?a.cancelAndHoldAtTime(e):(a.cancelScheduledValues(e),a.setValueAtTime(r(a.value),e)),"number"!=typeof n?n instanceof Array?function(a,n,e){n.forEach(c=>{"mode"in c?u(a,c,e):a.setValueCurveAtTime(c.value,e,c.duration),e+=c.duration})}(a,n,e):"mode"in n?(a.setValueAtTime(r(a.value),e),u(a,n,e)):a.setValueCurveAtTime(n.value,e,n.duration):a.setValueAtTime(r(n),e)}function u(a,{value:n,mode:e="instant",duration:c},d){switch(e){case"instant":a.setValueAtTime(r(n),d),a.setValueAtTime(r(n),d+c);break;case"exponential":n<0||n*a.value<0?a.linearRampToValueAtTime(r(n),d+c):a.exponentialRampToValueAtTime(r(n),d+c),a.setValueAtTime(r(n),d+c);break;case"linear":a.linearRampToValueAtTime(r(n),d+c)}}function r(a){return a||1e-8}t.d(l,{Z:()=>s})},6247:(D,l,t)=>{t.d(l,{RN:()=>c,_1:()=>d,H:()=>e});var s=t(7980),o=t(5490),u=t(5086),r=t(4788),a=t(2176);const n=new r.OlP("An abstraction over window.navigator.geolocation object",{factory:()=>(0,r.f3M)(a.s5).geolocation}),e=new r.OlP("Token for an additional position options",{factory:()=>({})}),c=new r.OlP("Is Geolocation API supported?",{factory:()=>!!(0,r.f3M)(n)});let d=(()=>{class i extends s.y{constructor(f,_,T){let p=0;return super(y=>{_||y.error("Geolocation is not supported in your browser"),p=f.watchPosition(v=>y.next(v),v=>y.error(v),T)}),this.pipe((0,o.x)(()=>f.clearWatch(p)),(0,u.d)({bufferSize:1,refCount:!0}))}}return i.\u0275fac=function(f){return new(f||i)(r.LFG(n),r.LFG(c),r.LFG(e))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},7201:(D,l,t)=>{t.d(l,{hJ:()=>e,vK:()=>I,wF:()=>W,$c:()=>r,AN:()=>a});var s=t(4970),o=t(7969);function u(O,E,U){return O>=E&&O<=U}function r(){return O=>O.pipe((0,s.h)(({data:E})=>u(E[0],128,159)),(0,o.U)(E=>(u(E.data[0],128,143)&&(E.data[0]+=16,E.data[2]=0),E)))}function a(){return O=>O.pipe((0,o.U)(({data:E})=>E))}var n=t(4788);let e=(()=>{class O{}return O.\u0275fac=function(U){return new(U||O)},O.\u0275mod=n.oAB({type:O}),O.\u0275inj=n.cJS({}),O})();var c=t(2176);const d=new n.OlP("Require sysex MIDI access",{providedIn:"root",factory:()=>!1}),i=new n.OlP("Promise for MIDIAccess object",{providedIn:"root",factory:()=>{const O=(0,n.f3M)(c.s5),E=(0,n.f3M)(d);return O.requestMIDIAccess?O.requestMIDIAccess({sysex:E}):Promise.reject(new Error("Web MIDI API is not supported"))}});new n.OlP("MIDIInput object");var f=t(9517),_=t(4581),T=t(4945),p=t(1528),y=t(1927),v=t(5086);function B(O){return(0,f.D)((0,n.f3M)(i).catch(()=>null)).pipe((0,p.w)(E=>E?(0,_.R)(E,"statechange").pipe((0,o.U)(()=>[...E[O].values()]),(0,y.O)([...E[O].values()])):(0,T.of)([])),(0,v.d)(1))}new n.OlP("Array of MIDI inputs",{factory:()=>B("inputs")});var h=t(3787),A=t(1860),R=t(815);const I=new n.OlP("All incoming MIDI messages stream",{providedIn:"root",factory:()=>(0,f.D)((0,n.f3M)(i).catch(O=>O)).pipe((0,p.w)(O=>O instanceof Error?(0,h._)(O):(0,_.R)(O,"statechange").pipe((0,y.O)(null),(0,p.w)(()=>(0,A.T)(...Array.from(O.inputs).map(([E,U])=>(0,_.R)(U,"midimessage")))))),(0,R.B)())}),W=(new n.OlP("MIDIOutput object"),new n.OlP("Array of MIDI inputs",{factory:()=>B("outputs")}),new n.OlP("Web MIDI API support",{factory:()=>!!(0,n.f3M)(c.s5).requestMIDIAccess}));new n.OlP("MIDIInput object id or name"),new n.OlP("MIDIOutput object id or name"),Math.pow(2,1/12)},4953:(D,l,t)=>{t.d(l,{P:()=>n});var s=t(4788),o=t(3412),u=t(9367);function r({nativeElement:e}){return function(e){return e||u.I}(e.getAttribute("waResizeBox"))}let n=(()=>{class e{constructor(d,i){this.waResizeObserver=d}}return e.\u0275fac=function(d){return new(d||e)(s.Y36(o.a),s.$8M("waResizeBox"))},e.\u0275dir=s.lG2({type:e,selectors:[["","waResizeObserver",""]],outputs:{waResizeObserver:"waResizeObserver"},features:[s._Bn([o.a,{provide:u.j,deps:[s.SBq],useFactory:r}])]}),e})()},7891:(D,l,t)=>{t.d(l,{vU:()=>n.v,xi:()=>u}),t(4953);var o=t(4788);let u=(()=>{class e{}return e.\u0275fac=function(d){return new(d||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({}),e})();t(3412),t(9367);var n=t(3694)},3412:(D,l,t)=>{t.d(l,{a:()=>n});var s=t(4788),o=t(7980),u=t(815),r=t(9367),a=t(3694);let n=(()=>{class e extends o.y{constructor({nativeElement:d},i,P,f){let _;return super(T=>{if(P)return _=new ResizeObserver(p=>{i.run(()=>{T.next(p)})}),_.observe(d,{box:f}),()=>{_.disconnect()};T.error("ResizeObserver is not supported in your browser")}),this.pipe((0,u.B)())}}return e.\u0275fac=function(d){return new(d||e)(s.LFG(s.SBq),s.LFG(s.R0b),s.LFG(a.v),s.LFG(r.j))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},9367:(D,l,t)=>{t.d(l,{I:()=>o,j:()=>u});var s=t(4788);const o="content-box",u=new s.OlP("Box model to observe changes",{providedIn:"root",factory:()=>o})},3694:(D,l,t)=>{t.d(l,{v:()=>u});var s=t(4788),o=t(2176);const u=new s.OlP("Resize Observer API support",{providedIn:"root",factory:()=>!!(0,s.f3M)(o.m9).ResizeObserver})},3725:(D,l,t)=>{t.d(l,{F:()=>n});var s=t(6523),o=t(7980),u=t(1830);function n(e=0,c=s.z){return e<0&&(e=0),function(e=0,c,d=s.P){let i=-1;return null!=c&&((0,u.K)(c)?d=c:i=c),new o.y(P=>{let f=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-d.now():e;f<0&&(f=0);let _=0;return d.schedule(function(){P.closed||(P.next(_++),0<=i?this.schedule(void 0,i):P.complete())},f)})}(e,e,c)}},6523:(D,l,t)=>{t.d(l,{P:()=>r,z:()=>u});var s=t(4415);const u=new(t(2994).v)(s.o),r=u}}]);