"use strict";(self.webpackChunkng_web_apis=self.webpackChunkng_web_apis||[]).push([[498],{73498:(Ar,Ve,d)=>{d.r(Ve),d.d(Ve,{CanvasPageModule:()=>Sr});var n=d(74788),je=d(19506),M=d(80728),N=d(75111),xe=d(12733),Je=d(18106),j=d(41088),I=d(97582),y=d(81422),w=d(2325),$=d(71552),L=d(11927),tn=d(21860),R=d(27969),ze=d(74970),Qe=d(61528),We=d(51927),nn=d(42147),Me=d(13528);let on=(()=>{class t{constructor({nativeElement:e},i){this.tuiDroppableDropped=(0,w.mL)(e,"drop").pipe((0,w.mp)(),(0,R.U)(r=>r.dataTransfer),(0,ze.h)(L.Pc)),this.tuiDroppableDragOverChange=(0,w.mL)(e,"dragenter").pipe((0,Qe.w)(({target:r,dataTransfer:s})=>(0,tn.T)((0,w.mL)(e,"dragleave").pipe((0,ze.h)(a=>a.target===r)),(0,w.mL)(e,"drop")).pipe((0,R.U)(()=>null),(0,We.O)(s))),(0,nn.x)((r,s)=>!!r&&!!s||!r&&!s)),(0,w.mL)(e,"dragover").pipe((0,w.mp)(),(0,Me.R)(i)).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36($.a3,2))},t.\u0275dir=n.lG2({type:t,selectors:[["","tuiDroppableDropped",""],["","tuiDroppableDragOverChange",""]],outputs:{tuiDroppableDropped:"tuiDroppableDropped",tuiDroppableDragOverChange:"tuiDroppableDragOverChange"},features:[n._Bn([$.a3])]}),t})(),rn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();var Ye=d(13633),J=d(76480),Ge=d(57179),se=d(33770),z=d(13034),E=d(44358),sn=d(92668),an=d(75059),Ke=d(88491);let un=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();var ln=d(96111),Xe=d(91489),qe=d(82847),cn=d(12130),ae=d(54789),et=d(40719),Z=d(12628),ue=d(95974),le=d(16282),Q=d(85648);function nt(t,o){return void 0===o?null:o<1024?`${o} ${t[0]}`:o<1048576?`${(o/1024).toFixed(0)} ${t[1]}`:`${(0,Q.FG)(o/1048576,2).toLocaleString("ru-RU")} ${t[2]}`}var dn=d(15696),it=d(84945),_=d(12057),W=d(89570),gn=d(56210);let mn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();(0,L.JN)({formatSize:nt});let Pn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[_.ez,ue.n6,et.dS,W.wq,ae.EI,Ke.c,Z.fN,gn.H,xe.ij,mn]]}),t})();const ot=["input"],En=["formatRejection"],Sn=["maxSizeRejection"];function An(t,o){1&t&&n.GkF(0)}function Fn(t,o){if(1&t&&(n.ynx(0),n._uU(1),n.BQk()),2&t){const e=o.polymorpheusOutlet;n.xp6(1),n.hij(" ",e," ")}}function kn(t,o){1&t&&n._UZ(0,"span",10),2&t&&n.Q6J("textContent",o.polymorpheusOutlet)}function Nn(t,o){if(1&t&&(n.TgZ(0,"div"),n.TgZ(1,"a",7),n.YNc(2,Fn,2,1,"ng-container",8),n.ALo(3,"async"),n.qZA(),n.YNc(4,kn,1,1,"span",9),n.ALo(5,"async"),n.qZA()),2&t){const e=n.oxw();n.xp6(2),n.Q6J("polymorpheusOutlet",n.lcZ(3,2,e.computedLink$)),n.xp6(2),n.Q6J("polymorpheusOutlet",n.lcZ(5,4,e.computedLabel$))}}function Ln(t,o){if(1&t&&(n.ynx(0),n.Hsn(1),n._UZ(2,"input",11,12),n.BQk()),2&t){const e=n.oxw();n.xp6(2),n.Q6J("accept",e.accept)("id",e.id)("multiple",e.multiple)("tuiFocusable",e.focusable)}}function Rn(t,o){if(1&t&&(n._uU(0),n.ALo(1,"async")),2&t){const e=n.oxw();let i;n.hij(" ",(null==(i=n.lcZ(1,1,e.inputFileTexts$))?null:i.formatRejectionReason)||"","\n")}}function Zn(t,o){if(1&t&&(n._uU(0),n.ALo(1,"async"),n.ALo(2,"tuiMaxSizeRejectionError")),2&t){const e=n.oxw();n.hij(" ",n.lcZ(1,1,n.lcZ(2,3,e.maxFileSize)),"\n")}}const $n=[[["input"]]],Un=function(t){return{$implicit:t}},Oe=(0,L.JN)({capture:null,accepts:"",multiple:!1,size:"m",maxFileSize:31457280});let st=(()=>{class t{constructor(e,i,r,s){this.host=e,this.el=i,this.idService=r,this.options=s}get tabIndex(){return this.host.focusable?0:-1}get id(){return this.el.nativeElement.id||this.idService.generate()}get accept(){var e;return null!==(e=this.el.nativeElement.accept)&&void 0!==e?e:this.options.accepts}get multiple(){var e;return null!==(e=this.el.nativeElement.multiple)&&void 0!==e?e:this.options.multiple}get capture(){var e;return null!==(e=this.el.nativeElement.getAttribute("capture"))&&void 0!==e?e:this.options.capture}get input(){return this.el.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(n.Y36((0,n.Gpc)(()=>at)),n.Y36(n.SBq),n.Y36($.ll),n.Y36(Oe))},t.\u0275dir=n.lG2({type:t,selectors:[["input","tuiInputFiles",""]],hostAttrs:["type","file",1,"t-native"],hostVars:5,hostBindings:function(e,i){2&e&&(n.Ikx("tabIndex",i.tabIndex)("id",i.id)("accept",i.accept)("multiple",i.multiple),n.uIk("capture",i.capture))}}),t})(),Hn=(()=>{class t{constructor(e,i){this.inputFileTexts$=e,this.units$=i}transform(e){return(0,dn.a)([this.inputFileTexts$,this.units$]).pipe((0,R.U)(([{maxSizeRejectionReason:i},r])=>`${i}${nt(r,e)}`))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(le.BV,16),n.Y36(le.rV,16))},t.\u0275pipe=n.Yjl({name:"tuiMaxSizeRejectionError",type:t,pure:!0}),t})(),at=(()=>{class t extends J.F9{constructor(e,i,r,s,a){super(e,i),this.isMobile=r,this.inputFileTexts$=s,this.options=a,this.dataTransfer=null,this.accept=this.options.accepts,this.multiple=this.options.multiple,this.size=this.options.size,this.maxFileSize=this.options.maxFileSize,this.reject=new n.vpe}get computedMultiple(){var e,i;return null!==(i=null===(e=this.nativeInput)||void 0===e?void 0:e.multiple)&&void 0!==i?i:this.multiple}get computedAccept(){var e,i;return null!==(i=null===(e=this.nativeInput)||void 0===e?void 0:e.accept)&&void 0!==i?i:this.accept}get nativeFocusableElement(){var e;return(null===(e=this.input)||void 0===e?void 0:e.nativeElement)||null}get focused(){return(0,Ge.V8)(this.nativeFocusableElement)}get computedPseudoHovered(){var e;return null!==(e=this.pseudoHover)&&void 0!==e?e:this.fileDragged||null}get computedLink$(){return this.computeLink$(this.fileDragged,this.computedMultiple,this.link)}get computedLabel$(){return this.computeLabel$(this.isMobile,this.fileDragged,this.computedMultiple,this.label)}get fileDragged(){var e;return!!(null===(e=this.dataTransfer)||void 0===e?void 0:e.types.includes("Files"))}get arrayValue(){return this.getValueArray(this.value)}onFocused(e){this.updateFocused(e)}onFilesSelected(){var e,i,r;const s=null!==(i=null===(e=this.nativeInput)||void 0===e?void 0:e.input)&&void 0!==i?i:null===(r=this.input)||void 0===r?void 0:r.nativeElement;!s||(this.processSelectedFiles(s.files),s.value="")}onDropped(e){this.processSelectedFiles(e.files)}onDragOver(e){this.dataTransfer=e}removeFile(e){this.value=this.computedMultiple?this.arrayValue.filter(i=>i!==e):null}computeLink$(e,i,r){return e?(0,it.of)(""):this.inputFileTexts$.pipe((0,R.U)(s=>i&&!r?s.defaultLinkMultiple:r||s.defaultLinkSingle))}computeLabel$(e,i,r,s){return e?(0,it.of)(""):this.inputFileTexts$.pipe((0,R.U)(i?a=>r?a.dropMultiple:a.drop:a=>r&&!s?a.defaultLabelMultiple:s||a.defaultLabelSingle))}getValueArray(e){return e?Array.isArray(e)?e:[e]:se.LZ}processSelectedFiles(e){if(!(null==e?void 0:e.length))return;const i={formatRejection:this.formatRejection,maxSizeRejection:this.maxSizeRejection},r=this.computedMultiple?Array.from(e):[e[0]],s=r.filter(u=>u.size>this.maxFileSize),a=r.filter(u=>!this.isFormatAcceptable(u)&&!s.includes(u)),l=r.filter(u=>!s.includes(u)&&!a.includes(u));(s.length||a.length)&&this.rejectFiles([...s.map(u=>({name:u.name,type:u.type,size:u.size,content:i.maxSizeRejection})),...a.map(u=>({name:u.name,type:u.type,size:u.size,content:i.formatRejection}))]),this.value=this.computedMultiple?[...this.arrayValue,...l]:l[0]||null}isFormatAcceptable(e){if(!this.computedAccept)return!0;const i=`.${(e.name.split(".").pop()||"").toLowerCase()}`;return function(t){return t.toLowerCase().split(",").map(o=>o.trim())}(this.computedAccept).some(r=>r===i||r===e.type||"*"===r.split("/")[1]&&e.type.split("/")[0]===r.split("/")[0])}rejectFiles(e){this.reject.emit(this.computedMultiple?e:e[0])}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(y.a5,10),n.Y36(n.sBO),n.Y36(z.fL),n.Y36(le.BV),n.Y36(Oe))},t.\u0275cmp=n.Xpm({type:t,selectors:[["tui-input-files"]],contentQueries:function(e,i,r){if(1&e&&(n.Suo(r,st,5),n.Suo(r,n.Rgc,5)),2&e){let s;n.iGM(s=n.CRH())&&(i.nativeInput=s.first),n.iGM(s=n.CRH())&&(i.template=s.first)}},viewQuery:function(e,i){if(1&e&&(n.Gf(ot,5),n.Gf(En,5),n.Gf(Sn,5)),2&e){let r;n.iGM(r=n.CRH())&&(i.input=r.first),n.iGM(r=n.CRH())&&(i.formatRejection=r.first),n.iGM(r=n.CRH())&&(i.maxSizeRejection=r.first)}},hostBindings:function(e,i){1&e&&n.NdJ("focusin",function(){return i.onFocused(!0)})("focusout",function(){return i.onFocused(!1)})("change",function(){return i.onFilesSelected()})},inputs:{link:"link",label:"label",accept:"accept",multiple:"multiple",size:"size",maxFileSize:"maxFileSize"},outputs:{reject:"reject"},features:[n._Bn([cn.CV,(0,z.FT)(t)]),n.qOj],ngContentSelectors:ot,decls:10,vars:12,consts:[["appearance","input-file","tuiWrapper","",1,"t-wrapper",3,"active","disabled","focus","hover"],["automation-id","tui-input-file__label",1,"t-label",3,"mousedown.prevent.silent","tuiDroppableDragOverChange","tuiDroppableDropped"],[1,"t-description"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["formatRejection",""],["maxSizeRejection",""],["tuiLink",""],[4,"polymorpheusOutlet"],[3,"textContent",4,"polymorpheusOutlet"],[3,"textContent"],["title","","type","file",1,"t-native",3,"accept","id","multiple","tuiFocusable"],["input",""]],template:function(e,i){1&e&&(n.F$t($n),n.TgZ(0,"div",0),n.TgZ(1,"label",1),n.NdJ("mousedown.prevent.silent",function(){return 0})("tuiDroppableDragOverChange",function(s){return i.onDragOver(s)})("tuiDroppableDropped",function(s){return i.onDropped(s)}),n.TgZ(2,"div",2),n.YNc(3,An,1,0,"ng-container",3),n.YNc(4,Nn,6,6,"div",4),n.qZA(),n.YNc(5,Ln,4,4,"ng-container",4),n.qZA(),n.qZA(),n.YNc(6,Rn,2,3,"ng-template",null,5,n.W1O),n.YNc(8,Zn,3,5,"ng-template",null,6,n.W1O)),2&e&&(n.ekj("_mobile",i.isMobile),n.Q6J("active",i.pseudoActive)("disabled",i.computedDisabled)("focus",i.computedFocused)("hover",i.pseudoHover||i.fileDragged||null),n.xp6(3),n.Q6J("ngTemplateOutlet",i.template||null)("ngTemplateOutletContext",n.VKq(10,Un,i.fileDragged)),n.xp6(1),n.Q6J("ngIf",!i.template),n.xp6(1),n.Q6J("ngIf",!i.readOnly&&!i.computedDisabled))},directives:[Xe.o,on,_.tP,_.O5,qe.V,W.Li,Ye.t],pipes:[_.Ov,Hn],styles:['tui-input-files{display:block;min-height:var(--tui-height-l);border-radius:var(--tui-radius-m);font:var(--tui-font-text-m)}tui-input-files .t-native{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}tui-input-files .t-native::-webkit-file-upload-button{display:none}tui-input-files .t-native+.t-native{display:none}tui-input-files .t-label{width:100%;text-align:center}tui-input-files .t-description{display:flex;justify-content:center;align-items:center;height:100%;padding:1rem 0;box-sizing:border-box}[tuiWrapper][data-appearance=input-file]{background:transparent;word-wrap:break-word;color:var(--tui-text-02);min-height:inherit;border-radius:inherit;padding:0 .5rem;box-sizing:border-box}[tuiWrapper][data-appearance=input-file]:after{border:1px dashed;color:var(--tui-link)}[tuiWrapper][data-appearance=input-file]._mobile:after{border:1px solid}[tuiWrapper][data-appearance=input-file]:disabled:disabled:after,[tuiWrapper][data-appearance=input-file][data-state=disabled][data-state=disabled]:after{color:var(--tui-text-03)}:focus-visible:not([data-focused="false"])>[tuiWrapper][data-appearance=input-file]:after,[data-focused=true]>[tuiWrapper][data-appearance=input-file]:after{border-style:solid;border-width:2px;color:var(--tui-focus)}[tuiWrapper][data-appearance=input-file]:focus-visible:focus-visible:after{border-style:solid;border-width:2px;color:var(--tui-focus)}[tuiWrapper][data-appearance=input-file]._focused._focused:after{border-style:solid;border-width:2px;color:var(--tui-focus)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]{color:var(--tui-text-01-night)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:after{color:var(--tui-text-01-night)}:focus-visible:not([data-focused="false"])>[tuiWrapper][data-appearance=input-file][data-mode=onDark]:after,[data-focused=true]>[tuiWrapper][data-appearance=input-file][data-mode=onDark]:after{color:var(--tui-text-01-night)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:focus-visible:focus-visible:after{color:var(--tui-text-01-night)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]._focused._focused:after{color:var(--tui-text-01-night)}@media (hover: hover){[tuiWrapper][data-appearance=input-file][data-mode=onDark]:hover:not(._no-hover),[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=hover]{background:var(--tui-clear-inverse-hover)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:hover:not(._no-hover):after,[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=hover]:after{color:var(--tui-text-03-night)}}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:active:not(._no-active),[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active],[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active]:hover{background:var(--tui-clear-inverse-active)}[tuiWrapper][data-appearance=input-file][data-mode=onDark]:active:not(._no-active):after,[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active]:after,[tuiWrapper][data-appearance=input-file][data-mode=onDark][data-state=active]:hover:after{color:var(--tui-text-03-night)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]{color:var(--tui-text-01)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:after{color:var(--tui-text-01)}@media (hover: hover){[tuiWrapper][data-appearance=input-file][data-mode=onLight]:hover:not(._no-hover),[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=hover]{background:var(--tui-clear-hover)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:hover:not(._no-hover):after,[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=hover]:after{color:var(--tui-text-03)}}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:active:not(._no-active),[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active],[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active]:hover{background:var(--tui-clear-active)}[tuiWrapper][data-appearance=input-file][data-mode=onLight]:active:not(._no-active):after,[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active]:after,[tuiWrapper][data-appearance=input-file][data-mode=onLight][data-state=active]:hover:after{color:var(--tui-text-03)}@media (hover: hover){[tuiWrapper][data-appearance=input-file]:hover:not(._no-hover),[tuiWrapper][data-appearance=input-file][data-state=hover]{background:var(--tui-secondary)}[tuiWrapper][data-appearance=input-file]:hover:not(._no-hover):after,[tuiWrapper][data-appearance=input-file][data-state=hover]:after{color:var(--tui-link-hover)}}[tuiWrapper][data-appearance=input-file]:active:not(._no-active),[tuiWrapper][data-appearance=input-file][data-state=active],[tuiWrapper][data-appearance=input-file][data-state=active]:hover{background:var(--tui-secondary-hover)}\n'],encapsulation:2,changeDetection:0}),(0,I.gn)([E.UM],t.prototype,"computeLink$",null),(0,I.gn)([E.UM],t.prototype,"computeLabel$",null),(0,I.gn)([E.UM],t.prototype,"getValueArray",null),t})(),Bn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[_.ez,W.wq,sn.WD,an.F,Ke.c,un,ln.VE,Ye.u,rn,Xe.W,ae.EI,qe.j,et.dS,Z.fN,ue.n6,Pn]]}),t})();var Ie=d(21673),ut=d(62662),we=d(91211);function lt(t,o,e){return[De(t,o,e,5),De(t,o,e,3),De(t,o,e,1)]}function De(t,o,e,i){const r=(i+t/60)%6;return Math.round(e-e*o*Math.max(Math.min(r,4-r,1),0))}const X=[0,0,0,1];function Pe(t){const o=t.replace("#","").replace("rgba(","").replace("rgb(","").replace(")",""),e=o.split(",").map(s=>parseFloat(s));if(4===e.length)return e;if(3===e.length)return e.concat(1);const i=o.match(new RegExp(`(.{${o.length/3}})`,"g"));if(!i)return X;const r=i.map(s=>parseInt(o.length%2?s+s:s,16));return[r[0]||X[0],r[1]||X[1],r[2]||X[2],void 0===r[3]?X[3]:r[3]]}function ct(t,o,e){const{left:i,top:r,width:s,height:a}=e.getBoundingClientRect();return[(0,Q.Ki)(t-i,0,s)/s,(0,Q.Ki)(o-r,0,a)/a]}function pt(t){return t.slice(0,Math.max(0,t.length-1)).replace("linear-gradient(","")}const ri=["\\s*(","(?:","#(?:[a-f0-9]{6}|[a-f0-9]{3})","|","(?:rgb|hsl)","\\(\\s*(?:\\d{1,3}\\s*,\\s*){2}\\d{1,3}\\s*\\)","|","(?:rgba|hsla)","\\(\\s*(?:\\d{1,3}\\s*,\\s*){2}\\d{1,3}\\s*,\\s*\\d*\\.?\\d+\\)","|","[_a-z-][_a-z0-9-]*",")",")","(?:\\s+","(","(?:[+-]?\\d*\\.?\\d+)(?:%|[a-z]+)?","))?","(?:","\\s*,\\s*","\\s*)?"];function mt(t){const o=new RegExp(ri.join(""),"gi"),e=t.startsWith("to")||t.match(/^\d/)?t.slice(Math.max(0,t.indexOf(",")+1)).trim():t,i=t.startsWith("to")?t.split(",")[0]:"to bottom";let r=[],s=o.exec(e);for(;null!==s;)r=r.concat({color:s[1],position:si(s[2],r.length)}),s=o.exec(e);return r=r.filter(({color:a})=>a.startsWith("#")||a.startsWith("rgb")),{stops:r,side:i}}function si(t,o){const e=1===o?"100%":`${o}%`;return(null==t?void 0:t.includes("%"))?t:e}var Ae=d(221),q=d(39505),D=d(81620),Fe=d(98952);const ui=t=>t.querySelector("input,textarea")||t,ce={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"};function pe(t){return"string"==typeof t}function ht(t,o,e,i){let r="";for(let s=o.length;s<t.length;s++){const a=t[s],l=(null==i?void 0:i.value[s])===a;if(!pe(a)||a===e&&!l)return r;r+=a}return r}function ft(t,o){return Array.isArray(o)?t.length===o.length&&Array.from(t).every((e,i)=>{const r=o[i];return pe(r)?e===r:e.match(r)}):o.test(t)}function de(t,o,e=null){if(ft(t.value,o))return t;const{value:i,selection:r}=Array.isArray(o)?function(t,o,e){let i=null,r=null;const s=Array.from(t.value).reduce((l,u,c)=>{const g=l+ht(o,l,u,e),m=o[g.length];return pe(m)?g+m:u.match(m)?(null===i&&c>=t.selection[0]&&(i=g.length),null===r&&c>=t.selection[1]&&(r=g.length),g+u):g},""),a=ht(o,s,"",e);return{value:ft(s+a,o)?s+a:s,selection:[null!=i?i:s.length,null!=r?r:s.length]}}(t,o,e):function({value:t,selection:o},e){const[i,r]=o;let s=i,a=r;return{value:Array.from(t).reduce((u,c,p)=>{const g=u+c;return i===p&&(s=u.length),r===p&&(a=u.length),g.match(e)?g:u},""),selection:[s,a]}}(t,o);return{selection:r,value:Array.isArray(o)?i.slice(0,o.length):i}}function _t(t,o){if(!Array.isArray(o))return t;const[e,i]=t.selection,r=[],s=Array.from(t.value).reduce((a,l,u)=>{const c=o[u];return u===e&&r.push(a.length),u===i&&r.push(a.length),pe(c)&&c===l?a:a+l},"");return r.length<2&&r.push(...new Array(2-r.length).fill(s.length)),{value:s,selection:[r[0],r[1]]}}class ke{constructor(o,e){this.initialElementState=o,this.maskOptions=e,this.value="",this.selection=[0,0];const{value:i,selection:r}=de(o,this.getMaskExpression(o));this.value=i,this.selection=r}addCharacters([o,e],i){const{value:r}=this,s=this.getMaskExpression({value:r.slice(0,o)+i+r.slice(e),selection:[o+i.length,o+i.length]}),a={value:r,selection:[o,e]},l=_t(a,s),[u,c]=function({value:t,selection:o},e,i){const[r,s]=o;return{value:t,selection:"replace"===("function"==typeof i?i({value:t,selection:o}):i)?[r,r+e.length]:[r,s]}}(l,i,this.maskOptions.overwriteMode).selection,p=l.value.slice(0,u)+i,g=p.length,m=de({value:p+l.value.slice(c),selection:[g,g]},s,a);if(r.slice(0,u)===de({value:p,selection:[g,g]},s,a).value||function(t,...o){return o.every(({value:e,selection:i})=>e===t.value&&i[0]===t.selection[0]&&i[1]===t.selection[1])}(this,m))throw new Error("Invalid mask value");this.value=m.value,this.selection=m.selection}deleteCharacters([o,e]){if(o===e||!e)return;const{value:i}=this,r=this.getMaskExpression({value:i.slice(0,o)+i.slice(e),selection:[o,o]}),s={value:i,selection:[o,e]},a=_t(s,r),[l,u]=a.selection,p=de({value:a.value.slice(0,l)+a.value.slice(u),selection:[l,l]},r,s);this.value=p.value,this.selection=p.selection}getMaskExpression(o){const{mask:e}=this.maskOptions;return"function"==typeof e?e(o):e}}class hi{constructor(o){this.element=o,this.listeners=[]}listen(o,e,i){const r=e;this.element.addEventListener(o,r,i),this.listeners.push(()=>this.element.removeEventListener(o,r))}destroy(){this.listeners.forEach(o=>o())}}function ee(t,o,e){return t.ctrlKey===!!(1&o)&&t.altKey===!!(2&o)&&t.shiftKey===!!(4&o)&&t.metaKey===!!(8&o)&&t.keyCode===e}function Ti({value:t,selection:o},e){const[i,r]=o;if(i!==r)return[i,r];const s=e?t.slice(i).indexOf("\n")+1||t.length:t.slice(0,r).lastIndexOf("\n")+1;return[e?i:s,e?s:r]}function vt({value:t,selection:o},e){const[i,r]=o;return i!==r?[i,r]:(e?[i,r+1]:[i-1,r]).map(a=>Math.min(Math.max(a,0),t.length))}const Ct=/\s+$/g,Tt=/^\s+/g,bt=/\s/;function bi({value:t,selection:o},e){const[i,r]=o;if(i!==r)return[i,r];if(e){const u=t.slice(i),[c]=u.match(Tt)||[""],p=u.replace(Tt,"").search(bt);return[i,-1!==p?i+c.length+p:t.length]}const s=t.slice(0,r),[a]=s.match(Ct)||[""],l=s.replace(Ct,"").split("").reverse().findIndex(u=>u.match(bt));return[-1!==l?r-a.length-l:0,r]}function ge(t=[]){return(o,...e)=>t.reduce((i,r)=>Object.assign(Object.assign({},i),r(i,...e)),o)}function Ne(t,o){const e=Object.assign(Object.assign({},ce),o),i=ge(e.preprocessors),r=ge(e.postprocessors),s="string"==typeof t?{value:t,selection:[0,0]}:t,{elementState:a}=i({elementState:s,data:""},"validation"),l=new ke(a,e),{value:u,selection:c}=r(l,s);return"string"==typeof t?u:{value:u,selection:c}}class xi extends class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const o=this.past.pop();o&&this.now&&(this.future.push(this.now),this.updateElement(o,"historyUndo"))}redo(){const o=this.future.pop();o&&this.now&&(this.past.push(this.now),this.updateElement(o,"historyRedo"))}updateHistory(o){if(!this.now)return void(this.now=o);const e=this.now.value!==o.value,i=this.now.selection.some((r,s)=>r!==o.selection[s]);!e&&!i||(e&&(this.past.push(this.now),this.future=[]),this.now=o)}updateElement(o,e){this.now=o,this.updateElementState(o,{inputType:e,data:null})}}{constructor(o,e){super(),this.element=o,this.maskitoOptions=e,this.isTextArea="TEXTAREA"===this.element.nodeName,this.eventListener=new hi(this.element),this.options=Object.assign(Object.assign({},ce),this.maskitoOptions),this.preprocessor=ge(this.options.preprocessors),this.postprocessor=ge(this.options.postprocessors),this.teardowns=this.options.plugins.map(i=>i(this.element,this.options)),this.ensureValueFitsMask(),this.updateHistory(this.elementState),this.eventListener.listen("keydown",i=>{return ee(t=i,1,89)||ee(t,5,90)||ee(t,12,90)?(i.preventDefault(),this.redo()):function(t){return ee(t,1,90)||ee(t,8,90)}(i)?(i.preventDefault(),this.undo()):void 0;var t}),"onbeforeinput"in o?this.eventListener.listen("beforeinput",i=>{const r=i.inputType.includes("Forward");switch(this.updateHistory(this.elementState),i.inputType){case"historyUndo":return i.preventDefault(),this.undo();case"historyRedo":return i.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:i,isForward:r,selection:vt(this.elementState,r)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:i,isForward:r,selection:bi(this.elementState,r),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:i,isForward:r,selection:Ti(this.elementState,r),force:!0});case"insertCompositionText":return;case"insertLineBreak":return this.handleEnter(i);default:return this.handleInsert(i,i.data||"")}}):(this.eventListener.listen("keydown",i=>this.handleKeydown(i)),this.eventListener.listen("paste",i=>{var r;return this.handleInsert(i,(null===(r=i.clipboardData)||void 0===r?void 0:r.getData("text/plain"))||"")})),this.eventListener.listen("input",({inputType:i})=>{"insertCompositionText"!==i&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}get elementState(){const{value:o,selectionStart:e,selectionEnd:i}=this.element;return{value:o,selection:[e||0,i||0]}}get maxLength(){const{maxLength:o}=this.element;return-1===o?1/0:o}destroy(){this.eventListener.destroy(),this.teardowns.forEach(o=>null==o?void 0:o())}updateElementState({value:o,selection:e},i={inputType:"insertText",data:null}){const r=this.elementState.value;this.updateValue(o),this.updateSelectionRange(e),r!==o&&this.dispatchInputEvent(i)}updateSelectionRange([o,e]){var i,r;(this.element.selectionStart!==o||this.element.selectionEnd!==e)&&(null===(r=(i=this.element).setSelectionRange)||void 0===r||r.call(i,o,e))}updateValue(o){this.element.value=o}ensureValueFitsMask(){this.updateElementState(Ne(this.elementState,this.options))}dispatchInputEvent(o={inputType:"insertText",data:null}){const e="undefined"!=typeof window?window:globalThis;(null==e?void 0:e.InputEvent)&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},o),{bubbles:!0,cancelable:!1})))}handleKeydown(o){const e=o.key,i="Delete"===e;switch(e){case"Backspace":case"Delete":return this.handleDelete({event:o,isForward:i,selection:vt(this.elementState,i)});case"Enter":return this.handleEnter(o)}!function({key:t,ctrlKey:o,metaKey:e,altKey:i}){const r=o||e||i,s=/^.$/u.test(t);return!r&&"Backspace"!==t&&s}(o)||this.handleInsert(o,e)}handleDelete({event:o,selection:e,isForward:i,force:r=!1}){const s={value:this.elementState.value,selection:e},[a,l]=s.selection,{elementState:u}=this.preprocessor({elementState:s,data:""},i?"deleteForward":"deleteBackward"),c=new ke(u,this.options),[p,g]=u.selection;c.deleteCharacters([p,g]);const m=this.postprocessor(c,s);if(s.value.slice(0,a)+s.value.slice(l)!==m.value||r)return o.preventDefault(),function(t,...o){return o.every(({value:e})=>e===t.value)}(s,u,c,m)?this.updateSelectionRange(i?[g,g]:[p,p]):(this.updateElementState(m,{inputType:"inputType"in o?o.inputType:i?"deleteContentForward":"deleteContentBackward",data:null}),void this.updateHistory(m))}handleInsert(o,e){const i=this.elementState,{elementState:r,data:s=e}=this.preprocessor({data:e,elementState:i},"insert"),a=new ke(r,this.options);try{a.addCharacters(r.selection,s)}catch(g){return o.preventDefault()}const[l,u]=r.selection,c=r.value.slice(0,l)+e+r.value.slice(u),p=this.postprocessor(a,i);if(p.value.length>this.maxLength)return o.preventDefault();c!==p.value&&(o.preventDefault(),this.updateElementState(p,{data:e,inputType:"inputType"in o?o.inputType:"insertText"}),this.updateHistory(p))}handleEnter(o){this.isTextArea&&this.handleInsert(o,"\n")}}const Mi=[".",",","\u0431","\u044e"],me=(new Date("0001-01-01"),new Date("9999-12-31"),"\u2013"),Ze="\u2014",te="-";function U(t,o,e){const i=Math.min(Number(e),Math.max(Number(o),Number(t)));return t instanceof Date?new Date(i):i}const Dt=/[\\^$.*+?()[\]{}|]/g,wi=new RegExp(Dt.source);function T(t){return t&&wi.test(t)?t.replace(Dt,"\\$&"):t}function G(t){return t}function Ei(t){const o=new RegExp(`${T(t)}$`);return t?({value:e,selection:i},r)=>{if(!e&&!r.value.endsWith(t))return{value:e,selection:i};if(!e.endsWith(t)&&!r.value.endsWith(t))return{selection:i,value:e+t};const s=r.value.replace(o,""),a=r.selection[1]>=s.length,l=function(t,o){let e="";for(let i=0;i<t.length;i++){if(t[i]!==o[i])return e;e+=t[i]}return e}(s,e);return{selection:i,value:Array.from(t).reverse().reduce((u,c,p)=>{const g=u.length-1-p;return u[g]!==c||l[g]===c&&a?u.slice(0,g+1)+c+u.slice(g+1):u},e)}}:G}function Si(t){return t?({value:o,selection:e},i)=>{if(o.startsWith(t)||!o&&!i.value.startsWith(t))return{value:o,selection:e};const[r,s]=e,a=Array.from(t).reduce((l,u,c)=>(l+o)[c]===u?l:l+u,"");return{selection:[r+a.length,s+a.length],value:a+o}}:G}function B(t,o,e){return(i,r)=>{const s=()=>o(i,r);return i.addEventListener(t,s,e),()=>i.removeEventListener(t,s,e)}}function At(t){return o=>{const e=o.ownerDocument;let i=0;const r=()=>i++,s=()=>{i=Math.max(--i,0)},a=()=>{if(function({activeElement:t}){if(!(null==t?void 0:t.shadowRoot))return t;let o=t.shadowRoot.activeElement;for(;null==o?void 0:o.shadowRoot;)o=o.shadowRoot.activeElement;return o}(e)!==o)return;if(i)return e.addEventListener("mouseup",a,{once:!0,passive:!0});const l=o.selectionStart||0,u=o.selectionEnd||0,[c,p]=t(o.value,[l,u]);(c>l||p<u)&&o.setSelectionRange(U(l,c,p),U(u,c,p))};return e.addEventListener("selectionchange",a,{passive:!0}),o.addEventListener("mousedown",r,{passive:!0}),e.addEventListener("mouseup",s,{passive:!0}),()=>{e.removeEventListener("selectionchange",a),e.removeEventListener("mousedown",r),e.removeEventListener("mouseup",s)}}}function Rt({decimalSeparator:t,isNegativeAllowed:o,precision:e,thousandSeparator:i,prefix:r,postfix:s,decimalPseudoSeparators:a=[],pseudoMinuses:l=[]}){const u=Zt(r),p=o?`[\u2212${l.map(f=>`\\${f}`).join("")}]?`:"",g=i?`[\\d${T(i).replace(/\s/g,"\\s")}]*`:"[\\d]*",m=e>0?`([${T(t)}${a.map(T).join("")}]\\d{0,${Number.isFinite(e)?e:""}})?`:"",h=Zt(s);return new RegExp(`^${u}${p}${g}${m}${h}$`)}function Zt(t){return t?`${t.split("").map(o=>`${T(o)}?`).join("")}`:""}function V(t,o="."){const e=!!t.match(new RegExp(`^\\D*[\u2212\\${te}${me}${Ze}]`)),i=t.replace(new RegExp(`[^\\d${T(o)}]`,"g"),"").replace(o,".");return i?Number((e?te:"")+i):NaN}function Hi({decimalSeparator:t,precision:o,decimalZeroPadding:e,postfix:i}){if(o<=0||!e)return G;const r=new RegExp(`${T(i)}$`);return({value:s,selection:a})=>{if(Number.isNaN(V(s)))return{value:s,selection:a};const[l,u=""]=s.replace(r,"").split(t);return{value:l+t+u.padEnd(o,"0")+i,selection:a}}}function Bi({decimalSeparator:t,decimalPseudoSeparators:o,pseudoMinuses:e}){let i=!0;const r=Rt({decimalSeparator:t,decimalPseudoSeparators:o,pseudoMinuses:e,prefix:"",postfix:"",thousandSeparator:"",precision:1/0,isNegativeAllowed:!0});return({elementState:s,data:a})=>i?(i=!1,{elementState:Ne(s,{mask:r}),data:a}):{elementState:s,data:a}}function ji({min:t,max:o,decimalSeparator:e}){return({value:i,selection:r})=>{const s=V(i,e),a=s>0?Math.min(s,o):Math.max(s,t);if(!Number.isNaN(s)&&a!==s){const l=`${a}`.replace(".",e).replace(te,"\u2212");return{value:l,selection:[l.length,l.length]}}return{value:i,selection:r}}}function Ji({decimalSeparator:t,thousandSeparator:o,decimalZeroPadding:e}){return({elementState:i,data:r},s)=>{const{value:a,selection:l}=i,[u,c]=l,p=a.slice(u,c),g=e?[t,o]:[o],m=e&&u>a.indexOf(t)&&Boolean(p.match(/^0+$/gi));return"deleteBackward"!==s&&"deleteForward"!==s||!g.includes(p)&&!m?{elementState:i,data:r}:{elementState:{value:a,selection:"deleteForward"===s?[c,c]:[u,u]},data:r}}}function zi({decimalSeparator:t,precision:o}){const e=new RegExp(`^\\D*${T(t)}`);return({elementState:i,data:r})=>{const{value:s,selection:a}=i,[l]=a;return o<=0||s.includes(t)||!r.match(e)?{elementState:i,data:r}:{elementState:i,data:s.slice(0,l).match(/\d+/)?r:`0${r}`}}}function $t(t,o){const e=new RegExp(`[${o.join("")}]`,"gi");return({elementState:i,data:r})=>{const{value:s,selection:a}=i;return{elementState:{selection:a,value:s.replace(e,t)},data:r.replace(e,t)}}}function Qi(t){return({elementState:o,data:e})=>{const{value:i,selection:r}=o,[s,a]=r;return{elementState:o,data:!i.includes(t)||i.slice(s,a+1).includes(t)?e:e.replace(new RegExp(T(t),"gi"),"")}}}function Wi({thousandSeparator:t,decimalSeparator:o,prefix:e,postfix:i}){if(!t)return G;const r=new RegExp(`^${T(e)}\u2212?`),s=new RegExp(`${T(i)}$`);return({value:l,selection:u})=>{const[c,p=""]=l.split(o),[g,m]=u;let[h,f]=u;const b=c.replace(r,"").replace(s,""),[C=""]=c.match(r)||[],[x=""]=c.match(s)||[],A=Array.from(b).reduceRight((O,F,k)=>{const Be=!(!k&&F===t)&&O.length&&(O.length+1)%4==0;return Be&&(F===t||((...l)=>l.every(u=>/\s/.test(u)))(F,t))?t+O:F!==t||Be?Be?(k<=g&&h++,k<=m&&f++,F+t+O):F+O:(k&&k<=g&&h--,k&&k<=m&&f--,O)},"");return{value:C+A+x+(l.includes(o)?o:"")+p,selection:[h,f]}}}function Yi(t,o){if(t>0)return G;const e=new RegExp(`${T(o)}.*$`,"g");return({elementState:i,data:r})=>{const{value:s,selection:a}=i,[l,u]=a,c=s.replace(e,"");return{elementState:{selection:[Math.min(l,c.length),Math.min(u,c.length)],value:c},data:r.replace(e,"")}}}new RegExp(`[${[":","."].map(T).join("")}]$`);const Ut=[0,0];function Gi(t,o){const e=function(t,o){const e=r=>{const s=T(o);return r.replace(new RegExp(`^(\\D+)?[0${s}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${s}]+(?=[1-9])`),"$1")},i=(r,s)=>{const a=r.slice(0,s),l=r.slice(s).startsWith("0");return a.length-e(a).length+(l?1:0)};return({value:r,selection:s})=>{const[a,l]=s,u=r.includes(t),[c,p=""]=r.split(t),g=e(c);if(c===g)return{value:r,selection:s};const m=a-i(r,a),h=l-i(r,l);return{value:g+(u?t:"")+p,selection:[Math.max(m,0),Math.max(h,0)]}}}(t,o);return B("blur",i=>{const r=e({value:i.value,selection:Ut},{value:"",selection:Ut}).value;i.value!==r&&(i.value=r,i.dispatchEvent(new Event("input")))},{capture:!0})}function Ki({min:t,max:o,decimalSeparator:e}){return B("blur",(i,r)=>{const s=V(i.value,e),a=U(s,t,o);!Number.isNaN(s)&&s!==a&&(i.value=Ne(function(t){const o=String(t),[e,i]=o.split("e-");let r=o;if(i){const[,s]=e.split("."),a=Number(i)+((null==s?void 0:s.length)||0);r=t.toFixed(a)}return r}(a),r),i.dispatchEvent(new Event("input")))},{capture:!0})}function Xi(t){return B("blur",o=>{const e=o.value.replace(new RegExp(`^(\\D+)?${T(t)}`),`$10${t}`);e!==o.value&&(o.value=e,o.dispatchEvent(new Event("input")))},{capture:!0})}var be=d(4022),Ht=d(43631),Bt=d(12067),to=d(10620);let Vt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["","tuiValueAccessor",""]],features:[n._Bn([to.E2])]}),t})(),He=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),jt=(()=>{class t{constructor(e,i){this.ngZone=e,this.elementRef=i,this.maskedElement=null,this.maskito=ce,this.maskitoElement=ui}ngOnChanges(){var e;return(0,I.mG)(this,void 0,void 0,function*(){null===(e=this.maskedElement)||void 0===e||e.destroy();const i=this.maskitoElement,r=yield i(this.elementRef.nativeElement);this.maskitoElement===i&&this.ngZone.runOutsideAngular(()=>{this.maskedElement=new xi(r,this.maskito)})})}ngOnDestroy(){var e;null===(e=this.maskedElement)||void 0===e||e.destroy()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.R0b),n.Y36(n.SBq))},t.\u0275dir=n.lG2({type:t,selectors:[["","maskito",""]],inputs:{maskito:"maskito",maskitoElement:"maskitoElement"},features:[n.TTD]}),t})(),Jt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();function no(t,o){if(1&t&&(n.ynx(0),n._uU(1),n.BQk()),2&t){const e=o.polymorpheusOutlet;n.xp6(1),n.hij(" ",e," ")}}function io(t,o){if(1&t&&(n.TgZ(0,"div",6),n.YNc(1,no,2,1,"ng-container",7),n.qZA()),2&t){n.oxw();const e=n.MAs(9);n.xp6(1),n.Q6J("polymorpheusOutlet",e)}}function oo(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"section",8),n.TgZ(1,"button",9),n.NdJ("click.prevent",function(){n.CHM(e);const r=n.oxw();return r.onArrow(r.step)})("mousedown.prevent",function(){n.CHM(e);const r=n.oxw();return null==r.nativeFocusableElement?null:r.nativeFocusableElement.focus()}),n._uU(2," + "),n.qZA(),n.TgZ(3,"button",9),n.NdJ("click.prevent",function(){n.CHM(e);const r=n.oxw();return r.onArrow(-r.step)})("mousedown.prevent",function(){n.CHM(e);const r=n.oxw();return null==r.nativeFocusableElement?null:r.nativeFocusableElement.focus()}),n._uU(4," - "),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(),i=n.MAs(1);n.xp6(1),n.Q6J("appearance",i.appearance)("disabled",!e.canIncrement)("focusable",!1)("icon",e.options.icons.up),n.xp6(2),n.Q6J("appearance",i.appearance)("disabled",!e.canDecrement)("focusable",!1)("icon",e.options.icons.down)}}function ro(t,o){1&t&&n.GkF(0)}function so(t,o){1&t&&n.Hsn(0,2)}const ao=["*",[["input"]],[["tuiContent"]]],uo=["*","input","tuiContent"],Qt=(0,L.JN)({icons:{up:"tuiIconPlus",down:"tuiIconMinus"},min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,step:0,decimal:"not-zero",precision:2}),co=new n.OlP("");let Wt=(()=>{class t extends J.F9{constructor(e,i,r,s,a,l,u,c){super(e,i,r),this.options=s,this.numberFormat=a,this.isIOS=l,this.textfieldSize=u,this.controller=c,this.unfinishedValue="",this.min=this.options.min,this.max=this.options.max,this.decimal=this.options.decimal,this.precision=this.options.precision,this.step=this.options.step,this.prefix="",this.postfix="",this.polymorpheusValueContent=se.Mm}get size(){return this.textfieldSize.size}get computedMin(){return this.computeMin(this.min,this.max)}get computedMax(){return this.computeMax(this.min,this.max)}get nativeFocusableElement(){return!this.textfield||this.computedDisabled?null:this.textfield.nativeFocusableElement}get focused(){var e;return!!(null===(e=this.textfield)||void 0===e?void 0:e.focused)}get isNegativeAllowed(){return this.computedMin<0}get inputMode(){return this.isIOS&&this.isNegativeAllowed?"text":"never"===this.decimal?"numeric":"decimal"}get calculatedMaxLength(){return 18+("never"!==this.decimal&&this.nativeValue.includes(this.numberFormat.decimalSeparator)?Math.min(this.precision+1,20):0)+this.numberFormat.thousandSeparator.repeat(5).length}get formattedValue(){return null!==this.value?this.getFormattedValue(this.value||0):""}get computedValue(){return this.focused?this.nativeValue:this.formattedValue}get canDecrement(){return this.interactive&&(this.value||0)>this.computedMin}get canIncrement(){return this.interactive&&(this.value||0)<this.computedMax}get computedPrefix(){return this.prefix||this.controller.prefix}get computedPostfix(){const e=this.postfix||this.controller.postfix;return e&&` ${e}`}get mask(){return this.calculateMask(this.precision,this.decimal,this.numberFormat.decimalSeparator,this.numberFormat.thousandSeparator,this.computedMin,this.computedMax,this.computedPrefix,this.computedPostfix)}onArrow(e){!e||(this.value=(0,Q.Ki)((this.value||0)+e,this.computedMin,this.computedMax),this.nativeValue=this.formattedValue)}onValueChange(e){const i=V(e,this.numberFormat.decimalSeparator);this.unfinishedValue=null,Number.isNaN(i)?this.value=null:this.isNativeValueNotFinished?this.unfinishedValue=e:i<this.computedMin||i>this.computedMax||(this.value=i)}onFocused(e){this.updateFocused(e);const i=this.unfinishedValue?V(this.unfinishedValue,this.numberFormat.decimalSeparator):this.nativeNumberValue;if(this.unfinishedValue=null,Number.isNaN(i))return this.nativeValue=e?this.computedPrefix+this.computedPostfix:"",void(this.value=null);e||(this.value=i,this.nativeValue=this.formattedValue)}getFormattedValue(e){const r=Math.abs(e)%1>0;let s="always"===this.decimal||r&&"never"!==this.decimal?this.precision:0;const a=r?(0,Bt.Lf)(e,this.precision):"";return this.focused&&"always"!==this.decimal&&(s=a.length),this.computedPrefix+(0,Bt.lx)(e,Object.assign(Object.assign({},this.numberFormat),{decimalLimit:s})).replace(se.fv,se.em)+this.computedPostfix}get isNativeValueNotFinished(){const e=this.nativeNumberValue;return e<0?e>this.computedMax:e<this.computedMin}get nativeValue(){return this.nativeFocusableElement?this.nativeFocusableElement.value:""}set nativeValue(e){!this.textfield||!this.nativeFocusableElement||(this.textfield.value=e,this.nativeFocusableElement.value=e)}writeValue(e){super.writeValue(e),this.nativeValue=this.formattedValue}get nativeNumberValue(){return V(this.nativeValue,this.numberFormat.decimalSeparator)}computeMin(e,i){var r,s,a,l,u,c;return Math.min(null!==(a=null!==(s=null===(r=this.valueTransformer)||void 0===r?void 0:r.fromControlValue(e))&&void 0!==s?s:e)&&void 0!==a?a:this.options.min,null!==(c=null!==(u=null===(l=this.valueTransformer)||void 0===l?void 0:l.fromControlValue(i))&&void 0!==u?u:i)&&void 0!==c?c:this.options.max)}computeMax(e,i){var r,s,a,l,u,c;return Math.max(null!==(a=null!==(s=null===(r=this.valueTransformer)||void 0===r?void 0:r.fromControlValue(e))&&void 0!==s?s:e)&&void 0!==a?a:this.options.min,null!==(c=null!==(u=null===(l=this.valueTransformer)||void 0===l?void 0:l.fromControlValue(i))&&void 0!==u?u:i)&&void 0!==c?c:this.options.max)}calculateMask(e,i,r,s,a,l,u,c){const p=function({max:t=Number.MAX_SAFE_INTEGER,min:o=Number.MIN_SAFE_INTEGER,precision:e=0,thousandSeparator:i="\xa0",decimalSeparator:r=".",decimalPseudoSeparators:s,decimalZeroPadding:a=!1,prefix:l="",postfix:u=""}={}){const c=[te,me,Ze].filter(g=>g!==i&&g!==r),p=function({decimalSeparator:t,thousandSeparator:o,decimalPseudoSeparators:e=Mi}){return e.filter(i=>i!==o&&i!==t)}({decimalSeparator:r,thousandSeparator:i,decimalPseudoSeparators:s});return Object.assign(Object.assign({},ce),{mask:Rt({decimalSeparator:r,precision:e,thousandSeparator:i,prefix:l,postfix:u,isNegativeAllowed:o<0}),preprocessors:[Bi({decimalSeparator:r,decimalPseudoSeparators:p,pseudoMinuses:c}),$t("\u2212",c),$t(r,p),zi({decimalSeparator:r,precision:e}),Ji({decimalSeparator:r,decimalZeroPadding:a,thousandSeparator:i}),Yi(e,r),Qi(r)],postprocessors:[ji({decimalSeparator:r,min:o,max:t}),Si(l),Ei(u),Wi({decimalSeparator:r,thousandSeparator:i,prefix:l,postfix:u}),Hi({decimalSeparator:r,decimalZeroPadding:a,precision:e,postfix:u})],plugins:[Gi(r,i),Xi(r),Ki({min:o,max:t,decimalSeparator:r})],overwriteMode:a?({value:g,selection:[m]})=>m<=g.indexOf(r)?"shift":"replace":"shift"})}({decimalSeparator:r,thousandSeparator:s,min:a,max:l,prefix:u,postfix:c,precision:"never"===i?0:e,decimalZeroPadding:"always"===i}),{plugins:g}=p,m=(0,I._T)(p,["plugins"]);return Object.assign(Object.assign({},m),{plugins:[...g,At(h=>[u.length,h.length-c.length])]})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(y.a5,10),n.Y36(n.sBO),n.Y36(co,8),n.Y36(Qt),n.Y36(be.HO),n.Y36(z.FA),n.Y36(M.kI),n.Y36(M.Cs))},t.\u0275cmp=n.Xpm({type:t,selectors:[["tui-input-number"]],contentQueries:function(e,i,r){if(1&e&&n.Suo(r,W.Li,5),2&e){let s;n.iGM(s=n.CRH())&&(i.polymorpheusValueContent=s)}},viewQuery:function(e,i){if(1&e&&n.Gf(D.yc,5),2&e){let r;n.iGM(r=n.CRH())&&(i.textfield=r.first)}},hostVars:1,hostBindings:function(e,i){1&e&&n.NdJ("keydown.arrowDown",function(){return i.onArrow(-i.step)})("keydown.arrowUp",function(){return i.onArrow(i.step)}),2&e&&n.uIk("data-size",i.size)},inputs:{min:"min",max:"max",decimal:"decimal",precision:"precision",step:"step",prefix:"prefix",postfix:"postfix"},features:[n._Bn([(0,z.FT)(t),(0,J.wB)(t),M.Y0]),n.qOj],ngContentSelectors:uo,decls:10,vars:14,consts:[["tuiTextfieldPostfix","","tuiTextfieldPrefix","","tuiValueAccessor","",1,"t-textfield",3,"disabled","focusable","invalid","maskito","pseudoActive","pseudoFocus","pseudoHover","readOnly","value","focusedChange","valueChange"],["textfield",""],["ngProjectAs","tuiContent","class","t-value-content",5,["tuiContent"],4,"ngIf"],["class","t-buttons",4,"ngIf"],[4,"ngIf"],["valueContent",""],["ngProjectAs","tuiContent",5,["tuiContent"],1,"t-value-content"],[4,"polymorpheusOutlet"],[1,"t-buttons"],["size","s","tuiIconButton","","type","button",1,"t-button",3,"appearance","disabled","focusable","icon","click.prevent","mousedown.prevent"]],template:function(e,i){1&e&&(n.F$t(ao),n.TgZ(0,"tui-primitive-textfield",0,1),n.NdJ("focusedChange",function(s){return i.onFocused(s)})("valueChange",function(s){return i.onValueChange(s)}),n.Hsn(2),n.Hsn(3,1,["ngProjectAs","input",5,["input"]]),n.YNc(4,io,2,1,"div",2),n.qZA(),n.YNc(5,oo,5,8,"section",3),n.YNc(6,ro,1,0,"ng-container",4),n.ALo(7,"async"),n.YNc(8,so,1,0,"ng-template",null,5,n.W1O)),2&e&&(n.Q6J("disabled",i.computedDisabled)("focusable",i.focusable)("invalid",i.computedInvalid)("maskito",i.mask)("pseudoActive",i.pseudoActive)("pseudoFocus",i.computedFocused)("pseudoHover",i.pseudoHover)("readOnly",i.readOnly)("value",i.computedValue),n.xp6(4),n.Q6J("ngIf",i.polymorpheusValueContent.length),n.xp6(1),n.Q6J("ngIf",i.step),n.xp6(1),n.Q6J("ngIf",n.lcZ(7,12,i.polymorpheusValueContent.changes)))},directives:[D.yc,D.B1,M.Tq,M.A7,Vt,jt,_.O5,W.Li,Z.v0],pipes:[_.Ov],styles:["[_nghost-%COMP%]{display:flex;border-radius:var(--tui-radius-m);text-align:left}.t-textfield[_ngcontent-%COMP%]{flex:1;max-width:100%;border-radius:inherit;text-align:inherit}.t-textfield[_ngcontent-%COMP%]:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.t-value-content[_ngcontent-%COMP%]{width:100%}.t-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;margin-left:.125rem;border-radius:inherit}[data-size=s][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]{flex-direction:row-reverse}[data-size=s][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]:first-child{margin:0 0 0 .125rem;border-top-right-radius:inherit;border-bottom-right-radius:inherit}[data-size=s][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]:last-child{border-radius:0}[data-size=m][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]{width:calc(var(--tui-height-m) * .75)}[data-size=l][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]{width:calc(var(--tui-height-l) * .75)}.t-button[_ngcontent-%COMP%]{display:flex;flex:1;height:auto;border-radius:0}.t-button[_ngcontent-%COMP%]:first-child{margin-bottom:.125rem;border-top-right-radius:inherit}.t-button[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:inherit}"],changeDetection:0}),(0,I.gn)([E.UM],t.prototype,"computeMin",null),(0,I.gn)([E.UM],t.prototype,"computeMax",null),(0,I.gn)([E.UM],t.prototype,"calculateMask",null),t})(),po=(()=>{class t extends Ht.D1{get value(){return this.host.computedValue}onValueChange(e){this.host.onValueChange(e)}ngDoCheck(){!this.host.nativeFocusableElement||(this.host.nativeFocusableElement.inputMode=this.host.inputMode,this.host.nativeFocusableElement.maxLength=this.host.nativeFocusableElement.maxLength>0?this.host.nativeFocusableElement.maxLength:this.host.calculatedMaxLength)}}return t.\u0275fac=function(){let o;return function(i){return(o||(o=n.n5z(t)))(i||t)}}(),t.\u0275dir=n.lG2({type:t,selectors:[["tui-input-number"]],features:[n._Bn([(0,be.cp)(t)]),n.qOj]}),t})(),go=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[_.ez,Jt,D.KW,M.cn,He,W.wq,Z.fN]]}),t})();function mo(t,o){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"section",2),n.TgZ(2,"button",3),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).increaseValue()})("mousedown",function(r){n.CHM(e);const s=n.oxw(2);return s.onButtonMouseDown(r,s.plusButtonDisabled)}),n.qZA(),n.TgZ(3,"button",4),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).decreaseValue()})("mousedown",function(r){n.CHM(e);const s=n.oxw(2);return s.onButtonMouseDown(r,s.minusButtonDisabled)}),n.qZA(),n.qZA(),n.BQk()}if(2&t){const e=o.ngIf,i=n.oxw(2);n.xp6(2),n.Q6J("appearance",i.options.appearance)("disabled",i.plusButtonDisabled)("focusable",!1)("icon",i.iconUp)("title",e[0]),n.xp6(1),n.Q6J("appearance",i.options.appearance)("disabled",i.minusButtonDisabled)("focusable",!1)("icon",i.iconDown)("title",e[1])}}function ho(t,o){if(1&t&&(n.ynx(0),n.YNc(1,mo,4,10,"ng-container",1),n.ALo(2,"async"),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,e.minusTexts$))}}const fo=["*",[["input"]]],_o=["*","input"],Gt=(0,L.JN)({icons:{up:"tuiIconPlus",down:"tuiIconMinus"},appearance:"textfield",hideButtons:!1,min:0,max:Number.MAX_SAFE_INTEGER,step:1,postfix:""});let vo=(()=>{class t extends J.F9{constructor(e,i,r,s,a,l,u){super(e,i),this.textfieldController=r,this.minusTexts$=s,this.isMobile=a,this.options=l,this.numberFormat=u,this.step=this.options.step,this.min=this.options.min,this.max=this.options.max,this.hideButtons=this.options.hideButtons,this.prefix="",this.postfix=this.options.postfix}get computedMin(){var e;return null!==(e=this.min)&&void 0!==e?e:this.options.min}get computedMax(){var e;return null!==(e=this.max)&&void 0!==e?e:this.options.max}get buttonsHidden(){return this.hideButtons||"table"===this.textfieldController.appearance}get iconUp(){return this.options.icons.up}get iconDown(){return this.options.icons.down}get nativeFocusableElement(){return!this.inputNumber||this.computedDisabled?null:this.inputNumber.nativeFocusableElement}get size(){return this.textfieldController.size}get focused(){return(0,Ge.V8)(this.nativeFocusableElement)}get minusButtonDisabled(){return!this.interactive||(0,L.Pc)(this.value)&&this.value<=this.computedMin}get plusButtonDisabled(){return!this.interactive||(0,L.Pc)(this.value)&&this.value>=this.computedMax}onButtonMouseDown(e,i=!1){i||!this.nativeFocusableElement||this.isMobile||(e.preventDefault(),this.nativeFocusableElement.focus())}onFocused(e){this.updateFocused(e)}onInputNumberChange(e){this.value=e}onValueChange(e){this.value=V(e,this.numberFormat.decimalSeparator)}decreaseValue(){this.readOnly||this.safeUpdateValue((this.value||0)-this.step)}increaseValue(){this.readOnly||this.safeUpdateValue((this.value||0)+this.step)}onKeydown(e){switch(e.key){case"ArrowUp":case"Up":this.increaseValue(),e.preventDefault();break;case"ArrowDown":case"Down":this.decreaseValue(),e.preventDefault()}}safeUpdateValue(e){this.value=(0,Q.Ki)(e,this.computedMin,this.computedMax)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(y.a5,10),n.Y36(n.sBO),n.Y36(M.Cs),n.Y36(le.mT),n.Y36(z.fL),n.Y36(Gt),n.Y36(be.HO))},t.\u0275cmp=n.Xpm({type:t,selectors:[["tui-input-count"]],viewQuery:function(e,i){if(1&e&&n.Gf(Wt,5),2&e){let r;n.iGM(r=n.CRH())&&(i.inputNumber=r.first)}},hostVars:3,hostBindings:function(e,i){2&e&&(n.uIk("data-size",i.size),n.ekj("_hide-buttons",i.buttonsHidden))},inputs:{step:"step",min:"min",max:"max",hideButtons:"hideButtons",prefix:"prefix",postfix:"postfix"},features:[n._Bn([(0,z.FT)(t),(0,J.wB)(t),M.Y0]),n.qOj],ngContentSelectors:_o,decls:4,vars:14,consts:[["decimal","never",1,"t-textfield",3,"disabled","focusable","max","min","nativeId","postfix","prefix","pseudoActive","pseudoFocus","pseudoHover","pseudoInvalid","readOnly","ngModel","ngModelChange","focusedChange","keydown"],[4,"ngIf"],[1,"t-buttons"],["automation-id","tui-input-count__plus-button","size","s","tuiIconButton","","type","button",1,"t-button","t-button_plus",3,"appearance","disabled","focusable","icon","title","click","mousedown"],["automation-id","tui-input-count__minus-button","size","s","tuiIconButton","","type","button",1,"t-button","t-button_minus",3,"appearance","disabled","focusable","icon","title","click","mousedown"]],template:function(e,i){1&e&&(n.F$t(fo),n.TgZ(0,"tui-input-number",0),n.NdJ("ngModelChange",function(s){return i.value=s})("focusedChange",function(s){return i.onFocused(s)})("keydown",function(s){return i.onKeydown(s)}),n.Hsn(1),n.Hsn(2,1,["ngProjectAs","input",5,["input"]]),n.qZA(),n.YNc(3,ho,3,3,"ng-container",1)),2&e&&(n.Q6J("disabled",i.computedDisabled)("focusable",i.focusable)("max",i.computedMax)("min",i.computedMin)("nativeId",i.nativeId)("postfix",i.postfix)("prefix",i.prefix)("pseudoActive",i.pseudoActive)("pseudoFocus",i.pseudoFocus)("pseudoHover",i.pseudoHover)("pseudoInvalid",i.pseudoInvalid)("readOnly",i.readOnly)("ngModel",i.value),n.xp6(3),n.Q6J("ngIf",!i.buttonsHidden))},directives:[Wt,po,y.JJ,y.On,_.O5,Z.v0],pipes:[_.Ov],styles:["[_nghost-%COMP%]{display:flex;font:var(--tui-font-text-s);border-radius:var(--tui-radius-m);height:var(--tui-height-m);color:var(--tui-text-01);text-align:left}._disabled[_nghost-%COMP%]{pointer-events:none}[data-size=l][_nghost-%COMP%]{font:var(--tui-font-text-m);height:var(--tui-height-l)}.t-textfield[_ngcontent-%COMP%]{position:relative;border-radius:inherit;text-align:inherit;flex-grow:1;min-width:0}[_nghost-%COMP%]:not(._hide-buttons)   .t-textfield[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.t-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:.125rem;height:100%;border-radius:inherit}.t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]{display:flex;width:calc(var(--tui-height-m) * .75);height:calc(50% - .0625rem);border-radius:0}.t-buttons[_ngcontent-%COMP%]   .t-button_plus[_ngcontent-%COMP%]{margin-bottom:.125rem;border-top-right-radius:inherit}.t-buttons[_ngcontent-%COMP%]   .t-button_minus[_ngcontent-%COMP%]{border-bottom-right-radius:inherit}[data-size=l][_nghost-%COMP%]   .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]{width:calc(var(--tui-height-l) * .75)}"],changeDetection:0}),t})(),Co=(()=>{class t extends Ht.D1{onValueChange(e){this.host.onValueChange(e)}ngAfterViewInit(){if(this.host.nativeFocusableElement){const{nativeFocusableElement:e}=this.host;e.autocomplete="off",e.inputMode="numeric",e.maxLength=e.maxLength>-1?e.maxLength:18}}}return t.\u0275fac=function(){let o;return function(i){return(o||(o=n.n5z(t)))(i||t)}}(),t.\u0275dir=n.lG2({type:t,selectors:[["tui-input-count"]],features:[n._Bn([(0,be.cp)(t)]),n.qOj]}),t})(),To=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[_.ez,y.u5,Z.fN,D.KW,M.cn,He,go]]}),t})();var P=d(58170),bo=d(87241);let K=(()=>{class t extends bo.y{constructor(e,{nativeElement:i},r){const s=(0,w.mL)(i,"mousedown").pipe((0,w.mp)(),(0,Qe.w)(a=>{const l=(0,w.mL)(r,"mousemove").pipe((0,R.U)(({clientX:u,clientY:c})=>ct(u,c,i)),(0,Me.R)((0,w.mL)(r,"mouseup")));return a.target===i?l.pipe((0,We.O)(ct(a.clientX,a.clientY,i))):l}),(0,Me.R)(e));super(a=>s.subscribe(a))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG($.a3,2),n.LFG(n.SBq),n.LFG(_.K0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})();const xo=new Map([["transparent","transparent"],["color-black-300","#333333"],["color-black-200","#666666"],["color-black-100","#909090"],["color-yellow-100","#FFDD2C"],["color-yellow-200","#FCC521"],["color-yellow-300","#FAB618"],["color-gray-100","#f5f5f6"],["color-gray-200","#e7e8ea"],["color-gray-300","#cbcfd3"],["color-gray-400","#959ba4"],["color-gray-500","#79818c"],["color-gray-600","#616871"],["color-light-blue-100","#ecf1f7"],["color-light-blue-200","#e4ebf3"],["color-light-blue-300","#dde4ed"],["color-blue-100","#1771e6"],["color-blue-200","#1464cc"],["color-blue-300","#0953b3"],["color-green-100","#39b54a"],["color-green-200","#2ca53a"],["color-green-300","#168a21"],["color-red-100","#e01f19"],["color-red-200","#d3120e"],["color-red-300","#c40b08"]]);var wo=d(68330),Do=d(5557),re=d(52239);new n.OlP("[TUI_EDITOR_EXTENSIONS]"),new n.OlP("[LAZY_EDITOR_EXTENSIONS]");const Kt={translate:"no",spellcheck:!1,colors:xo,blankColor:"rgb(51, 51, 51)",linkOptions:{protocol:"https://"},fontOptions:function(t){return[{px:13,name:t.small},{px:15,name:t.normal},{px:17,name:t.large},{px:24,family:"var(--tui-font-heading)",name:t.subtitle,headingLevel:2,weight:"bold"},{px:30,family:"var(--tui-font-heading)",name:t.title,headingLevel:1,weight:"bold"}]}};new n.OlP("[TUI_EDITOR_OPTIONS]",{factory:()=>Kt}),new n.OlP("[TUI_EDITOR_CONTENT_PROCESSOR]",{factory:()=>wo.y}),new n.OlP("[TUI_EDITOR_VALUE_TRANSFORMER]"),new n.OlP("[TUI_ATTACH_FILES_OPTIONS]",{factory:()=>({accept:"*/*",multiple:!0})}),new n.OlP("[TUI_ATTACH_FILES_LOADER]");const Eo=new n.OlP("[TUI_EDITOR_COLOR_SELECTOR_MODE_NAMES]",{factory:()=>["Solid color","Gradient"]});function So(t,o){if(1&t&&(n.TgZ(0,"button",7),n._uU(1),n.qZA()),2&t){const e=o.$implicit;n.Q6J("value",e),n.xp6(1),n.hij(" ",e," ")}}function Ao(t,o){if(1&t&&(n.TgZ(0,"tui-data-list",5),n.YNc(1,So,2,2,"button",6),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.modes)}}function Fo(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"tui-primitive-textfield",8),n.NdJ("valueChange",function(r){return n.CHM(e),n.oxw().onHexChange(r)}),n.qZA()}if(2&t){const e=n.oxw();n.Q6J("maskito",e.hexMask)("tuiTextfieldLabelOutside",!0)("value",e.hex)}}function ko(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"tui-input-count",9),n.NdJ("ngModelChange",function(r){n.CHM(e);const s=n.oxw();return s.onRgbChange(r,s.color[1],s.color[2],s.color[3])}),n.qZA(),n.TgZ(1,"tui-input-count",9),n.NdJ("ngModelChange",function(r){n.CHM(e);const s=n.oxw();return s.onRgbChange(s.color[0],r,s.color[2],s.color[3])}),n.qZA(),n.TgZ(2,"tui-input-count",9),n.NdJ("ngModelChange",function(r){n.CHM(e);const s=n.oxw();return s.onRgbChange(s.color[0],s.color[1],r,s.color[3])}),n.qZA()}if(2&t){const e=n.oxw();n.Q6J("tuiTextfieldLabelOutside",!0)("hideButtons",!0)("max",255)("ngModel",e.color[0]),n.xp6(1),n.Q6J("tuiTextfieldLabelOutside",!0)("hideButtons",!0)("max",255)("ngModel",e.color[1]),n.xp6(1),n.Q6J("tuiTextfieldLabelOutside",!0)("hideButtons",!0)("max",255)("ngModel",e.color[2])}}function No(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"div",1),n.NdJ("mousedown",function(){const s=n.CHM(e).index;return n.oxw().onMouseDown(s)})("dblclick",function(){const s=n.CHM(e).index;return n.oxw().onClick(s)}),n.qZA()}2&t&&n.Udp("left",100*o.$implicit,"%")}function Ro(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"button",1),n.NdJ("click",function(){const s=n.CHM(e).$implicit;return n.oxw().selectedColor.emit(s.value)}),n.qZA()}if(2&t){const e=o.$implicit;n.Udp("background",e.value),n.Q6J("tuiHint",e.key)("tuiHintDescribe",e.key)("id",e.key)}}function Zo(t,o){if(1&t&&n._UZ(0,"tui-svg",9),2&t){n.oxw();const e=n.MAs(1);n.ekj("t-arrow_rotated",e.open)}}function $o(t,o){1&t&&n._UZ(0,"tui-svg",14)}function Uo(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"button",12),n.NdJ("keydown.enter.prevent",function(){const s=n.CHM(e).$implicit,a=n.oxw(2),l=n.MAs(1);return a.onModeSelect(s,l)})("keydown.space.prevent",function(){const s=n.CHM(e).$implicit,a=n.oxw(2),l=n.MAs(1);return a.onModeSelect(s,l)})("click",function(){const s=n.CHM(e).$implicit,a=n.oxw(2),l=n.MAs(1);return a.onModeSelect(s,l)}),n._uU(1),n.YNc(2,$o,1,0,"tui-svg",13),n.qZA()}if(2&t){const e=o.$implicit,i=n.oxw(2);n.uIk("aria-checked",i.isModeActive(e)),n.xp6(1),n.hij(" ",e," "),n.xp6(1),n.Q6J("ngIf",i.isModeActive(e))}}function Ho(t,o){if(1&t&&(n.TgZ(0,"tui-data-list",10),n.YNc(1,Uo,3,3,"button",11),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.modes)}}function Bo(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"button",20),n.NdJ("click",function(){const s=n.CHM(e).$implicit;return n.oxw(2).onDirectionChange(s)}),n.qZA()}if(2&t){const e=o.$implicit,i=n.oxw(2);n.ekj("t-direction_active",i.isDirectionActive(e)),n.Q6J("icon",i.getIcon(e))("tuiHint",e)}}function Vo(t,o){if(1&t){const e=n.EpF();n.ynx(0),n._UZ(1,"hr",15),n.TgZ(2,"div",16),n.TgZ(3,"tui-linear-multi-picker",17),n.NdJ("valueChange",function(r){return n.CHM(e),n.oxw().onStopsChange(r)})("indexChange",function(r){return n.CHM(e),n.oxw().onIndexChange(r)}),n.qZA(),n.qZA(),n.TgZ(4,"div",18),n.YNc(5,Bo,1,4,"button",19),n.qZA(),n.BQk()}if(2&t){const e=n.oxw();n.xp6(2),n.Udp("background",e.gradient),n.xp6(1),n.Q6J("value",e.stopsKeys),n.xp6(2),n.Q6J("ngForOf",e.buttons)}}function jo(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"tui-color-edit",21),n.NdJ("colorChange",function(r){return n.CHM(e),n.oxw().onColorChange(r)}),n.qZA()}if(2&t){const e=n.oxw();n.Q6J("color",e.color)}}function Jo(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"tui-palette",22),n.NdJ("selectedColor",function(r){return n.CHM(e),n.oxw().onPalettePick(r)}),n.qZA()}if(2&t){const e=n.oxw();n.Q6J("colors",e.palette)}}new n.OlP("[TUI_EDITOR_TOOLBAR_TEXTS]",{factory:(0,re.v)("toolbarTools")}),new n.OlP("[TUI_EDITOR_TABLE_COMMANDS]",{factory:(0,re.v)("editorTableCommands")}),new n.OlP("[TUI_EDITOR_LINK_TEXTS]",{factory:(0,re.v)("editorEditLink")}),new n.OlP("[TUI_EDITOR_CODE_OPTIONS]",{factory:(0,re.v)("editorCodeOptions")}),new n.OlP("[TUI_EDITOR_FONT_OPTIONS]",{factory:(0,re.v)("editorFontOptions")}),new n.OlP("[TUI_IMAGE_LOADER]",{factory:()=>t=>{const o=new FileReader;return o.readAsDataURL(t),(0,w.mL)(o,"load").pipe((0,R.U)(()=>String(o.result)))}}),new n.OlP("[TIPTAP_EDITOR]"),new n.OlP("[LAZY_TIPTAP_EDITOR]",{factory:()=>{const t=new Do.t(1);return d.e(266).then(d.bind(d,21266)).then(o=>t.next(o.Editor)),t}}),new n.OlP("[INITIALIZATION_TIPTAP_CONTAINER]");let zo=(()=>{class t{constructor(){this.color=[0,0,0,1],this.colorChange=new n.vpe,this.hexMask={mask:new RegExp("^[A-F\\d]{0,6}$","gi")},this.modes=["HEX","RGB"],this.mode=this.modes[0]}get isHex(){return this.mode===this.modes[0]}get hex(){return function(t,o,e){return`#${[t,o,e].map(i=>i.toString(16).padStart(2,"0")).join("")}`}(this.color[0],this.color[1],this.color[2]).replace("#","")}get opacity(){return Math.round(100*this.color[3])}onHexChange(e){if(6!==e.length)return;const i=function(t){const o=t.replace("#","").split("").map((e,i,r)=>3===r.length?e+e:e).join("").match(/.{2}/g);return o?o.map(e=>Number.parseInt(e,16)):[0,0,0]}(e);this.updateColor([i[0],i[1],i[2],this.color[3]])}onRgbChange(...e){this.updateColor(e)}updateColor(e){this.color=e,this.colorChange.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["tui-color-edit"]],inputs:{color:"color"},outputs:{colorChange:"colorChange"},decls:6,vars:8,consts:[["tuiTextfieldSize","m","tuiDropdownAlign","left","tuiDropdownLimitWidth","min",1,"t-select","tui-group__auto-width-item",3,"tuiTextfieldLabelOutside","ngModel","ngModelChange"],["size","s",4,"tuiDataList"],["tuiValueAccessor","","tuiTextfieldSize","m",3,"maskito","tuiTextfieldLabelOutside","value","valueChange",4,"ngIf","ngIfElse"],["rgb",""],["tuiTextfieldPostfix","%","tuiTextfieldSize","m",1,"t-opacity","tui-group__auto-width-item",3,"tuiTextfieldLabelOutside","hideButtons","max","ngModel","ngModelChange"],["size","s"],["tuiOption","",3,"value",4,"ngFor","ngForOf"],["tuiOption","",3,"value"],["tuiValueAccessor","","tuiTextfieldSize","m",3,"maskito","tuiTextfieldLabelOutside","value","valueChange"],["tuiTextfieldSize","m",3,"tuiTextfieldLabelOutside","hideButtons","max","ngModel","ngModelChange"]],template:function(e,i){if(1&e&&(n.TgZ(0,"tui-select",0),n.NdJ("ngModelChange",function(s){return i.mode=s}),n.YNc(1,Ao,2,1,"tui-data-list",1),n.qZA(),n.YNc(2,Fo,1,3,"tui-primitive-textfield",2),n.YNc(3,ko,3,12,"ng-template",null,3,n.W1O),n.TgZ(5,"tui-input-count",4),n.NdJ("ngModelChange",function(s){return i.onRgbChange(i.color[0],i.color[1],i.color[2],s/100)}),n.qZA()),2&e){const r=n.MAs(4);n.Q6J("tuiTextfieldLabelOutside",!0)("ngModel",i.mode),n.xp6(2),n.Q6J("ngIf",i.isHex)("ngIfElse",r),n.xp6(3),n.Q6J("tuiTextfieldLabelOutside",!0)("hideButtons",!0)("max",100)("ngModel",i.opacity)}},directives:[j.uJ,j.OI,M.sz,Fe.Ek,M.xT,y.JJ,y.On,N.gX,_.O5,vo,Co,M.Tq,N.qi,_.sg,N.vK,D.yc,D.B1,Vt,jt],styles:["[_nghost-%COMP%]{display:flex}.t-select[_ngcontent-%COMP%]{width:4.875rem}.t-opacity[_ngcontent-%COMP%]{width:4.275rem}"],changeDetection:0}),t})(),Qo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[_.ez,y.u5,Jt,He,j.Jy,D.KW,M.cn,Fe.dp,To,N.pc]]}),t})(),Wo=(()=>{class t{constructor(e){this.value=[0,0],this.valueChange=new n.vpe,e.subscribe(i=>{this.value=i,this.valueChange.emit([i[0],i[1]])})}get left(){return 100*this.value[0]}get top(){return 100*this.value[1]}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(K))},t.\u0275cmp=n.Xpm({type:t,selectors:[["tui-flat-picker"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},features:[n._Bn([$.a3,K])],decls:1,vars:4,consts:[[1,"t-circle"]],template:function(e,i){1&e&&n._UZ(0,"div",0),2&e&&n.Udp("left",i.left,"%")("top",i.top,"%")},styles:["[_nghost-%COMP%]{position:relative;display:block}.t-circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:-.5rem 0 0 -.5rem;box-shadow:inset 0 0 0 1px var(--tui-base-01),0 0 0 1px var(--tui-base-03)}"],changeDetection:0}),t})(),Yo=(()=>{class t{constructor(e){this.value=0,this.valueChange=new n.vpe,e.subscribe(([i])=>{this.value=i,this.valueChange.emit(i)})}get left(){return 100*this.value}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(K))},t.\u0275cmp=n.Xpm({type:t,selectors:[["tui-linear-picker"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},features:[n._Bn([$.a3,K])],decls:1,vars:2,consts:[[1,"t-circle"]],template:function(e,i){1&e&&n._UZ(0,"div",0),2&e&&n.Udp("left",i.left,"%")},styles:["[_nghost-%COMP%]{position:relative;display:block;height:1rem;box-sizing:border-box}.t-circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:0 -.5rem;box-shadow:inset 0 0 0 2px var(--tui-base-01),0 0 0 1px var(--tui-base-03)}"],changeDetection:0}),t})(),Go=(()=>{class t{constructor(e){this.sanitizer=e,this.colorChange=new n.vpe,this.point=[0,1],this.hue=0,this.opacity=1}set color(e){if(this.currentColor.every((a,l)=>a===e[l])&&e[3]===this.opacity)return;const[i,r,s]=function(t,o,e){const i=Math.max(t,o,e),r=i-Math.min(t,o,e),s=r&&(i===t?(o-e)/r:i===o?2+(e-t)/r:4+(t-o)/r);return[60*(s<0?s+6:s),i&&r/i,i]}(e[0],e[1],e[2]);this.opacity=e[3],this.hue=i/360,this.point=[r,1-s/255]}get currentColor(){return this.getCurrentColor(this.hue,this.point)}get base(){return`rgb(${lt(360*this.hue,1,255)})`}get gradient(){return this.sanitizer.bypassSecurityTrustStyle(`linear-gradient(to right, rgba(${this.currentColor.join(",")}, 0), rgb(${this.currentColor.join(",")}))`)}onPointChange(e){this.point=e,this.updateColor()}onHueChange(e){this.hue=e,this.updateColor()}onOpacityChange(e){this.opacity=(0,Q.FG)(e,2),this.updateColor()}getCurrentColor(e,i){return lt(360*e,i[0],255*(1-i[1]))}updateColor(){this.colorChange.emit([...this.currentColor,this.opacity])}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(we.H7))},t.\u0275cmp=n.Xpm({type:t,selectors:[["tui-color-picker"]],inputs:{color:"color"},outputs:{colorChange:"colorChange"},decls:5,vars:7,consts:[[1,"t-flat",3,"value","valueChange"],[1,"t-wrapper","t-wrapper_hue"],[1,"t-hue",3,"value","valueChange"],[1,"t-wrapper","t-wrapper_opacity"],[1,"t-opacity",3,"value","valueChange"]],template:function(e,i){1&e&&(n.TgZ(0,"tui-flat-picker",0),n.NdJ("valueChange",function(s){return i.onPointChange(s)}),n.qZA(),n.TgZ(1,"div",1),n.TgZ(2,"tui-linear-picker",2),n.NdJ("valueChange",function(s){return i.onHueChange(s)}),n.qZA(),n.qZA(),n.TgZ(3,"div",3),n.TgZ(4,"tui-linear-picker",4),n.NdJ("valueChange",function(s){return i.onOpacityChange(s)}),n.qZA(),n.qZA()),2&e&&(n.Udp("background-color",i.base),n.Q6J("value",i.point),n.xp6(2),n.Q6J("value",i.hue),n.xp6(1),n.Udp("background",i.gradient),n.xp6(1),n.Q6J("value",i.opacity))},directives:[Wo,Yo],styles:['[_nghost-%COMP%]{position:relative;z-index:0;display:block}.t-flat[_ngcontent-%COMP%]{height:14rem;background:linear-gradient(rgba(0,0,0,0),#000000),linear-gradient(to right,#ffffff,rgba(255,255,255,0));margin-bottom:.25rem;overflow:hidden}.t-wrapper[_ngcontent-%COMP%]{position:relative;margin:1rem 1.25rem;border-radius:.5rem}.t-wrapper[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:"";box-shadow:inset 0 0 0 1px #00000014;pointer-events:none;border-radius:inherit}.t-wrapper_hue[_ngcontent-%COMP%]{background:#ff0000}.t-wrapper_opacity[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;width:100%;height:100%;content:"";z-index:-1;background-image:linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03)),linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03));background-size:.375rem .375rem;background-position:0 0,.1875rem .1875rem;border-radius:inherit}.t-hue[_ngcontent-%COMP%]{background:linear-gradient(to right,#ff0000,#ffff00,#00ff00,#00ffff,#0000ff,#ff00ff,#ff0000);border-radius:inherit;margin:0 .5rem}.t-opacity[_ngcontent-%COMP%]{border-radius:inherit;margin:0 .5rem}'],changeDetection:0}),(0,I.gn)([E.UM],t.prototype,"getCurrentColor",null),t})(),Ko=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[_.ez]]}),t})(),Xo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[_.ez]]}),t})(),qo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[_.ez,Ko,Xo]]}),t})(),er=(()=>{class t{constructor(e){this.value=[0,1],this.valueChange=new n.vpe,this.indexChange=new n.vpe,this.index=NaN,e.subscribe(([i])=>{this.onPicker(i)})}onMouseUp(){this.index=NaN}onMouseDown(e){this.updateIndex(e)}onClick(e){this.value.length>2&&this.updateValue(this.value.filter((i,r)=>r!==e))}onPicker(e){Number.isNaN(this.index)&&(this.updateIndex(this.value.length),this.value=[...this.value,0]),!this.value.some((i,r)=>i===e&&r!==this.index)&&this.updateValue(this.value.map((i,r)=>r===this.index?e:i))}updateIndex(e){this.index=e,this.indexChange.emit(e)}updateValue(e){this.value=e,this.valueChange.emit(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(K))},t.\u0275cmp=n.Xpm({type:t,selectors:[["tui-linear-multi-picker"]],hostBindings:function(e,i){1&e&&n.NdJ("mouseup",function(){return i.onMouseUp()},!1,n.evT)},inputs:{value:"value"},outputs:{valueChange:"valueChange",indexChange:"indexChange"},features:[n._Bn([$.a3,K])],decls:1,vars:1,consts:[["class","t-circle",3,"left","mousedown","dblclick",4,"ngFor","ngForOf"],[1,"t-circle",3,"mousedown","dblclick"]],template:function(e,i){1&e&&n.YNc(0,No,1,2,"div",0),2&e&&n.Q6J("ngForOf",i.value)},directives:[_.sg],styles:["[_nghost-%COMP%]{position:relative;display:block;height:1rem;box-sizing:border-box}.t-circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:0 -.5rem;box-shadow:inset 0 0 0 2px var(--tui-base-01),0 0 0 1px var(--tui-base-03)}"],changeDetection:0}),t})(),tr=(()=>{class t{constructor(){this.colors=new Map,this.selectedColor=new n.vpe,this.originalOrder=(e,i)=>0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["tui-palette"]],inputs:{colors:"colors"},outputs:{selectedColor:"selectedColor"},decls:2,vars:4,consts:[["type","button","class","t-button",3,"background","tuiHint","tuiHintDescribe","id","click",4,"ngFor","ngForOf"],["type","button",1,"t-button",3,"tuiHint","tuiHintDescribe","id","click"]],template:function(e,i){1&e&&(n.YNc(0,Ro,1,5,"button",0),n.ALo(1,"keyvalue")),2&e&&n.Q6J("ngForOf",n.xi3(1,1,i.colors,i.originalOrder))},directives:[_.sg,P.D,P.xn,P.t6,P.DM,P.$o],pipes:[_.Nd],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap;padding:.875rem}.t-button[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;width:1.5625rem;height:1.5625rem;box-sizing:border-box;margin:.375rem;border-radius:var(--tui-radius-m);border:1px solid rgba(0,0,0,.08)}"],changeDetection:0}),t})();const nr=[0,0,0,0],qt=[[0,[0,0,0,1]],[1,[255,255,255,1]]],ir={"to top right":"tuiIconArrowUpRight","to right":"tuiIconArrowRight","to bottom right":"tuiIconArrowDownRight","to bottom":"tuiIconArrowDown","to bottom left":"tuiIconArrowDownLeft","to left":"tuiIconArrowLeft","to top left":"tuiIconArrowUpLeft","to top":"tuiIconArrowUp"};let or=(()=>{class t{constructor(e,i){this.sanitizer=e,this.modes=i,this.stops=new Map(qt),this.currentStop=0,this.direction="to bottom",this.colors=new Map,this.colorChange=new n.vpe,this.color=[0,0,0,1],this.currentMode=this.modes[0],this.buttons=["to top right","to right","to bottom right","to bottom","to bottom left","to left","to top left","to top"]}set colorSetter(e){this.parse(e)}get palette(){return this.filterPalette(this.colors,this.isGradient)}get stopsKeys(){return this.getStopsKeys(this.stops)}get currentColor(){return this.isGradient?this.getStop(this.currentStop):this.color}get gradient(){return this.sanitizer.bypassSecurityTrustStyle(this.getGradient("to right"))}get isGradient(){return this.currentMode===this.modes[1]}getIcon(e){return ir[e]}isModeActive(e){return this.currentMode===e}isDirectionActive(e){return this.direction===e}onPalettePick(e){this.updateColor(e)}onDirectionChange(e){this.direction=e,this.updateColor(this.getGradient(e))}onModeSelect(e,i){this.currentMode=e,i.open=!1,this.updateColor(e===this.modes[0]?`rgba(${this.color.join(", ")})`:this.getGradient(this.direction))}onIndexChange(e){this.currentStop=this.stopsKeys[e]}onColorChange(e){this.isGradient?(this.stops.set(this.currentStop,e),this.updateColor(this.getGradient(this.direction))):this.updateColor(`rgba(${e.join(", ")})`)}onStopsChange(e){const i=this.stopsKeys.find(s=>!e.includes(s)),r=e.find(s=>!this.stopsKeys.includes(s));void 0===i&&void 0!==r&&this.addStop(r),void 0!==i&&void 0===r&&this.removeStop(i),void 0!==i&&void 0!==r&&this.replaceStop(i,r),this.updateColor(this.getGradient(this.direction))}getStopsKeys(e){return Array.from(e.keys())}filterPalette(e,i){const r=new Map(e);return r.forEach((s,a)=>{(s.startsWith("linear-gradient")&&!i||!s.startsWith("linear-gradient")&&i)&&r.delete(a)}),r}updateColor(e){this.colorChange.emit(e)}getGradient(e){return`linear-gradient(${e}, ${[...this.stopsKeys].sort(L.A2).map(i=>`rgba(${this.getStop(i).join(", ")}) ${100*i}%`).join(", ")})`}getStop(e){return this.stops.get(e)||nr}addStop(e){const i=this.stopsKeys.reduce((r,s)=>Math.abs(s-e)<Math.abs(r-e)?s:r,this.stopsKeys[0]);this.stops.set(e,this.getStop(i)),this.stops=new Map(this.stops),this.currentStop=e}removeStop(e){this.stops.delete(e),this.stops=new Map(this.stops),this.currentStop=this.stopsKeys[0]}replaceStop(e,i){const r=this.getStop(e);this.currentStop=i,this.stops=new Map(this.stopsKeys.map(s=>s===e?[i,r]:[s,this.getStop(s)]))}parse(e){e.startsWith("linear-gradient")?this.parseGradient(e):this.parseColor(e)}parseGradient(e){if(e===this.getGradient(this.direction))return;const i=mt(pt(e));this.currentMode=this.modes[1],this.direction=i.side,this.currentStop=0,this.stops=new Map(i.stops.length?i.stops.map(({color:r,position:s})=>[parseFloat(s)/100,Pe(r)]):qt)}parseColor(e){this.currentMode=this.modes[0],this.currentStop=0,this.color=Pe(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(we.H7),n.Y36(Eo))},t.\u0275cmp=n.Xpm({type:t,selectors:[["tui-color-selector"]],inputs:{colors:"colors",colorSetter:["color","colorSetter"]},outputs:{colorChange:"colorChange"},decls:12,vars:7,consts:[[1,"t-select",3,"content"],["dropdown",""],["tuiButton","","appearance","","size","s","type","button",3,"iconRight"],["arrow",""],["menu",""],[4,"ngIf"],[3,"color","colorChange"],["tuiGroup","","class","t-edit",3,"color","colorChange",4,"ngIf"],["class","t-palette",3,"colors","selectedColor",4,"ngIf"],["src","tuiIconChevronDown",1,"t-arrow"],["role","menu","size","s",1,"t-menu"],["tuiOption","","role","menuitemradio",3,"keydown.enter.prevent","keydown.space.prevent","click",4,"ngFor","ngForOf"],["tuiOption","","role","menuitemradio",3,"keydown.enter.prevent","keydown.space.prevent","click"],["src","tuiIconCheck","class","t-checkmark",4,"ngIf"],["src","tuiIconCheck",1,"t-checkmark"],[1,"t-hr"],[1,"t-wrapper"],[1,"t-gradient",3,"value","valueChange","indexChange"],[1,"t-buttons"],["tuiIconButton","","type","button","size","xs","appearance","","tuiHintDescribe","","class","t-direction",3,"t-direction_active","icon","tuiHint","click",4,"ngFor","ngForOf"],["tuiIconButton","","type","button","size","xs","appearance","","tuiHintDescribe","",1,"t-direction",3,"icon","tuiHint","click"],["tuiGroup","",1,"t-edit",3,"color","colorChange"],[1,"t-palette",3,"colors","selectedColor"]],template:function(e,i){if(1&e&&(n.TgZ(0,"tui-hosted-dropdown",0,1),n.TgZ(2,"button",2),n._uU(3),n.qZA(),n.YNc(4,Zo,1,2,"ng-template",null,3,n.W1O),n.YNc(6,Ho,2,1,"ng-template",null,4,n.W1O),n.qZA(),n.YNc(8,Vo,6,4,"ng-container",5),n.TgZ(9,"tui-color-picker",6),n.NdJ("colorChange",function(s){return i.onColorChange(s)}),n.qZA(),n.YNc(10,jo,1,1,"tui-color-edit",7),n.YNc(11,Jo,1,1,"tui-palette",8)),2&e){const r=n.MAs(5),s=n.MAs(7);n.Q6J("content",s),n.xp6(2),n.Q6J("iconRight",r),n.xp6(1),n.hij(" ",i.currentMode," "),n.xp6(5),n.Q6J("ngIf",i.isGradient),n.xp6(1),n.Q6J("color",i.currentColor),n.xp6(1),n.Q6J("ngIf",!i.isGradient),n.xp6(1),n.Q6J("ngIf",i.palette.size)}},directives:[q.o1,Z.v0,_.O5,Go,ae.PN,N.qi,_.sg,N.vK,er,P.$o,P.D,P.xn,P.t6,P.DM,zo,ue.gZ,tr],styles:['[_nghost-%COMP%]{position:relative;z-index:0;display:block;width:22.6rem}.t-wrapper[_ngcontent-%COMP%]{position:relative;margin:1.25rem;border-radius:.5rem}.t-wrapper[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:"";box-shadow:inset 0 0 0 1px #00000014;pointer-events:none;border-radius:inherit}.t-wrapper[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;width:100%;height:100%;content:"";z-index:-1;background-image:linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03)),linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03));background-size:.375rem .375rem;background-position:0 0,.1875rem .1875rem;border-radius:inherit}.t-hr[_ngcontent-%COMP%]{height:1px;margin:0 0 0 -1px;border:none;background:var(--tui-base-03)}.t-gradient[_ngcontent-%COMP%]{margin:0 .5rem;border-radius:inherit}.t-select[_ngcontent-%COMP%]{margin:.75rem .5rem}.t-arrow[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-arrow_rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-menu[_ngcontent-%COMP%]{width:11.25rem}.t-checkmark[_ngcontent-%COMP%]{margin-left:auto;width:1rem;height:1rem}.t-buttons[_ngcontent-%COMP%]{display:flex;padding:0 .75rem 1.25rem}.t-direction[_ngcontent-%COMP%]{color:var(--tui-text-02);margin:0 .375rem}.t-direction[_ngcontent-%COMP%]:hover, .t-direction_active[_ngcontent-%COMP%]{color:var(--tui-text-01);background:var(--tui-secondary-hover)}.t-edit[_ngcontent-%COMP%]{margin:1.25rem}.t-palette[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:inset 0 1px var(--tui-base-03)}'],changeDetection:0}),(0,I.gn)([E.UM],t.prototype,"getStopsKeys",null),(0,I.gn)([E.UM],t.prototype,"filterPalette",null),t})(),rr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[_.ez]]}),t})(),sr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[_.ez,P.go]]}),t})(),ar=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[_.ez,Z.fN,q.jh,qo,rr,P.go,ae.EI,N.pc,Ae.A,Qo,ue.n6,sr]]}),t})();function ur(t,o){if(1&t&&n._UZ(0,"div",4),2&t){const e=n.oxw();n.Udp("background",e.background)}}function lr(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"tui-color-selector",5),n.NdJ("colorChange",function(r){return n.CHM(e),n.oxw().value=r}),n.qZA()}if(2&t){const e=o.$implicit,i=n.oxw();n.Q6J("tuiActiveZoneParent",e)("colors",i.colors)("color",i.value)}}const cr=["*"];let pr=(()=>{class t extends J.M${constructor(e,i,r){super(e,i),this.domSanitizer=r,this.colors=new Map,this.open=!1}get nativeFocusableElement(){return this.computedDisabled||!this.textfield?null:this.textfield.nativeFocusableElement}get focused(){return!!this.dropdown&&this.dropdown.focused}get background(){return this.sanitize(this.value,this.domSanitizer)}onClick(){this.open=!this.open}onValueChange(e){this.value=e}onFocused(e){this.updateFocused(e)}getFallbackValue(){return"#000000"}sanitize(e,i){return e.startsWith("linear-gradient(")?i.bypassSecurityTrustStyle(function({stops:t,side:o}){return`linear-gradient(${o}, ${t.map(({color:e,position:i})=>`rgba(${Pe(e).join(", ")}) ${i}`).join(", ")})`}(mt(pt(e)))):e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(y.a5,10),n.Y36(n.sBO),n.Y36(we.H7))},t.\u0275cmp=n.Xpm({type:t,selectors:[["tui-input-color"]],viewQuery:function(e,i){if(1&e&&(n.Gf(D.yc,5),n.Gf(q.o1,5)),2&e){let r;n.iGM(r=n.CRH())&&(i.textfield=r.first),n.iGM(r=n.CRH())&&(i.dropdown=r.first)}},hostBindings:function(e,i){1&e&&n.NdJ("click",function(){return i.onClick()})},inputs:{colors:"colors"},features:[n._Bn([],[(0,Fe.fx)({maxHeight:600})]),n.qOj],ngContentSelectors:cr,decls:7,vars:12,consts:[[1,"t-wrapper",3,"content","open","openChange"],[1,"t-textfield",3,"tuiTextfieldIconLeft","pseudoFocus","pseudoHover","pseudoActive","invalid","focusable","nativeId","disabled","readOnly","value","valueChange","focusedChange"],["color",""],["picker",""],[1,"t-color"],[3,"tuiActiveZoneParent","colors","color","colorChange"]],template:function(e,i){if(1&e&&(n.F$t(),n.TgZ(0,"tui-hosted-dropdown",0),n.NdJ("openChange",function(s){return i.open=s}),n.TgZ(1,"tui-primitive-textfield",1),n.NdJ("valueChange",function(s){return i.value=s})("focusedChange",function(s){return i.onFocused(s)}),n.Hsn(2),n.qZA(),n.qZA(),n.YNc(3,ur,1,2,"ng-template",null,2,n.W1O),n.YNc(5,lr,1,3,"ng-template",null,3,n.W1O)),2&e){const r=n.MAs(4),s=n.MAs(6);n.Q6J("content",s)("open",i.open),n.xp6(1),n.Q6J("tuiTextfieldIconLeft",r)("pseudoFocus",i.computedFocused)("pseudoHover",i.pseudoHover)("pseudoActive",i.pseudoActive)("invalid",i.computedInvalid)("focusable",i.focusable)("nativeId",i.nativeId)("disabled",i.disabled)("readOnly",i.readOnly)("value",i.value)}},directives:[q.o1,D.yc,D.B1,M.aR,or,Ae.e],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:left}.t-wrapper[_ngcontent-%COMP%]{display:flex;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}.t-color[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;box-shadow:inset 0 0 0 1px var(--tui-base-03-dark);border-radius:.125rem}"],changeDetection:0}),(0,I.gn)([E.UM],t.prototype,"sanitize",null),t})(),dr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[_.ez,D.KW,M.cn,q.jh,ar,Ae.A]]}),t})();var gr=d(26134),mr=d(69406),hr=d(34825),fr=d(80454),_r=d(5641),vr=d(18818),Cr=d(69806),Tr=d(93204),br=d(88193),xr=d(18847),Mr=d(85346),yr=d(83307),Or=d(47489);let Ir=(()=>{class t{transform(e){return e*Math.PI/180}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Yjl({name:"rad",type:t,pure:!0}),t})();function wr(t,o){if(1&t&&n._UZ(0,"tui-data-list-wrapper",32),2&t){const e=n.oxw();n.Q6J("items",e.items)}}let Dr=(()=>{class t{constructor(){this.x1=20,this.y1=20,this.w1=100,this.h1=50,this.x2=50,this.y2=50,this.w2=100,this.h2=50,this.c2="#00ff00",this.dX=0,this.dY=0,this.dWidth=100,this.dHeight=100,this.globalCompositeOperation="source-over",this.mouth=30,this.blur=0,this.offset=0,this.font='bold 40px "Lucida Bright"',this.text="PAC-MAN",this.color="#ffa500",this.file=null,this.image=new Image,this.items=["source-over","multiply","screen"],this.image.onload=()=>{URL.revokeObjectURL(this.image.src)}}onFile(e){this.file=e,e&&(this.image.src=URL.createObjectURL(e))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["audio-page"]],decls:71,vars:61,consts:[["tuiLabel","x",1,"child"],["tuiSlider","","type","range","min","0","max","300",3,"ngModel","ngModelChange"],["tuiLabel","y",1,"child"],["tuiSlider","","type","range","min","0","max","150",3,"ngModel","ngModelChange"],["tuiLabel","width",1,"child"],["tuiLabel","height",1,"child"],[1,"row"],["tuiTextfieldSize","m",1,"child",3,"ngModel","ngModelChange"],[3,"items",4,"tuiDataList"],[1,"child",3,"ngModel","ngModelChange"],["tuiInputFiles","","accept","image/*"],[1,"child",3,"expanded"],[1,"controls"],["tuiLabel","dX"],["tuiLabel","dY"],["tuiLabel","dWidth"],["tuiLabel","dHeight"],["waCanvas2d",""],[3,"image","dX","dY","dWidth","dHeight"],["fillStyle","#f00"],[3,"x","y","width","height"],[3,"fillStyle","globalCompositeOperation"],["tuiLabel","Pac-Man mouth",1,"child"],["tuiSlider","","type","range","min","0.01","max","45",3,"ngModel","ngModelChange"],["tuiLabel","Pac-Man shadow blur",1,"child"],["tuiSlider","","type","range","min","0","max","10",3,"ngModel","ngModelChange"],["tuiLabel","Pac-Man shadow distance",1,"child"],["waCanvas2d","",3,"width","height","transform"],["fillStyle","gold","shadowColor","grey",3,"shadowBlur","shadowOffsetY"],[3,"x","y","radius","startAngle","endAngle"],[3,"x","y"],[3,"fillStyle","maxWidth","text","font","x","y"],[3,"items"]],template:function(e,i){1&e&&(n.TgZ(0,"h2"),n._uU(1,"Basic example"),n.qZA(),n.TgZ(2,"section"),n.TgZ(3,"fieldset"),n.TgZ(4,"label",0),n.TgZ(5,"input",1),n.NdJ("ngModelChange",function(s){return i.x1=s}),n.qZA(),n.qZA(),n.TgZ(6,"label",2),n.TgZ(7,"input",3),n.NdJ("ngModelChange",function(s){return i.y1=s}),n.qZA(),n.qZA(),n.TgZ(8,"label",4),n.TgZ(9,"input",1),n.NdJ("ngModelChange",function(s){return i.w1=s}),n.qZA(),n.qZA(),n.TgZ(10,"label",5),n.TgZ(11,"input",3),n.NdJ("ngModelChange",function(s){return i.h1=s}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"fieldset"),n.TgZ(13,"label",0),n.TgZ(14,"input",1),n.NdJ("ngModelChange",function(s){return i.x2=s}),n.qZA(),n.qZA(),n.TgZ(15,"label",2),n.TgZ(16,"input",3),n.NdJ("ngModelChange",function(s){return i.y2=s}),n.qZA(),n.qZA(),n.TgZ(17,"label",4),n.TgZ(18,"input",1),n.NdJ("ngModelChange",function(s){return i.w2=s}),n.qZA(),n.qZA(),n.TgZ(19,"label",5),n.TgZ(20,"input",3),n.NdJ("ngModelChange",function(s){return i.h2=s}),n.qZA(),n.qZA(),n.TgZ(21,"div",6),n.TgZ(22,"tui-select",7),n.NdJ("ngModelChange",function(s){return i.globalCompositeOperation=s}),n._uU(23," Overlay "),n.YNc(24,wr,1,1,"tui-data-list-wrapper",8),n.qZA(),n.TgZ(25,"tui-input-color",7),n.NdJ("ngModelChange",function(s){return i.c2=s}),n._uU(26," Color "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(27,"fieldset"),n.TgZ(28,"tui-input-files",9),n.NdJ("ngModelChange",function(s){return i.onFile(s)}),n._UZ(29,"input",10),n.qZA(),n.TgZ(30,"tui-expand",11),n.TgZ(31,"div",12),n.TgZ(32,"label",13),n.TgZ(33,"input",1),n.NdJ("ngModelChange",function(s){return i.dX=s}),n.qZA(),n.qZA(),n.TgZ(34,"label",14),n.TgZ(35,"input",3),n.NdJ("ngModelChange",function(s){return i.dY=s}),n.qZA(),n.qZA(),n.TgZ(36,"label",15),n.TgZ(37,"input",1),n.NdJ("ngModelChange",function(s){return i.dWidth=s}),n.qZA(),n.qZA(),n.TgZ(38,"label",16),n.TgZ(39,"input",3),n.NdJ("ngModelChange",function(s){return i.dHeight=s}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(40,"canvas",17),n._UZ(41,"canvas-draw-image",18),n.TgZ(42,"canvas-path",19),n._UZ(43,"canvas-rect",20),n.qZA(),n.TgZ(44,"canvas-path",21),n._UZ(45,"canvas-rect",20),n.qZA(),n.qZA(),n.TgZ(46,"h2"),n._uU(47,"Path example"),n.qZA(),n.TgZ(48,"section"),n.TgZ(49,"fieldset"),n.TgZ(50,"label",22),n.TgZ(51,"input",23),n.NdJ("ngModelChange",function(s){return i.mouth=s}),n.qZA(),n.qZA(),n.TgZ(52,"label",24),n.TgZ(53,"input",25),n.NdJ("ngModelChange",function(s){return i.blur=s}),n.qZA(),n.qZA(),n.TgZ(54,"label",26),n.TgZ(55,"input",25),n.NdJ("ngModelChange",function(s){return i.offset=s}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(56,"fieldset"),n.TgZ(57,"tui-input",7),n.NdJ("ngModelChange",function(s){return i.text=s}),n._uU(58," Text "),n.qZA(),n.TgZ(59,"tui-input",7),n.NdJ("ngModelChange",function(s){return i.font=s}),n._uU(60," Font "),n.qZA(),n.TgZ(61,"tui-input-color",7),n.NdJ("ngModelChange",function(s){return i.color=s}),n._uU(62," color "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(63,"canvas",27),n.ALo(64,"transform"),n.TgZ(65,"canvas-path",28),n._UZ(66,"canvas-arc",29),n.ALo(67,"rad"),n.ALo(68,"rad"),n._UZ(69,"canvas-line-to",30),n.qZA(),n._UZ(70,"canvas-text",31),n.qZA()),2&e&&(n.xp6(5),n.Q6J("ngModel",i.x1),n.xp6(2),n.Q6J("ngModel",i.y1),n.xp6(2),n.Q6J("ngModel",i.w1),n.xp6(2),n.Q6J("ngModel",i.h1),n.xp6(3),n.Q6J("ngModel",i.x2),n.xp6(2),n.Q6J("ngModel",i.y2),n.xp6(2),n.Q6J("ngModel",i.w2),n.xp6(2),n.Q6J("ngModel",i.h2),n.xp6(2),n.Q6J("ngModel",i.globalCompositeOperation),n.xp6(3),n.Q6J("ngModel",i.c2),n.xp6(3),n.Q6J("ngModel",i.file),n.xp6(2),n.Q6J("expanded",!!i.file),n.xp6(3),n.Q6J("ngModel",i.dX),n.xp6(2),n.Q6J("ngModel",i.dY),n.xp6(2),n.Q6J("ngModel",i.dWidth),n.xp6(2),n.Q6J("ngModel",i.dHeight),n.xp6(2),n.Q6J("image",i.image)("dX",i.dX)("dY",i.dY)("dWidth",i.dWidth)("dHeight",i.dHeight),n.xp6(2),n.Q6J("x",i.x1)("y",i.y1)("width",i.w1)("height",i.h1),n.xp6(1),n.Q6J("fillStyle",i.c2)("globalCompositeOperation",i.globalCompositeOperation),n.xp6(1),n.Q6J("x",i.x2)("y",i.y2)("width",i.w2)("height",i.h2),n.xp6(6),n.Q6J("ngModel",i.mouth),n.xp6(2),n.Q6J("ngModel",i.blur),n.xp6(2),n.Q6J("ngModel",i.offset),n.xp6(2),n.Q6J("ngModel",i.text),n.xp6(2),n.Q6J("ngModel",i.font),n.xp6(2),n.Q6J("ngModel",i.color),n.xp6(2),n.Q6J("width",600)("height",300)("transform",n.lcZ(64,55,"scale(2, 2)")),n.xp6(2),n.Q6J("shadowBlur",i.blur)("shadowOffsetY",i.offset),n.xp6(1),n.Q6J("x",50)("y",75)("radius",30)("startAngle",n.lcZ(67,57,i.mouth))("endAngle",n.lcZ(68,59,-i.mouth)),n.xp6(3),n.Q6J("x",50)("y",75),n.xp6(1),n.Q6J("fillStyle",i.color)("maxWidth",200)("text",i.text)("font",i.font)("x",90)("y",90))},directives:[je.A,Je.iN,y.eT,y.Fj,y.JJ,y.On,j.uJ,j.OI,M.sz,N.gX,pr,at,st,xe.SV,gr.C,mr.L,hr.X,fr.l,_r.$,vr.f,Ie.K3,Ie.wU,Cr.g,Tr.T,br.l,xr.B,Mr.f,yr.S,ut.eC],pipes:[Or.a,Ir],styles:["[_nghost-%COMP%]{display:block;max-width:800px;margin:0 auto}.row[_ngcontent-%COMP%]{display:flex;min-width:100%;grid-gap:12px;gap:12px}.child[_ngcontent-%COMP%]{flex:1;min-width:100px}.controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:12px;gap:12px}input[_ngcontent-%COMP%]{margin:0}fieldset[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border:none;background:whitesmoke;padding:12px;margin:12px 0;grid-gap:12px;gap:12px;border-radius:1.25rem}canvas[_ngcontent-%COMP%]{display:block;width:300px;height:150px;margin:0 auto 40px;border-radius:6px;box-shadow:0 12px 36px #0003}"],changeDetection:0}),t})();var Pr=d(23327),Er=d(8871);let Sr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[_.ez,y.u5,Er.tZ,Bn,je.U,Je.c2,xe.ij,j.Jy,ut.zX,M.cn,dr,Ie.Qf,Pr.Bz.forChild([{path:"",component:Dr}])]]}),t})()}}]);