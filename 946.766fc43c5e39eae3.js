"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[946],{21946:(U,c,s)=>{s.r(c),s.d(c,{PermissionsPageModule:()=>y});var h=s(73930),g=s(54121),m=s(84945),p=s(98168),d=s(33568),e=s(64537),v=s(13237),a=s(88692),l=s(16098);function f(o,r){if(1&o&&(e.TgZ(0,"div"),e._uU(1," Unfortunately we could not show what the code snippet above would render due to an error: "),e._UZ(2,"br"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&o){const t=r.ngIf;e.xp6(4),e.Oqu(t)}}function Z(o,r){if(1&o&&(e.TgZ(0,"div")(1,"p"),e._uU(2,"The sample above would render the following:"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"h2",2),e._uU(5),e.qZA(),e._UZ(6,"hr"),e.TgZ(7,"p"),e._uU(8,"Go ahead and change your browser Location permission as shown below to see this change reflected above."),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"img",3),e.qZA()()),2&o){const t=r.ngIf;e.xp6(5),e.hij("Geolocation state: ",t,"")}}let P=(()=>{class o{constructor(t,i){this.permissionsService=t,this.navigator=i,this.error$=new g.X(null),this.basicSample="import { PermissionsService } from '@ng-web-apis/permissions';\n\n@Component({\n  selector: 'main',\n  template: `\n    <h2>Geolocation state: {{ geolocationState$ | async }}</h2>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AppComponent {\n  geolocationState$ = this.permissionsService.state('geolocation');\n\n  constructor(\n    private readonly permissionsService: PermissionsService,\n  ) {}\n}\n",this.geolocationState$=this.permissionsService.state("geolocation").pipe((0,p.b)(n=>{"prompt"===n&&(alert("After you acknowledge this message the browser will ask your permission to allow location access!"),this.navigator.geolocation.getCurrentPosition(()=>{}))}),(0,d.K)(n=>(this.error$.next(n.message),(0,m.of)(null))))}static{this.\u0275fac=function(i){return new(i||o)(e.Y36(v.qQ),e.Y36(h.s5))}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["permissions-page"]],decls:10,vars:7,consts:[[3,"highlight"],[4,"ngIf"],[1,"align-center"],["alt","Click on 'View site information' icon next to the address bar and change selected permission for Location","src","assets/change-permissions-instructions.jpg"]],template:function(i,n){1&i&&(e._uU(0,"The following example shows basic usage of\n"),e.TgZ(1,"code"),e._uU(2,"PermissionsService"),e.qZA(),e._uU(3,"\n: "),e.TgZ(4,"pre"),e._UZ(5,"code",0),e.qZA(),e.YNc(6,f,5,1,"div",1),e.ALo(7,"async"),e.YNc(8,Z,11,1,"div",1),e.ALo(9,"async")),2&i&&(e.xp6(5),e.Q6J("highlight",n.basicSample),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,3,n.error$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(9,5,n.geolocationState$)))},dependencies:[a.O5,l.y$,a.Ov],styles:["[_nghost-%COMP%]{display:block;max-width:600px;margin:0 auto}"],changeDetection:0})}}return o})();var S=s(22864);let y=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.oAB({type:o})}static{this.\u0275inj=e.cJS({imports:[a.ez,l._l,S.Bz.forChild([{path:"",component:P}])]})}}return o})()}}]);