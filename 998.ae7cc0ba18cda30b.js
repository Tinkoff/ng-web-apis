"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[998],{1485:(y,l,o)=>{o.r(l),o.d(l,{default:()=>C});var i=o(6889),r=o(6733),e=o(755),m=o(4133),p=o(8248),g=o(7114),h=o(6424),d=o(1570),u=o(7560),f=o(1209);function Z(s,n){if(1&s&&(e.TgZ(0,"div"),e._uU(1," Unfortunately we could not show what the code snippet above would render due to an error: "),e._UZ(2,"br"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&s){const a=n.ngIf;e.xp6(4),e.Oqu(a)}}function P(s,n){if(1&s&&(e.TgZ(0,"div")(1,"p"),e._uU(2,"The sample above would render the following:"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"h2",2),e._uU(5),e.qZA(),e._UZ(6,"hr"),e.TgZ(7,"p"),e._uU(8,"Go ahead and change your browser Location permission as shown below to see this change reflected above."),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"img",3),e.qZA()()),2&s){const a=n.ngIf;e.xp6(5),e.hij("Geolocation state: ",a,"")}}const C=(()=>{var s;class n{constructor(){(0,i.Z)(this,"navigator",(0,e.f3M)(m.s5)),(0,i.Z)(this,"error$",new h.X(null)),(0,i.Z)(this,"basicSample","import { PermissionsService } from '@ng-web-apis/permissions';\n\n@Component({\n  selector: 'main',\n  template: `\n    <h2>Geolocation state: {{ geolocationState$ | async }}</h2>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AppComponent {\n  geolocationState$ = this.permissionsService.state('geolocation');\n\n  constructor(\n    private readonly permissionsService: PermissionsService,\n  ) {}\n}\n"),(0,i.Z)(this,"geolocationState$",(0,e.f3M)(p.qQ).state("geolocation").pipe((0,d.b)(t=>{"prompt"===t&&(alert("After you acknowledge this message the browser will ask your permission to allow location access!"),this.navigator.geolocation.getCurrentPosition(()=>{}))}),(0,u.K)(t=>(this.error$.next(t.message),(0,f.of)(null)))))}}return s=n,(0,i.Z)(n,"\u0275fac",function(t){return new(t||s)}),(0,i.Z)(n,"\u0275cmp",e.Xpm({type:s,selectors:[["permissions-page"]],standalone:!0,features:[e.jDz],decls:10,vars:7,consts:[[3,"highlight"],[4,"ngIf"],[1,"align-center"],["alt","Click on 'View site information' icon next to the address bar and change selected permission for Location","src","assets/change-permissions-instructions.jpg"]],template:function(t,c){1&t&&(e._uU(0,"The following example shows basic usage of\n"),e.TgZ(1,"code"),e._uU(2,"PermissionsService"),e.qZA(),e._uU(3,"\n: "),e.TgZ(4,"pre"),e._UZ(5,"code",0),e.qZA(),e.YNc(6,Z,5,1,"div",1),e.ALo(7,"async"),e.YNc(8,P,11,1,"div",1),e.ALo(9,"async")),2&t&&(e.xp6(5),e.Q6J("highlight",c.basicSample),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,3,c.error$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(9,5,c.geolocationState$)))},dependencies:[r.ez,r.O5,r.Ov,g._l,g.y$],styles:["[_nghost-%COMP%]{display:block;max-width:600px;margin:0 auto}"],changeDetection:0})),n})()}}]);