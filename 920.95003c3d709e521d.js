"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[920],{2158:(Y,j,c)=>{c.r(j),c.d(j,{default:()=>Te});var s=c(1423),v=c(6610),e=c(2978),A=c(8832),_=c(1767),G=c(4135),k=c(5639),x=c(5266),N=c(4225),C=c(3019),z=c(6230),Q=c(958),q=c(4822),$=c(4314),E=c(8395);c(9141);const L=["type","radio","tuiRadio",""],O=(0,$.gc)({size:"m",appearance:({checked:n})=>n?"primary":"whiteblock"});let X=(()=>{var n;class a{constructor(){this.appearance=(0,e.WQX)(E.bC),this.options=(0,e.WQX)(O),this.el=(0,q.qW)(),this.control=(0,e.WQX)(A.vO,{self:!0,optional:!0}),this.size=this.options.size}ngDoCheck(){this.appearance.tuiAppearance=(0,$.YB)(this.options.appearance)?this.options.appearance:this.options.appearance(this.el)}}return(n=a).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["input","type","radio","tuiRadio",""]],hostVars:4,hostBindings:function(t,o){2&t&&(e.Mr5("disabled",!o.control||o.control.disabled),e.BMQ("data-size",o.size),e.AVh("_readonly",!o.control))},inputs:{size:"size"},standalone:!0,features:[e.aNF,e.nM4([E.tF,Q.W])],attrs:L,decls:0,vars:0,template:function(t,o){},styles:['[tuiRadio]{--t-size: 1.5rem;transition-property:background,box-shadow;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;inline-size:var(--t-size);block-size:var(--t-size);cursor:pointer;margin:0;flex-shrink:0;border-radius:100%;color:var(--tui-text-primary-on-accent-1)}[tuiRadio]:disabled._readonly{opacity:1}[tuiRadio]:before{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";border-radius:100%;background:currentColor;transform:scale(0)}[tuiRadio]:checked:before{transform:scale(.5)}[tuiRadio][data-size=s]{--t-size: 1rem}\n'],encapsulation:2,changeDetection:0}),a})();var J=c(3916),H=c(5180),K=c(4882),Z=c(9134),P=c(7270),ee=c(6104),te=c(2831),ne=c(756),M=c(6041),oe=c(4087),m=c(4814),F=c(4917),g=c(7813);let ae=(()=>{var n;class a extends AudioBufferSourceNode{constructor(t,o,r){const u=(0,e.WQX)(oe.U),d=(0,e.WQX)(_.p),l=(0,e.WQX)(F.L),b=(0,g.q)(o,0),f=(0,g.q)(r,1);if(!l){const y=d.createBufferSource();return Object.setPrototypeOf(a.prototype,Object.getPrototypeOf(y)),Object.setPrototypeOf(y,a.prototype),y.playbackRate.value=f,a.init(y,null,t,u),y}super(d,{detune:b,playbackRate:f}),(0,s.A)(this,"buffer$",void 0),(0,s.A)(this,"detuneParam",void 0),(0,s.A)(this,"playbackRateParam",void 0),(0,s.A)(this,"ended",void 0),a.init(this,null,t,u)}static init(t,o,r,u){null!==r&&t.start();const d=new e.bkB;t.ended=d,t.onended=()=>d.emit(),t.buffer$=new ee.B,t.buffer$.pipe((0,te.n)(l=>"string"==typeof l?u.fetch(l):(0,ne.of)(l))).subscribe(l=>{t.buffer=l})}set bufferSetter(t){this.buffer$.next(t)}ngOnDestroy(){this.buffer$.complete();try{this.stop()}catch{}this.disconnect()}}return n=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||n)(e.kS0("autoplay"),e.kS0("detune"),e.kS0("playbackRate"))}),(0,s.A)(a,"\u0275dir",e.FsC({type:n,selectors:[["","waAudioBufferSourceNode",""]],inputs:{loop:"loop",loopStart:"loopStart",loopEnd:"loopEnd",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",detuneParam:["detune","detuneParam"],playbackRateParam:["playbackRate","playbackRateParam"],bufferSetter:["buffer","bufferSetter"]},outputs:{ended:"ended"},exportAs:["AudioNode"],standalone:!0,features:[e.Jv_([(0,m.TD)(n)]),e.Vt3]})),(0,P.Cg)([(0,M.i)("detune")],a.prototype,"detuneParam",void 0),(0,P.Cg)([(0,M.i)("playbackRate")],a.prototype,"playbackRateParam",void 0),a})(),ie=(()=>{var n;class a extends MediaElementAudioSourceNode{constructor(){const t=(0,e.WQX)(_.p),o=(0,e.WQX)(F.L),r=(0,e.WQX)(e.aKT).nativeElement;if(!o){const u=t.createMediaElementSource(r);return Object.setPrototypeOf(u,a.prototype),u}super(t,{mediaElement:r})}ngOnDestroy(){this.disconnect()}}return n=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||n)}),(0,s.A)(a,"\u0275dir",e.FsC({type:n,selectors:[["audio","waMediaElementAudioSourceNode",""],["video","waMediaElementAudioSourceNode",""]],exportAs:["AudioNode"],standalone:!0,features:[e.Jv_([(0,m.TD)(n)]),e.Vt3]})),a})();var re=c(6823),D=c(2928),R=c(9255),B=c(3527),W=c(7782),h=c(8088);let se=(()=>{var n;class a extends AnalyserNode{constructor(t,o,r,u){const d=(0,e.WQX)(_.p),l=(0,e.WQX)(m.aN,{skipSelf:!0}),b=(0,e.WQX)(F.L),f=(0,g.q)(t,2048),y=(0,g.q)(o,-30),S=(0,g.q)(r,-100),T=(0,g.q)(u,.8);if(!b){const p=d.createAnalyser();return Object.setPrototypeOf(p,a.prototype),a.init(p,l),p.fftSize=f,p.maxDecibels=y,p.minDecibels=S,p.smoothingTimeConstant=T,p}super(d,{fftSize:f,maxDecibels:y,minDecibels:S,smoothingTimeConstant:T}),(0,s.A)(this,"frequencyByte$",void 0),(0,s.A)(this,"frequencyFloat$",void 0),(0,s.A)(this,"timeByte$",void 0),(0,s.A)(this,"timeFloat$",void 0),a.init(this,l)}static init(t,o){(0,h.N)(o,t);let r=new Uint8Array(t.frequencyBinCount),u=new Float32Array(t.frequencyBinCount),d=new Uint8Array(t.fftSize),l=new Float32Array(t.fftSize);t.frequencyByte$=(0,D.Y)(0,R.X).pipe((0,B.T)(()=>(r.length!==t.frequencyBinCount&&(r=new Uint8Array(t.frequencyBinCount)),t.getByteFrequencyData(r),r)),(0,W.u)()),t.frequencyFloat$=(0,D.Y)(0,R.X).pipe((0,B.T)(()=>(u.length!==t.frequencyBinCount&&(u=new Float32Array(t.frequencyBinCount)),t.getFloatFrequencyData(u),u)),(0,W.u)()),t.timeByte$=(0,D.Y)(0,R.X).pipe((0,B.T)(()=>(d.length!==t.fftSize&&(d=new Uint8Array(t.frequencyBinCount)),t.getByteTimeDomainData(d),d)),(0,W.u)()),t.timeFloat$=(0,D.Y)(0,R.X).pipe((0,B.T)(()=>(l.length!==t.fftSize&&(l=new Float32Array(t.frequencyBinCount)),t.getFloatTimeDomainData(l),l)),(0,W.u)())}ngOnDestroy(){this.disconnect()}}return n=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||n)(e.kS0("fftSize"),e.kS0("maxDecibels"),e.kS0("minDecibels"),e.kS0("smoothingTimeConstant"))}),(0,s.A)(a,"\u0275dir",e.FsC({type:n,selectors:[["","waAnalyserNode",""]],inputs:{fftSize:"fftSize",minDecibels:"minDecibels",maxDecibels:"maxDecibels",smoothingTimeConstant:"smoothingTimeConstant",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},outputs:{frequencyByte$:"frequencyByte$",frequencyFloat$:"frequencyFloat$",timeByte$:"timeByte$",timeFloat$:"timeFloat$"},exportAs:["AudioNode"],standalone:!0,features:[e.Jv_([(0,m.TD)(n)]),e.Vt3]})),a})(),ce=(()=>{var n;class a extends BiquadFilterNode{constructor(t,o,r,u){const d=(0,e.WQX)(_.p),l=(0,e.WQX)(F.L),b=(0,e.WQX)(m.aN,{skipSelf:!0}),f=(0,g.q)(t,0),y=(0,g.q)(o,350),S=(0,g.q)(r,0),T=(0,g.q)(u,1);if(!l){const p=d.createBiquadFilter();return Object.setPrototypeOf(p,a.prototype),p.detune.value=f,p.frequency.value=y,p.gain.value=S,p.Q.value=T,(0,h.N)(b,p),p}super(d,{detune:f,frequency:y,gain:S,Q:T}),(0,s.A)(this,"detuneParam",void 0),(0,s.A)(this,"frequencyParam",void 0),(0,s.A)(this,"gainParam",void 0),(0,s.A)(this,"qParam",void 0),(0,h.N)(b,this)}static init(t,o){(0,h.N)(o,t)}ngOnDestroy(){this.disconnect()}}return n=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||n)(e.kS0("detune"),e.kS0("frequency"),e.kS0("gain"),e.kS0("Q"))}),(0,s.A)(a,"\u0275dir",e.FsC({type:n,selectors:[["","waBiquadFilterNode",""]],inputs:{type:"type",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",detuneParam:["detune","detuneParam"],frequencyParam:["frequency","frequencyParam"],gainParam:["gain","gainParam"],qParam:["Q","qParam"]},exportAs:["AudioNode"],standalone:!0,features:[e.Jv_([(0,m.TD)(n)]),e.Vt3]})),(0,P.Cg)([(0,M.i)("detune")],a.prototype,"detuneParam",void 0),(0,P.Cg)([(0,M.i)("frequency")],a.prototype,"frequencyParam",void 0),(0,P.Cg)([(0,M.i)("gain")],a.prototype,"gainParam",void 0),(0,P.Cg)([(0,M.i)("Q")],a.prototype,"qParam",void 0),a})();var ue=c(9092);let de=(()=>{var n;class a extends DelayNode{constructor(t,o){const r=(0,e.WQX)(_.p),u=(0,e.WQX)(m.aN,{skipSelf:!0}),d=(0,e.WQX)(F.L),l=(0,g.q)(t,0),b=(0,g.q)(o,1);if(!d){const f=r.createDelay(b);return Object.setPrototypeOf(f,a.prototype),(0,h.N)(u,f),f.delayTime.value=l,f}super(r,{delayTime:l,maxDelayTime:b}),(0,s.A)(this,"delayTimeParam",void 0),(0,h.N)(u,this)}static init(t,o){(0,h.N)(o,t)}ngOnDestroy(){this.disconnect()}}return n=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||n)(e.kS0("delayTime"),e.kS0("maxDelayTime"))}),(0,s.A)(a,"\u0275dir",e.FsC({type:n,selectors:[["","waDelayNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",delayTimeParam:["delayTime","delayTimeParam"]},exportAs:["AudioNode"],standalone:!0,features:[e.Jv_([(0,m.TD)(n)]),e.Vt3]})),(0,P.Cg)([(0,M.i)("delayTime")],a.prototype,"delayTimeParam",void 0),a})();var le=c(7019);function I(n){var a,i;if(!n)return 0;if("number"==typeof n)return n;if(n instanceof Array){const t=null==(a=n[n.length-1])?void 0:a.value;return"number"==typeof t?t:(null==t?void 0:t[t.length-1])??0}return n.value instanceof Array?(null==(i=n.value)?void 0:i[n.value.length-1])??0:n.value}var pe=c(5612);let ge=(()=>{var n;class a extends StereoPannerNode{constructor(t){const o=(0,e.WQX)(_.p),r=(0,e.WQX)(m.aN,{skipSelf:!0}),u=(0,g.q)(t,0);try{new StereoPannerNode(o)}catch{const d=o.createPanner();return Object.setPrototypeOf(d,a.prototype),d.fallbackToPannerNode(I(u)),(0,h.N)(r,d),d}super(o,{pan:u}),(0,h.N)(r,this)}set panParam(t){"setPosition"in this?this.fallbackToPannerNode(I(t)):(0,pe.D)(this.pan,t,this.context.currentTime)}ngOnDestroy(){this.disconnect()}fallbackToPannerNode(t){const o=100*t,r=o>0?270-o:o+90,u=Math.sin(o*(Math.PI/180)),d=Math.sin(r*(Math.PI/180));this.setPosition(u,0,d)}}return n=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||n)(e.kS0("pan"))}),(0,s.A)(a,"\u0275dir",e.FsC({type:n,selectors:[["","waStereoPannerNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",panParam:["pan","panParam"]},exportAs:["AudioNode"],standalone:!0,features:[e.Jv_([(0,m.TD)(n)]),e.Vt3]})),a})(),fe=(()=>{var n;class a extends WaveShaperNode{constructor(){const t=(0,e.WQX)(_.p),o=(0,e.WQX)(m.aN,{skipSelf:!0});if(!(0,e.WQX)(F.L)){const u=t.createWaveShaper();return Object.setPrototypeOf(u,a.prototype),(0,h.N)(o,u),u}super(t),(0,h.N)(o,this)}ngOnDestroy(){this.disconnect()}}return n=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||n)}),(0,s.A)(a,"\u0275dir",e.FsC({type:n,selectors:[["","waWaveShaperNode",""]],inputs:{oversample:"oversample",curve:"curve",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},exportAs:["AudioNode"],standalone:!0,features:[e.Jv_([(0,m.TD)(n)]),e.Vt3]})),a})(),me=(()=>{var n;class a{transform(t,o,r="exponential"){return t instanceof Array?{value:t,duration:o}:{value:t,duration:o,mode:r}}}return n=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||n)}),(0,s.A)(a,"\u0275pipe",e.EJ8({name:"waAudioParam",type:n,pure:!0,standalone:!0})),a})(),_e=(()=>{var n;class a{constructor(){(0,s.A)(this,"context",(0,e.WQX)(_.p))}transform(t,o,r){return this.context.createPeriodicWave(new Float32Array(t),o?new Float32Array(o):new Float32Array(t.length),{disableNormalization:!!r})}}return n=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||n)}),(0,s.A)(a,"\u0275pipe",e.EJ8({name:"waPeriodicWave",type:n,pure:!0,standalone:!0})),a})();const he=["chain"];function ye(n,a){if(1&n){const i=e.RV6();e.j41(0,"button",2),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.start())}),e.EFF(1," Start AudioContext\n"),e.k0s()}}function Ae(n,a){if(1&n){const i=e.RV6();e.j41(0,"button",18,19),e.bIt("click",function(o){e.eBV(i);const r=e.sdS(1),u=e.XpG(3);return e.Njj(u.onClick(r,o.target))}),e.EFF(2," Play "),e.qex(3,20),e.bIt("timeByte$",function(o){e.eBV(i);const r=e.XpG(3);return e.Njj(r.onTimeDomain(o))}),e.eu8(4,21),e.bVm(),e.k0s()}if(2&n){e.XpG(2);const i=e.sdS(30),t=e.XpG();e.Y8G("loop",!0),e.R7$(3),e.Y8G("fftSize",t.fftSize),e.R7$(1),e.Y8G("waOutput",t.chain||i)}}function be(n,a){if(1&n&&(e.qex(0),e.DNE(1,Ae,5,3,"button",17),e.bVm()),2&n){const i=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",i.buffers)}}function ve(n,a){if(1&n){const i=e.RV6();e.j41(0,"audio",22),e.qex(1,20),e.bIt("timeByte$",function(o){e.eBV(i);const r=e.XpG(2);return e.Njj(r.onTimeDomain(o))}),e.eu8(2,21),e.bVm(),e.k0s()}if(2&n){e.XpG();const i=e.sdS(30),t=e.XpG();e.R7$(1),e.Y8G("fftSize",t.fftSize),e.R7$(1),e.Y8G("waOutput",t.chain||i)}}function Ce(n,a){if(1&n){const i=e.RV6();e.j41(0,"button",24,19),e.bIt("click",function(o){e.eBV(i);const r=e.sdS(1),u=e.XpG(3);return e.Njj(u.onClick(r,o.target))}),e.nI1(2,"waPeriodicWave"),e.EFF(3," Play "),e.qex(4,20),e.bIt("timeByte$",function(o){e.eBV(i);const r=e.XpG(3);return e.Njj(r.onTimeDomain(o))}),e.eu8(5,21),e.bVm(),e.k0s()}if(2&n){e.XpG(2);const i=e.sdS(30),t=e.XpG();e.Y8G("frequency",100)("periodicWave",e.bMT(2,4,t.real)),e.R7$(4),e.Y8G("fftSize",t.fftSize),e.R7$(1),e.Y8G("waOutput",t.chain||i)}}function Pe(n,a){if(1&n&&(e.qex(0),e.DNE(1,Ce,6,6,"button",23),e.bVm()),2&n){const i=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",i.buffers)}}function Me(n,a){if(1&n){const i=e.RV6();e.qex(0),e.j41(1,"fieldset",25,26),e.nI1(3,"waAudioParam"),e.j41(4,"legend"),e.EFF(5,"GainNode"),e.k0s(),e.j41(6,"input",27),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG(2);return e.Njj(r.gain=o)}),e.k0s(),e.j41(7,"fieldset",28),e.nI1(8,"waAudioParam"),e.j41(9,"legend"),e.EFF(10,"StereoPannerNode"),e.k0s(),e.j41(11,"input",29),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG(2);return e.Njj(r.pan=o)}),e.k0s(),e.j41(12,"fieldset",30)(13,"legend"),e.EFF(14,"AudioDestinationNode"),e.k0s()()()(),e.bVm()}if(2&n){const i=e.XpG(2);e.R7$(1),e.Y8G("gain",e.i5U(3,4,i.gain,.1)),e.R7$(5),e.Y8G("ngModel",i.gain),e.R7$(1),e.Y8G("pan",e.i5U(8,7,i.pan,.1)),e.R7$(4),e.Y8G("ngModel",i.pan)}}function Fe(n,a){if(1&n){const i=e.RV6();e.qex(0),e.j41(1,"fieldset",25,26),e.nI1(3,"waAudioParam"),e.j41(4,"legend"),e.EFF(5,"GainNode"),e.k0s(),e.j41(6,"em"),e.EFF(7,"For feedback loop purposes only"),e.k0s(),e.j41(8,"fieldset",31),e.nI1(9,"waAudioParam"),e.j41(10,"legend"),e.EFF(11,"DelayNode"),e.k0s(),e.j41(12,"input",27),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG(2);return e.Njj(r.delayTime=o)}),e.k0s(),e.j41(13,"fieldset",25)(14,"legend"),e.EFF(15,"GainNode"),e.k0s(),e.j41(16,"input",27),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG(2);return e.Njj(r.delayGain=o)}),e.k0s(),e.j41(17,"fieldset",21)(18,"legend"),e.EFF(19,"Output"),e.k0s(),e.j41(20,"em"),e.EFF(21,"Connected back to the beginning of the chain"),e.k0s()()()(),e.j41(22,"fieldset",30)(23,"legend"),e.EFF(24,"AudioDestinationNode"),e.k0s()()(),e.bVm()}if(2&n){const i=e.sdS(2),t=e.XpG(2);e.R7$(1),e.Y8G("gain",e.i5U(3,6,t.gain,.1)),e.R7$(7),e.Y8G("delayTime",e.i5U(9,9,t.delayTime,.1)),e.R7$(4),e.Y8G("ngModel",t.delayTime),e.R7$(1),e.Y8G("gain",t.delayGain),e.R7$(3),e.Y8G("ngModel",t.delayGain),e.R7$(1),e.Y8G("waOutput",i)}}function xe(n,a){if(1&n&&e.nrm(0,"tui-data-list-wrapper",41),2&n){const i=e.XpG(3);e.Y8G("items",i.items)}}function Ne(n,a){if(1&n){const i=e.RV6();e.qex(0),e.j41(1,"fieldset",32,26),e.nI1(3,"waAudioParam"),e.nI1(4,"waAudioParam"),e.nI1(5,"waAudioParam"),e.nI1(6,"waAudioParam"),e.j41(7,"legend"),e.EFF(8,"BiquadFilterNode"),e.k0s(),e.j41(9,"tui-select",33),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG(2);return e.Njj(r.type=o)}),e.EFF(10," Type "),e.DNE(11,xe,1,1,"tui-data-list-wrapper",34),e.k0s(),e.j41(12,"label",3),e.EFF(13," gain "),e.j41(14,"input",27),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG(2);return e.Njj(r.filterGain=o)}),e.k0s()(),e.j41(15,"label",3),e.EFF(16," frequence "),e.j41(17,"input",35),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG(2);return e.Njj(r.frequency=o)}),e.k0s()(),e.j41(18,"label",3),e.EFF(19," Q "),e.j41(20,"input",36),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG(2);return e.Njj(r.Q=o)}),e.k0s()(),e.j41(21,"label",3),e.EFF(22," detune "),e.j41(23,"input",37),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG(2);return e.Njj(r.detune=o)}),e.k0s()(),e.j41(24,"fieldset",38)(25,"legend"),e.EFF(26,"WaveShaperNode"),e.k0s(),e.j41(27,"input",39),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG(2);return e.Njj(r.onCurveChange(o))}),e.k0s(),e.qex(28,25),e.nI1(29,"waAudioParam"),e.j41(30,"fieldset",40)(31,"legend"),e.EFF(32,"ConvolverNode"),e.k0s(),e.j41(33,"fieldset",30)(34,"legend"),e.EFF(35,"AudioDestinationNode"),e.k0s()()(),e.bVm(),e.k0s()(),e.bVm()}if(2&n){const i=e.XpG(2);e.R7$(1),e.Y8G("detune",e.i5U(3,13,i.detune,.1))("frequency",e.i5U(4,16,i.frequency,.1))("gain",e.i5U(5,19,i.filterGain,.1))("Q",e.i5U(6,22,i.Q,.1))("type",i.type),e.R7$(8),e.Y8G("ngModel",i.type),e.R7$(5),e.Y8G("ngModel",i.filterGain),e.R7$(3),e.Y8G("ngModel",i.frequency),e.R7$(3),e.Y8G("ngModel",i.Q),e.R7$(3),e.Y8G("ngModel",i.detune),e.R7$(1),e.Y8G("curve",i.curve),e.R7$(3),e.Y8G("ngModel",i.distortion),e.R7$(1),e.Y8G("gain",e.i5U(29,25,i.distortionCompensation,.1))}}function Se(n,a){if(1&n){const i=e.RV6();e.j41(0,"section")(1,"h2"),e.EFF(2,"Description"),e.k0s(),e.j41(3,"p"),e.EFF(4," This is a demo for "),e.j41(5,"strong"),e.EFF(6,"@ng-web-apis/audio"),e.k0s(),e.EFF(7," \u2014 a Web Audio API declarative library for Angular. Here you can select different audio source options and see AudioNode graph for selected configuration. Demo page uses HTML elements as directives hosts, in real life scenario you can use "),e.j41(8,"code"),e.EFF(9,"ng-container"),e.k0s(),e.EFF(10," so you will not have redundant DOM tags. "),e.k0s()(),e.j41(11,"section")(12,"h2"),e.EFF(13,"Source"),e.k0s(),e.j41(14,"label",3)(15,"input",4),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG();return e.Njj(r.selectedSource=o)}),e.k0s(),e.EFF(16," AudioBufferSourceNode "),e.k0s(),e.j41(17,"label",3)(18,"input",5),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG();return e.Njj(r.selectedSource=o)}),e.k0s(),e.EFF(19," MediaElementAudioSourceNode "),e.k0s(),e.j41(20,"label",3)(21,"input",6),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG();return e.Njj(r.selectedSource=o)}),e.k0s(),e.EFF(22," OscillatorNode "),e.k0s(),e.qex(23,7),e.DNE(24,be,2,1,"ng-container",8),e.DNE(25,ve,3,2,"audio",9),e.DNE(26,Pe,2,1,"ng-container",8),e.bVm(),e.j41(27,"p")(28,"canvas",10,11),e.nrm(31,"canvas-path",12),e.nI1(32,"path"),e.nI1(33,"transform"),e.k0s()()(),e.j41(34,"section")(35,"h2"),e.EFF(36,"Chain"),e.k0s(),e.j41(37,"label",3)(38,"input",13),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG();return e.Njj(r.selectedChain=o)}),e.k0s(),e.EFF(39," Dry "),e.k0s(),e.j41(40,"label",3)(41,"input",14),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG();return e.Njj(r.selectedChain=o)}),e.k0s(),e.EFF(42," Balance "),e.k0s(),e.j41(43,"label",3)(44,"input",15),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG();return e.Njj(r.selectedChain=o)}),e.k0s(),e.EFF(45," Delay "),e.k0s(),e.j41(46,"label",3)(47,"input",16),e.bIt("ngModelChange",function(o){e.eBV(i);const r=e.XpG();return e.Njj(r.selectedChain=o)}),e.k0s(),e.EFF(48," Complex "),e.k0s(),e.qex(49,7),e.DNE(50,Me,15,10,"ng-container",8),e.DNE(51,Fe,25,12,"ng-container",8),e.DNE(52,Ne,36,28,"ng-container",8),e.bVm(),e.k0s()}if(2&n){const i=e.sdS(29),t=e.XpG();e.R7$(15),e.Y8G("ngModel",t.selectedSource),e.R7$(3),e.Y8G("ngModel",t.selectedSource),e.R7$(3),e.Y8G("ngModel",t.selectedSource),e.R7$(2),e.Y8G("ngSwitch",t.selectedSource),e.R7$(1),e.Y8G("ngSwitchCase","buffer"),e.R7$(1),e.Y8G("ngSwitchCase","media"),e.R7$(1),e.Y8G("ngSwitchCase","oscillator"),e.R7$(5),e.Y8G("lineWidth",4/i.height)("path",e.bMT(32,18,t.path))("transform",e.bMT(33,20,t.getTransform(i))),e.R7$(7),e.Y8G("ngModel",t.selectedChain),e.R7$(3),e.Y8G("ngModel",t.selectedChain),e.R7$(3),e.Y8G("ngModel",t.selectedChain),e.R7$(3),e.Y8G("ngModel",t.selectedChain),e.R7$(2),e.Y8G("ngSwitch",t.selectedChain),e.R7$(1),e.Y8G("ngSwitchCase","balance"),e.R7$(1),e.Y8G("ngSwitchCase","delay"),e.R7$(1),e.Y8G("ngSwitchCase","complex")}}const Te=(()=>{var n;class a{constructor(){(0,s.A)(this,"context",(0,e.WQX)(_.p)),(0,s.A)(this,"chain",void 0),(0,s.A)(this,"buffers",[Date.now()]),(0,s.A)(this,"selectedChain","dry"),(0,s.A)(this,"selectedSource","buffer"),(0,s.A)(this,"gain",1),(0,s.A)(this,"pan",0),(0,s.A)(this,"delayTime",1),(0,s.A)(this,"delayGain",.5),(0,s.A)(this,"distortion",20),(0,s.A)(this,"frequency",350),(0,s.A)(this,"detune",0),(0,s.A)(this,"filterGain",0),(0,s.A)(this,"Q",1),(0,s.A)(this,"type","lowpass"),(0,s.A)(this,"curve",V(this.distortion)),(0,s.A)(this,"started",!1),(0,s.A)(this,"fftSize",2048),(0,s.A)(this,"path",""),(0,s.A)(this,"items",["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"]),(0,s.A)(this,"real",[0,0,1,0,1])}get distortionCompensation(){return 1.2-this.distortion/20}start(){this.started=!0,this.context.resume()}getTransform({width:t,height:o}){return`scale(${t/this.fftSize}, ${o/2})`}onCurveChange(t){this.distortion=t,this.curve=V(t)}onClick(t,o){"Play"===o.textContent.trim()?(o.textContent="Stop",t.start()):this.buffers[0]=Date.now()}onTimeDomain(t){this.path=t.reduce((o,r,u)=>`${o} L ${u} ${r/128}`,"M 0 0")}}return n=a,(0,s.A)(a,"\u0275fac",function(t){return new(t||n)}),(0,s.A)(a,"\u0275cmp",e.VBU({type:n,selectors:[["audio-page"]],viewQuery:function(t,o){if(1&t&&e.GBs(he,5),2&t){let r;e.mGM(r=e.lsd())&&(o.chain=r.first)}},standalone:!0,features:[e.aNF],decls:3,vars:2,consts:[["appearance","secondary","tuiButton","","type","button",3,"click",4,"ngIf","ngIfElse"],["graph",""],["appearance","secondary","tuiButton","","type","button",3,"click"],["tuiLabel",""],["name","source","tuiRadio","","type","radio","value","buffer",3,"ngModel","ngModelChange"],["name","source","tuiRadio","","type","radio","value","media",3,"ngModel","ngModelChange"],["name","source","tuiRadio","","type","radio","value","oscillator",3,"ngModel","ngModelChange"],[3,"ngSwitch"],[4,"ngSwitchCase"],["controls","","loop","","src","assets/demo.mp3","waMediaElementAudioSourceNode","",4,"ngSwitchCase"],["waAudioDestinationNode","","waCanvas2d","",1,"canvas"],["canvas","","fallback","AudioNode"],["fillStyle","transparent","strokeStyle","black",3,"lineWidth","path","transform"],["name","chain","tuiRadio","","type","radio","value","dry",3,"ngModel","ngModelChange"],["name","chain","tuiRadio","","type","radio","value","balance",3,"ngModel","ngModelChange"],["name","chain","tuiRadio","","type","radio","value","delay",3,"ngModel","ngModelChange"],["name","chain","tuiRadio","","type","radio","value","complex",3,"ngModel","ngModelChange"],["buffer","assets/demo.mp3","size","s","tuiButton","","type","button","waAudioBufferSourceNode","",3,"loop","click",4,"ngFor","ngForOf"],["buffer","assets/demo.mp3","size","s","tuiButton","","type","button","waAudioBufferSourceNode","",3,"loop","click"],["source","AudioNode"],["waAnalyserNode","",3,"fftSize","timeByte$"],[3,"waOutput"],["controls","","loop","","src","assets/demo.mp3","waMediaElementAudioSourceNode",""],["size","s","tuiButton","","type","button","waOscillatorNode","",3,"frequency","periodicWave","click",4,"ngFor","ngForOf"],["size","s","tuiButton","","type","button","waOscillatorNode","",3,"frequency","periodicWave","click"],["waGainNode","",3,"gain"],["chain","AudioNode"],["max","1","min","0","step","0.01","tuiSlider","","type","range",3,"ngModel","ngModelChange"],["waStereoPannerNode","",3,"pan"],["max","1","min","-1","step","0.01","tuiSlider","","type","range",3,"ngModel","ngModelChange"],["waAudioDestinationNode",""],["waDelayNode","",3,"delayTime"],["waBiquadFilterNode","",3,"detune","frequency","gain","Q","type"],["tuiTextfieldSize","m",3,"ngModel","ngModelChange"],[3,"items",4,"tuiDataList"],["max","5000","min","20","tuiSlider","","type","range",3,"ngModel","ngModelChange"],["max","100","min","1","tuiSlider","","type","range",3,"ngModel","ngModelChange"],["max","100","min","0","tuiSlider","","type","range",3,"ngModel","ngModelChange"],["oversample","4x","waWaveShaperNode","",3,"curve"],["max","20","min","0","step","0.1","tuiSlider","","type","range",3,"ngModel","ngModelChange"],["buffer","assets/response.m4a","waConvolverNode",""],[3,"items"]],template:function(t,o){if(1&t&&(e.DNE(0,ye,2,0,"button",0),e.DNE(1,Se,53,22,"ng-template",null,1,e.C5r)),2&t){const r=e.sdS(2);e.Y8G("ngIf",!o.started)("ngIfElse",r)}},dependencies:[C.x1,C._u,C.kk,C.ST,C.Qi,C.Tm,C.d9,v.MD,v.Sq,v.bT,v.ux,v.e1,A.YN,A.me,A.MR,A.Fm,A.BC,A.vS,G.p,z.df,H.WX,k.z,X,x.pg,x.ET,x.ww,J.xb,N.CN,N.G6,K.V,Z.g,ae,ie,re.F,se,ce,ue.H,de,le.U,ge,fe,me,_e],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;gap:.75rem}@media (max-width: 1100px){[_nghost-%COMP%]{flex-direction:column;inline-size:320px;margin:0 auto}}tui-radio-labeled[_ngcontent-%COMP%]{margin:1rem 0}section[_ngcontent-%COMP%]{flex:1;max-inline-size:20rem;padding:.0625rem .625rem .625rem;box-sizing:border-box;background:#f5f5f5;border-radius:.5rem}audio[_ngcontent-%COMP%]{margin-top:1em}label[_ngcontent-%COMP%]{margin-top:.5rem}input[_ngcontent-%COMP%]{margin:0}fieldset[_ngcontent-%COMP%]{margin-top:1em;border:none;border-radius:4px}legend[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 2px;padding:.3125rem .625rem;border-radius:2px}*[ng-reflect--waoutput][_ngcontent-%COMP%]{background:#d8bfd8}*[waGainNode][_ngcontent-%COMP%]{background:#ffc0cb}*[waDelayNode][_ngcontent-%COMP%]{background:#90ee90}*[waStereoPannerNode][_ngcontent-%COMP%]{background:#87ceeb}*[waAudioDestinationNode][_ngcontent-%COMP%]{background:#f0e68c}*[waWaveShaperNode][_ngcontent-%COMP%]{background:#fa8072}*[waBiquadFilterNode][_ngcontent-%COMP%]{background:#ffd700}*[waConvolverNode][_ngcontent-%COMP%]{background:#7fffd4}"],changeDetection:0})),a})();function V(n){const i=new Float32Array(44100),t=Math.PI/180;for(let o=0;o<44100;++o){const r=2*o/44100-1;i[o]=(3+n)*r*20*t/(Math.PI+n*Math.abs(r))}return i}},1753:(Y,j,c)=>{c.d(j,{j:()=>e});var s=c(9867),v=c(6111);function e(A){return(0,s.N)((_,G)=>{let k=!1,x=0;_.subscribe((0,v._)(G,N=>(k||(k=!A(N,x++)))&&G.next(N)))})}}}]);