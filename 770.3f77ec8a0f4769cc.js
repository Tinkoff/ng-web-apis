"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[770],{5770:(pe,N,c)=>{c.r(N),c.d(N,{default:()=>fe});var l=c(6889),p=c(6733),r=c(755),I=c(8132),k=c(1749);function w(e){e||((0,r.gHi)(w),e=(0,r.f3M)(r.ktI));const n=new I.y(t=>e.onDestroy(t.next.bind(t)));return t=>t.pipe((0,k.R)(n))}var re=c(1960);let te=(()=>{var e;class n{constructor(){(0,l.Z)(this,"document",(0,r.f3M)(p.K0))}get isSupported(){return"startViewTransition"in this.document}startViewTransition(o){return this.isSupported?new I.y(i=>{const a=this.document.startViewTransition(o);return a.updateCallbackDone.then(()=>{i.next(a)},s=>{i.error(s)}),a.ready.catch(s=>{i.error(s)}),a.finished.then(()=>{i.complete()},s=>{i.error(s)}),()=>{a.skipTransition()}}):(0,re._)(()=>new Error("startViewTransition is not supported in your browser"))}}return e=n,(0,l.Z)(n,"\u0275fac",function(o){return new(o||e)}),(0,l.Z)(n,"\u0275prov",r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})),n})();var b=c(9502),L=c(8289),Z=c(7114),U=c(6424);function oe(e,n){if(1&e){const t=r.EpF();r.TgZ(0,"div",7),r.NdJ("click",function(){const a=r.CHM(t).index,s=r.oxw(3);return r.KtG(s.open(a))}),r.TgZ(1,"span",8),r._uU(2," Photo by "),r.TgZ(3,"a",9),r._uU(4),r.qZA()(),r._UZ(5,"img",10),r.qZA()}if(2&e){const t=n.$implicit,o=n.index,i=r.oxw(2).tuiLet;r.xp6(3),r.Q6J("href",t.url,r.LSH),r.xp6(1),r.hij(" ",t.author," "),r.xp6(1),r.Udp("view-transition-name",i.activeIndex===o?"expandable-image":null),r.Q6J("src",t.src,r.LSH)}}function ie(e,n){if(1&e&&(r.TgZ(0,"div",5),r.YNc(1,oe,6,5,"div",6),r.qZA()),2&e){const t=r.oxw(2);r.xp6(1),r.Q6J("ngForOf",t.data)}}function se(e,n){if(1&e){const t=r.EpF();r.TgZ(0,"div",11)(1,"img",12),r.NdJ("click",function(){r.CHM(t);const i=r.oxw(2);return r.KtG(i.close())}),r.qZA()()}if(2&e){const t=r.oxw().tuiLet;r.xp6(1),r.Q6J("src",t.detailInfo.src,r.LSH)}}function ue(e,n){if(1&e&&(r.ynx(0),r.YNc(1,ie,2,1,"div",3),r.YNc(2,se,2,1,"div",4),r.BQk()),2&e){const t=n.tuiLet;r.xp6(1),r.Q6J("ngIf",!t.detailInfo),r.xp6(1),r.Q6J("ngIf",t.detailInfo)}}const ae=function(){return["ts"]},ce=function(e,n){return{detailInfo:e,activeIndex:n}},le=[{src:"https://images.pexels.com/photos/16316785/pexels-photo-16316785/free-photo-of-fluffy-cat-on-blooming-tree-background.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Peng Louis",url:"https://www.pexels.com/photo/fluffy-cat-on-blooming-tree-background-16316785/"},{src:"https://images.pexels.com/photos/6001385/pexels-photo-6001385.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Sam Lion",url:"https://www.pexels.com/photo/cute-curious-cat-watching-video-on-laptop-sitting-on-couch-6001385/"},{src:"https://images.pexels.com/photos/7210265/pexels-photo-7210265.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",author:"Blue Bird",url:"https://www.pexels.com/photo/ginger-cat-sleeping-on-ground-in-autumn-7210265/"}],fe=(()=>{var e;class n{constructor(){(0,l.Z)(this,"viewTransitionService",(0,r.f3M)(te)),(0,l.Z)(this,"cdr",(0,r.f3M)(r.sBO)),(0,l.Z)(this,"destroyRef",(0,r.f3M)(r.ktI)),(0,l.Z)(this,"codeSample","\n    // 1) Import service throught DI\n    // In Constructor\n    constructor(private viewTransitionService: ViewTransitionService) {}\n    // or with inject (Angular 14+)\n    private service = inject(ViewTransitionService);\n\n    // 2) Call startViewTransition method and pass callback that would change the DOM\n    private showMyComponent(): void {\n        this.viewTransitionService.startViewTransition(() => {\n            this.showMyComponent = true;\n            // You might want to call detectChanges to update the DOM inside startViewTransition callback\n            this.cdr.detectChanges();\n        }).subscribe();\n    }\n"),(0,l.Z)(this,"data",le),(0,l.Z)(this,"activeIndex$",new U.X(-1)),(0,l.Z)(this,"detailInfo$",new U.X(void 0))}open(o){this.activeIndex$.next(o),this.viewTransitionService.startViewTransition(()=>{this.detailInfo$.next(this.data[o]),this.cdr.detectChanges()}).pipe(w(this.destroyRef)).subscribe()}close(){this.viewTransitionService.startViewTransition(()=>{this.detailInfo$.next(void 0),this.cdr.detectChanges(),this.activeIndex$.next(-1)}).pipe(w(this.destroyRef)).subscribe()}}return e=n,(0,l.Z)(n,"\u0275fac",function(o){return new(o||e)}),(0,l.Z)(n,"\u0275cmp",r.Xpm({type:e,selectors:[["view-transition-page"]],standalone:!0,features:[r.jDz],decls:16,vars:11,consts:[[3,"highlight","languages"],[4,"tuiLet"],["href","https://www.pexels.com","rel","noreferrer","target","_blank","tuiLink",""],["class","photos",4,"ngIf"],["class","expanded-photo",4,"ngIf"],[1,"photos"],["class","photo",3,"click",4,"ngFor","ngForOf"],[1,"photo",3,"click"],[1,"author"],["target","_blank",3,"href"],["alt","img",3,"src"],[1,"expanded-photo"],["alt","image",3,"src","click"]],template:function(o,i){1&o&&(r.TgZ(0,"h2"),r._uU(1,"How to use"),r.qZA(),r.TgZ(2,"p"),r._uU(3," Usage is pretty simple: just import service in your component and call "),r.TgZ(4,"code"),r._uU(5,"startViewTransition"),r.qZA(),r._uU(6," on it.\n"),r.qZA(),r.TgZ(7,"pre"),r._UZ(8,"code",0),r.qZA(),r.TgZ(9,"h2"),r._uU(10,"Basic example"),r.qZA(),r.YNc(11,ue,3,2,"ng-container",1),r.ALo(12,"async"),r.ALo(13,"async"),r.TgZ(14,"a",2),r._uU(15," Photos provided by Pexels\n"),r.qZA()),2&o&&(r.xp6(8),r.Q6J("highlight",i.codeSample)("languages",r.DdM(7,ae)),r.xp6(3),r.Q6J("tuiLet",r.WLB(8,ce,r.lcZ(12,3,i.detailInfo$),r.lcZ(13,5,i.activeIndex$))))},dependencies:[p.ez,p.sg,p.O5,p.Ov,Z._l,Z.y$,L.j,L.V,b.WD,b.Ls],styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex-direction:column}.photos[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;flex-wrap:wrap;gap:1rem;margin:1rem 0}.photo[_ngcontent-%COMP%]{width:12rem;display:flex;flex-direction:column;align-items:center;cursor:pointer}.photo[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-bottom:.5rem}.photo[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;border-radius:.5rem;transition:transform .2s}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.expanded-photo[_ngcontent-%COMP%]{margin:0 auto 1rem;width:20rem;display:flex;cursor:pointer}.expanded-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;view-transition-name:expandable-image;border-radius:1rem;box-shadow:0 12px 36px #0003;width:100%}"],changeDetection:0})),n})()}}]);