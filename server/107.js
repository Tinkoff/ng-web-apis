"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=107,exports.ids=[107],exports.modules={57915:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Tc:()=>WEB_AUDIO_SUPPORT});var rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(72921),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(57192),tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(64762),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(74788);function processAudioParam(param,value,currentTime=0){param.cancelAndHoldAtTime?param.cancelAndHoldAtTime(currentTime):(param.cancelScheduledValues(currentTime),param.setValueAtTime(guard(param.value),currentTime)),"number"!=typeof value?value instanceof Array?processSchedule(param,value,currentTime):"mode"in value?(param.setValueAtTime(guard(param.value),currentTime),processAutomation(param,value,currentTime)):param.setValueCurveAtTime(value.value,currentTime,value.duration):param.setValueAtTime(guard(value),currentTime)}function processSchedule(param,value,currentTime){value.forEach(automation=>{"mode"in automation?processAutomation(param,automation,currentTime):param.setValueCurveAtTime(automation.value,currentTime,automation.duration),currentTime+=automation.duration})}function processAutomation(param,{value,mode="instant",duration},currentTime){switch(mode){case"instant":param.setValueAtTime(guard(value),currentTime),param.setValueAtTime(guard(value),currentTime+duration);break;case"exponential":value<0||value*param.value<0?param.linearRampToValueAtTime(guard(value),currentTime+duration):param.exponentialRampToValueAtTime(guard(value),currentTime+duration),param.setValueAtTime(guard(value),currentTime+duration);break;case"linear":param.linearRampToValueAtTime(guard(value),currentTime+duration)}}function guard(v){return v||1e-8}function audioParam(param=""){return __name((target,propertyKey)=>{Object.defineProperty(target,propertyKey,{set(value){value="string"==typeof value?Number.parseFloat(value):value;const audioParam2=this instanceof AudioWorkletNode?this.parameters.get(propertyKey):this[param];audioParam2 instanceof AudioParam?processAudioParam(audioParam2,value,this.context.currentTime):Object.defineProperty(target,propertyKey,{value})}})},"decorator")}__name(processAudioParam,"processAudioParam"),__name(processSchedule,"processSchedule"),__name(processAutomation,"processAutomation"),__name(guard,"guard"),__name(audioParam,"audioParam");const AUDIO_CONTEXT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("Web Audio API context",{providedIn:"root",factory:()=>new AudioContext});function latencyHintFactory(latencyHint){return null===latencyHint?void 0:Number.parseFloat(latencyHint)||latencyHint}__name(latencyHintFactory,"latencyHintFactory");class WebAudioContext extends AudioContext{constructor(latencyHint,sampleRate){super({latencyHint:latencyHintFactory(latencyHint),sampleRate:parseInt(sampleRate||"",10)||void 0})}ngOnDestroy(){this.close()}}__name(WebAudioContext,"WebAudioContext"),WebAudioContext.\u0275fac=__name(function(t){return new(t||WebAudioContext)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("latencyHint"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("sampleRate"))},"WebAudioContext_Factory"),WebAudioContext.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioContext,selectors:[["","waAudioContext",""]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_CONTEXT,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioContext)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioContext.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["latencyHint"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["sampleRate"]}]}];const CONSTRUCTOR_SUPPORT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("Tests if constructor mode of node creation is supported or a fallback to factory method is needed",{providedIn:"root",factory:()=>{try{return!!new GainNode((0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(AUDIO_CONTEXT))}catch(_){return!1}}});class WebAudioChannel extends GainNode{constructor(context,modern){if(!modern){const result=context.createGain();return Object.setPrototypeOf(result,WebAudioChannel.prototype),result}super(context)}ngOnDestroy(){this.disconnect()}}__name(WebAudioChannel,"WebAudioChannel"),WebAudioChannel.\u0275fac=__name(function(t){return new(t||WebAudioChannel)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT))},"WebAudioChannel_Factory"),WebAudioChannel.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioChannel,selectors:[["","waChannel",""]],exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioChannel.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]}];const AUDIO_NODE=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("Web Audio API audio node",{factory:()=>null});function connect(source,destination){source&&destination&&source.connect(destination)}__name(connect,"connect");class WebAudioDestination extends AnalyserNode{constructor(context,node,modern){if(!modern){const result=context.createAnalyser();return Object.setPrototypeOf(result,WebAudioDestination.prototype),WebAudioDestination.init(result,node),result}super(context),WebAudioDestination.init(this,node)}ngOnDestroy(){this.disconnect()}isSilent(array){return Math.abs(array.reduce((acc,cur)=>acc+cur,0))<.001}static init(that,node){connect(node,that),that.fftSize=256,that.connect(that.context.destination),that.quiet=(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.interval)(100).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.hZ)(new Float32Array(that.fftSize)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.bw)(array=>that.getFloatTimeDomainData(array)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.UI)(array=>that.isSilent(array)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.xb)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.nF)(isSilent=>isSilent),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.bh)(5e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.hX)(isSilent=>isSilent))}}function fallbackAudioParam(value){if(!value)return 0;if("number"==typeof value)return value;if(value instanceof Array){const last=value[value.length-1].value;return"number"==typeof last?last:last[last.length-1]}return value.value instanceof Array?value.value[value.value.length-1]:value.value}__name(WebAudioDestination,"WebAudioDestination"),WebAudioDestination.\u0275fac=__name(function(t){return new(t||WebAudioDestination)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT))},"WebAudioDestination_Factory"),WebAudioDestination.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioDestination,selectors:[["","waAudioDestinationNode",""]],outputs:{quiet:"quiet"},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioDestination.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]}],WebAudioDestination.propDecorators={quiet:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}]},__name(fallbackAudioParam,"fallbackAudioParam");class WebAudioListener extends GainNode{constructor(context,modern){if(!modern){const result=context.createGain();return Object.setPrototypeOf(result,WebAudioListener.prototype),result}super(context)}get forwardX(){return this.context.listener.forwardX}get forwardY(){return this.context.listener.forwardY}get forwardZ(){return this.context.listener.forwardZ}get positionX(){return this.context.listener.positionX}get positionY(){return this.context.listener.positionY}get positionZ(){return this.context.listener.positionZ}get upX(){return this.context.listener.upX}get upY(){return this.context.listener.upY}get upZ(){return this.context.listener.upZ}ngOnChanges(){this.context.listener.positionX instanceof AudioParam||(this.context.listener.setOrientation(fallbackAudioParam(this.forwardXParam),fallbackAudioParam(this.forwardYParam),fallbackAudioParam(this.forwardZParam),fallbackAudioParam(this.upXParam),fallbackAudioParam(this.upYParam),fallbackAudioParam(this.upZParam)),this.context.listener.setPosition(fallbackAudioParam(this.positionXParam),fallbackAudioParam(this.positionYParam),fallbackAudioParam(this.positionZParam)))}}__name(WebAudioListener,"WebAudioListener"),WebAudioListener.\u0275fac=__name(function(t){return new(t||WebAudioListener)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT,2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT))},"WebAudioListener_Factory"),WebAudioListener.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioListener,selectors:[["","waAudioContext",""],["","waOfflineAudioContext","","length","","sampleRate",""]],inputs:{forwardXParam:["forwardX","forwardXParam"],forwardYParam:["forwardY","forwardYParam"],forwardZParam:["forwardZ","forwardZParam"],positionXParam:["positionX","positionXParam"],positionYParam:["positionY","positionYParam"],positionZParam:["positionZ","positionZParam"],upXParam:["upX","upXParam"],upYParam:["upY","upYParam"],upZParam:["upZ","upZParam"]},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature,_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275NgOnChangesFeature]}),WebAudioListener.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Self},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]}],WebAudioListener.propDecorators={forwardXParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["forwardX"]}],forwardYParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["forwardY"]}],forwardZParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["forwardZ"]}],positionXParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["positionX"]}],positionYParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["positionY"]}],positionZParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["positionZ"]}],upXParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["upX"]}],upYParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["upY"]}],upZParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["upZ"]}]},(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("forwardX"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioListener.prototype,"forwardXParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("forwardY"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioListener.prototype,"forwardYParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("forwardZ"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioListener.prototype,"forwardZParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("positionX"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioListener.prototype,"positionXParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("positionY"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioListener.prototype,"positionYParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("positionZ"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioListener.prototype,"positionZParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("upX"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioListener.prototype,"upXParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("upY"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioListener.prototype,"upYParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("upZ"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioListener.prototype,"upZParam",void 0);class WebAudioOfflineContext extends OfflineAudioContext{constructor(length,sampleRate,numberOfChannels,autoplay){super(parseInt(numberOfChannels||"",10)||1,parseInt(length,10),parseInt(sampleRate,10)),this.complete=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.oncomplete=({renderedBuffer})=>this.complete.emit(renderedBuffer),null!==autoplay&&this.startRendering()}}__name(WebAudioOfflineContext,"WebAudioOfflineContext"),WebAudioOfflineContext.\u0275fac=__name(function(t){return new(t||WebAudioOfflineContext)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("length"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("sampleRate"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("numberOfChannels"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("autoplay"))},"WebAudioOfflineContext_Factory"),WebAudioOfflineContext.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioOfflineContext,selectors:[["","waOfflineAudioContext","","length","","sampleRate",""]],outputs:{complete:"complete"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_CONTEXT,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioOfflineContext)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioOfflineContext.ctorParameters=()=>[{type:String,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["length"]}]},{type:String,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["sampleRate"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["numberOfChannels"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["autoplay"]}]}],WebAudioOfflineContext.propDecorators={complete:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}]};class WebAudioOutput extends GainNode{constructor(context,node,modern){if(!modern){const result=context.createGain();return Object.setPrototypeOf(result,WebAudioOutput.prototype),connect(node,result),result}super(context),connect(node,this)}set waOutput(destination){this.disconnect(),connect(this,destination)}ngOnDestroy(){this.disconnect()}static init(that,node){connect(node,that)}}__name(WebAudioOutput,"WebAudioOutput"),WebAudioOutput.\u0275fac=__name(function(t){return new(t||WebAudioOutput)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT))},"WebAudioOutput_Factory"),WebAudioOutput.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioOutput,selectors:[["","waOutput",""]],inputs:{waOutput:"waOutput"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioOutput.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]}],WebAudioOutput.propDecorators={waOutput:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}]};class WebAudioMediaStreamDestination extends MediaStreamAudioDestinationNode{constructor(context,node,modern){if(!modern){const result=context.createMediaStreamDestination();return Object.setPrototypeOf(result,WebAudioMediaStreamDestination.prototype),connect(node,result),result}super(context),connect(node,this)}}function parse(value,fallback){const parsed=parseFloat(value||"");return isNaN(parsed)?fallback:parsed}__name(WebAudioMediaStreamDestination,"WebAudioMediaStreamDestination"),WebAudioMediaStreamDestination.\u0275fac=__name(function(t){return new(t||WebAudioMediaStreamDestination)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT))},"WebAudioMediaStreamDestination_Factory"),WebAudioMediaStreamDestination.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioMediaStreamDestination,selectors:[["","waMediaStreamAudioDestinationNode",""]],exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioMediaStreamDestination.ctorParameters=()=>[{type:AudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]}],__name(parse,"parse");class WebAudioAnalyser extends AnalyserNode{constructor(context,node,modern,fftSizeArg,maxDecibelsArg,minDecibelsArg,smoothingTimeConstantArg){const fftSize=parse(fftSizeArg,2048),maxDecibels=parse(maxDecibelsArg,-30),minDecibels=parse(minDecibelsArg,-100),smoothingTimeConstant=parse(smoothingTimeConstantArg,.8);if(!modern){const result=context.createAnalyser();return Object.setPrototypeOf(result,WebAudioAnalyser.prototype),WebAudioAnalyser.init(result,node),result.fftSize=fftSize,result.maxDecibels=maxDecibels,result.minDecibels=minDecibels,result.smoothingTimeConstant=smoothingTimeConstant,result}super(context,{fftSize,maxDecibels,minDecibels,smoothingTimeConstant}),WebAudioAnalyser.init(this,node)}ngOnDestroy(){this.disconnect()}static init(that,node){connect(node,that);let freqByte=new Uint8Array(that.frequencyBinCount),freqFloat=new Float32Array(that.frequencyBinCount),timeByte=new Uint8Array(that.fftSize),timeFloat=new Float32Array(that.fftSize);that.frequencyByte$=(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.interval)(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.animationFrameScheduler).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.UI)(()=>(freqByte.length!==that.frequencyBinCount&&(freqByte=new Uint8Array(that.frequencyBinCount)),that.getByteFrequencyData(freqByte),freqByte)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.BN)()),that.frequencyFloat$=(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.interval)(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.animationFrameScheduler).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.UI)(()=>(freqFloat.length!==that.frequencyBinCount&&(freqFloat=new Float32Array(that.frequencyBinCount)),that.getFloatFrequencyData(freqFloat),freqFloat)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.BN)()),that.timeByte$=(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.interval)(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.animationFrameScheduler).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.UI)(()=>(timeByte.length!==that.fftSize&&(timeByte=new Uint8Array(that.frequencyBinCount)),that.getByteTimeDomainData(timeByte),timeByte)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.BN)()),that.timeFloat$=(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.interval)(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.animationFrameScheduler).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.UI)(()=>(timeFloat.length!==that.fftSize&&(timeFloat=new Float32Array(that.frequencyBinCount)),that.getFloatTimeDomainData(timeFloat),timeFloat)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.BN)())}}__name(WebAudioAnalyser,"WebAudioAnalyser"),WebAudioAnalyser.\u0275fac=__name(function(t){return new(t||WebAudioAnalyser)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("fftSize"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("maxDecibels"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("minDecibels"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("smoothingTimeConstant"))},"WebAudioAnalyser_Factory"),WebAudioAnalyser.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioAnalyser,selectors:[["","waAnalyserNode",""]],inputs:{fftSize:"fftSize",minDecibels:"minDecibels",maxDecibels:"maxDecibels",smoothingTimeConstant:"smoothingTimeConstant",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},outputs:{frequencyByte$:"frequencyByte$",frequencyFloat$:"frequencyFloat$",timeByte$:"timeByte$",timeFloat$:"timeFloat$"},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioAnalyser)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioAnalyser.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["fftSize"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["maxDecibels"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["minDecibels"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["smoothingTimeConstant"]}]}],WebAudioAnalyser.propDecorators={frequencyByte$:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],frequencyFloat$:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],timeByte$:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}],timeFloat$:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}]};class WebAudioBiquadFilter extends BiquadFilterNode{constructor(context,modern,node,detuneArg,frequencyArg,gainArg,QArg){const detune=parse(detuneArg,0),frequency=parse(frequencyArg,350),gain=parse(gainArg,0),Q=parse(QArg,1);if(!modern){const result=context.createBiquadFilter();return Object.setPrototypeOf(result,WebAudioBiquadFilter.prototype),result.detune.value=detune,result.frequency.value=frequency,result.gain.value=gain,result.Q.value=Q,connect(node,result),result}super(context,{detune,frequency,gain,Q}),connect(node,this)}ngOnDestroy(){this.disconnect()}static init(that,node){connect(node,that)}}__name(WebAudioBiquadFilter,"WebAudioBiquadFilter"),WebAudioBiquadFilter.\u0275fac=__name(function(t){return new(t||WebAudioBiquadFilter)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("detune"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("frequency"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("gain"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("Q"))},"WebAudioBiquadFilter_Factory"),WebAudioBiquadFilter.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioBiquadFilter,selectors:[["","waBiquadFilterNode",""]],inputs:{type:"type",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",detuneParam:["detune","detuneParam"],frequencyParam:["frequency","frequencyParam"],gainParam:["gain","gainParam"],qParam:["Q","qParam"]},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioBiquadFilter)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioBiquadFilter.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["detune"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["frequency"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["gain"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["Q"]}]}],WebAudioBiquadFilter.propDecorators={detuneParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["detune"]}],frequencyParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["frequency"]}],gainParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["gain"]}],qParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["Q"]}]},(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("detune"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioBiquadFilter.prototype,"detuneParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("frequency"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioBiquadFilter.prototype,"frequencyParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("gain"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioBiquadFilter.prototype,"gainParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("Q"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioBiquadFilter.prototype,"qParam",void 0);class WebAudioChannelMerger extends ChannelMergerNode{constructor(inputs,context,modern){const numberOfInputs=parseInt(inputs||"",10)||6;if(!modern){const result=context.createChannelMerger(numberOfInputs);return Object.setPrototypeOf(result,WebAudioChannelMerger.prototype),result}super(context,{numberOfInputs})}set channels(channels){channels.forEach((node,index)=>{node.connect(this,0,index)})}ngOnDestroy(){this.disconnect()}}__name(WebAudioChannelMerger,"WebAudioChannelMerger"),WebAudioChannelMerger.\u0275fac=__name(function(t){return new(t||WebAudioChannelMerger)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("numberOfInputs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT))},"WebAudioChannelMerger_Factory"),WebAudioChannelMerger.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioChannelMerger,selectors:[["","waChannelMergerNode",""]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275contentQuery(dirIndex,WebAudioChannel,4),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275queryRefresh(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275loadQuery())&&(ctx.channels=_t)}},"WebAudioChannelMerger_ContentQueries"),inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioChannelMerger)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioChannelMerger.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["numberOfInputs"]}]},{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]}],WebAudioChannelMerger.propDecorators={channels:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ContentChildren,args:[WebAudioChannel,{descendants:!1}]}]};class WebAudioChannelSplitter extends ChannelSplitterNode{constructor(outputs,context,node,modern){const numberOfOutputs=parseInt(outputs||"",10)||6;if(!modern){const result=context.createChannelSplitter(numberOfOutputs);return Object.setPrototypeOf(result,WebAudioChannelSplitter.prototype),connect(node,result),result}super(context,{numberOfOutputs}),connect(node,this)}set channels(channels){this.disconnect(),channels.filter(node=>!!node).forEach((node,index)=>{this.connect(node,index)})}ngOnDestroy(){this.disconnect()}}__name(WebAudioChannelSplitter,"WebAudioChannelSplitter"),WebAudioChannelSplitter.\u0275fac=__name(function(t){return new(t||WebAudioChannelSplitter)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("numberOfOutputs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT))},"WebAudioChannelSplitter_Factory"),WebAudioChannelSplitter.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioChannelSplitter,selectors:[["","waChannelSplitterNode",""]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275contentQuery(dirIndex,AUDIO_NODE,4),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275queryRefresh(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275loadQuery())&&(ctx.channels=_t)}},"WebAudioChannelSplitter_ContentQueries"),inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useValue:null}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioChannelSplitter.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["numberOfOutputs"]}]},{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]}],WebAudioChannelSplitter.propDecorators={channels:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ContentChildren,args:[AUDIO_NODE,{descendants:!1}]}]};class AudioBufferService{constructor(context){this.context=context,this.cache=new Map}fetch(url){return new Promise((resolve,reject)=>{if(this.cache.has(url))return void resolve(this.cache.get(url));const request=new XMLHttpRequest;request.open("GET",url,!0),request.responseType="arraybuffer",request.onerror=reject,request.onabort=reject,request.onload=()=>{this.context.decodeAudioData(request.response,buffer=>{this.cache.set(url,buffer),resolve(buffer)},reject)},request.send()})}}__name(AudioBufferService,"AudioBufferService"),AudioBufferService.\u0275fac=__name(function(t){return new(t||AudioBufferService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275inject(AUDIO_CONTEXT))},"AudioBufferService_Factory"),AudioBufferService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineInjectable({token:AudioBufferService,factory:AudioBufferService.\u0275fac,providedIn:"root"}),AudioBufferService.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]}],AudioBufferService.ngInjectableDef=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.defineInjectable)({factory:__name(function(){return new AudioBufferService((0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(AUDIO_CONTEXT))},"AudioBufferService_Factory"),token:AudioBufferService,providedIn:"root"});class WebAudioConvolver extends ConvolverNode{constructor(audioBufferService,context,node,modern){if(!modern){const result=context.createConvolver();return Object.setPrototypeOf(result,WebAudioConvolver.prototype),WebAudioConvolver.init(result,node,audioBufferService),result}super(context),WebAudioConvolver.init(this,node,audioBufferService)}set bufferSetter(source){this.buffer$.next(source)}ngOnDestroy(){this.buffer$.complete(),this.disconnect()}static init(that,node,audioBufferService){connect(node,that),that.buffer$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.Subject,that.buffer$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.wt)(source=>"string"==typeof source?audioBufferService.fetch(source):(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.of)(source))).subscribe(buffer=>{that.buffer=buffer})}}__name(WebAudioConvolver,"WebAudioConvolver"),WebAudioConvolver.\u0275fac=__name(function(t){return new(t||WebAudioConvolver)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AudioBufferService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT))},"WebAudioConvolver_Factory"),WebAudioConvolver.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioConvolver,selectors:[["","waConvolverNode",""]],inputs:{normalize:"normalize",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",bufferSetter:["buffer","bufferSetter"]},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioConvolver)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioConvolver.ctorParameters=()=>[{type:AudioBufferService,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AudioBufferService]}]},{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]}],WebAudioConvolver.propDecorators={bufferSetter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["buffer"]}]};class WebAudioDelay extends DelayNode{constructor(context,node,modern,delayTimeArg,maxDelayTimeArg){const delayTime=parse(delayTimeArg,0),maxDelayTime=parse(maxDelayTimeArg,1);if(!modern){const result=context.createDelay(maxDelayTime);return Object.setPrototypeOf(result,WebAudioDelay.prototype),connect(node,result),result.delayTime.value=delayTime,result}super(context,{delayTime,maxDelayTime}),connect(node,this)}ngOnDestroy(){this.disconnect()}static init(that,node){connect(node,that)}}__name(WebAudioDelay,"WebAudioDelay"),WebAudioDelay.\u0275fac=__name(function(t){return new(t||WebAudioDelay)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("delayTime"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("maxDelayTime"))},"WebAudioDelay_Factory"),WebAudioDelay.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioDelay,selectors:[["","waDelayNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",delayTimeParam:["delayTime","delayTimeParam"]},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioDelay)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioDelay.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["delayTime"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["maxDelayTime"]}]}],WebAudioDelay.propDecorators={delayTimeParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["delayTime"]}]},(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("delayTime"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioDelay.prototype,"delayTimeParam",void 0);class WebAudioDynamicsCompressor extends DynamicsCompressorNode{constructor(context,node,modern,attackArg,kneeArg,ratioArg,releaseArg,thresholdArg){const attack=parse(attackArg,.003),knee=parse(kneeArg,30),ratio=parse(ratioArg,12),release=parse(releaseArg,.25),threshold=parse(thresholdArg,-24);if(!modern){const result=context.createDynamicsCompressor();return Object.setPrototypeOf(result,WebAudioDynamicsCompressor.prototype),connect(node,result),result.attack.value=attack,result.knee.value=knee,result.ratio.value=ratio,result.release.value=release,result.threshold.value=threshold,result}super(context,{attack,knee,ratio,release,threshold}),connect(node,this)}ngOnDestroy(){this.disconnect()}}__name(WebAudioDynamicsCompressor,"WebAudioDynamicsCompressor"),WebAudioDynamicsCompressor.\u0275fac=__name(function(t){return new(t||WebAudioDynamicsCompressor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("attack"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("knee"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("ratio"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("release"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("threshold"))},"WebAudioDynamicsCompressor_Factory"),WebAudioDynamicsCompressor.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioDynamicsCompressor,selectors:[["","waDynamicsCompressorNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",attackParam:["attack","attackParam"],kneeParam:["knee","kneeParam"],ratioParam:["ratio","ratioParam"],releaseParam:["release","releaseParam"],thresholdParam:["threshold","thresholdParam"]},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioDynamicsCompressor)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioDynamicsCompressor.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["attack"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["knee"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["ratio"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["release"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["threshold"]}]}],WebAudioDynamicsCompressor.propDecorators={attackParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["attack"]}],kneeParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["knee"]}],ratioParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["ratio"]}],releaseParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["release"]}],thresholdParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["threshold"]}]},(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("attack"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioDynamicsCompressor.prototype,"attackParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("knee"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioDynamicsCompressor.prototype,"kneeParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("ratio"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioDynamicsCompressor.prototype,"ratioParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("release"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioDynamicsCompressor.prototype,"releaseParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("threshold"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioDynamicsCompressor.prototype,"thresholdParam",void 0);class WebAudioGain extends GainNode{constructor(context,node,modern,gainArg){const gain=parse(gainArg,1);if(!modern){const result=context.createGain();return Object.setPrototypeOf(result,WebAudioGain.prototype),connect(node,result),result.gain.value=gain,result}super(context,{gain}),connect(node,this)}ngOnDestroy(){this.disconnect()}}__name(WebAudioGain,"WebAudioGain"),WebAudioGain.\u0275fac=__name(function(t){return new(t||WebAudioGain)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("gain"))},"WebAudioGain_Factory"),WebAudioGain.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioGain,selectors:[["","waGainNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",gainParam:["gain","gainParam"]},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioGain)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioGain.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["gain"]}]}],WebAudioGain.propDecorators={gainParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["gain"]}]},(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("gain"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioGain.prototype,"gainParam",void 0);const FEEDBACK_COEFFICIENTS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("A sequence of feedback coefficients for IIRFilterNode"),FEEDFORWARD_COEFFICIENTS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("A sequence of feedforward coefficients for IIRFilterNode");class WebAudioIIRFilter extends IIRFilterNode{constructor(feedback,feedforward,context,modern,node){if(!modern){const result=context.createIIRFilter(feedback,feedforward);return Object.setPrototypeOf(result,WebAudioIIRFilter.prototype),connect(node,result),result}super(context,{feedback,feedforward}),connect(node,this)}ngOnDestroy(){this.disconnect()}}__name(WebAudioIIRFilter,"WebAudioIIRFilter"),WebAudioIIRFilter.\u0275fac=__name(function(t){return new(t||WebAudioIIRFilter)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(FEEDBACK_COEFFICIENTS),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(FEEDFORWARD_COEFFICIENTS),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE,4))},"WebAudioIIRFilter_Factory"),WebAudioIIRFilter.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioIIRFilter,selectors:[["","waIIRFilterNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioIIRFilter)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioIIRFilter.ctorParameters=()=>[{type:Array,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[FEEDBACK_COEFFICIENTS]}]},{type:Array,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[FEEDFORWARD_COEFFICIENTS]}]},{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]}];class WebAudioPanner extends PannerNode{constructor(context,node,modern){if(!modern){const result=context.createPanner();return Object.setPrototypeOf(result,WebAudioPanner.prototype),connect(node,result),result}super(context),connect(node,this)}ngOnChanges(){this.positionX instanceof AudioParam||(this.setOrientation(fallbackAudioParam(this.orientationXParam),fallbackAudioParam(this.orientationYParam),fallbackAudioParam(this.orientationZParam)),this.setPosition(fallbackAudioParam(this.positionXParam),fallbackAudioParam(this.positionYParam),fallbackAudioParam(this.positionZParam)))}ngOnDestroy(){this.disconnect()}}__name(WebAudioPanner,"WebAudioPanner"),WebAudioPanner.\u0275fac=__name(function(t){return new(t||WebAudioPanner)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT))},"WebAudioPanner_Factory"),WebAudioPanner.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioPanner,selectors:[["","waPannerNode",""]],inputs:{coneInnerAngle:"coneInnerAngle",coneOuterAngle:"coneOuterAngle",coneOuterGain:"coneOuterGain",distanceModel:"distanceModel",maxDistance:"maxDistance",panningModel:"panningModel",refDistance:"refDistance",rolloffFactor:"rolloffFactor",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",orientationXParam:"orientationXParam",orientationYParam:"orientationYParam",orientationZParam:"orientationZParam",positionXParam:"positionXParam",positionYParam:"positionYParam",positionZParam:"positionZParam"},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioPanner)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature,_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275NgOnChangesFeature]}),WebAudioPanner.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]}],WebAudioPanner.propDecorators={orientationXParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],orientationYParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],orientationZParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],positionXParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],positionYParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],positionZParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}]},(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("orientationX"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioPanner.prototype,"orientationXParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("orientationY"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioPanner.prototype,"orientationYParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("orientationZ"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioPanner.prototype,"orientationZParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("positionX"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioPanner.prototype,"positionXParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("positionY"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioPanner.prototype,"positionYParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("positionZ"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioPanner.prototype,"positionZParam",void 0);class WebAudioScriptProcessor extends ScriptProcessorNode{constructor(bufferSize,numberOfInputChannels,numberOfOutputChannels,context,node){try{const result=context.createScriptProcessor(parseInt(bufferSize||"",10)||0,parseInt(numberOfInputChannels||"",10)||2,parseInt(numberOfOutputChannels||"",10)||2);Object.setPrototypeOf(result,WebAudioScriptProcessor.prototype),connect(node,result);const audioprocess=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter;return result.audioprocess=audioprocess,result.onaudioprocess=e=>audioprocess.emit(e),result}catch(_){}super()}ngOnDestroy(){this.disconnect()}}__name(WebAudioScriptProcessor,"WebAudioScriptProcessor"),WebAudioScriptProcessor.\u0275fac=__name(function(t){return new(t||WebAudioScriptProcessor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("bufferSize"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("numberOfInputChannels"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("numberOfOutputChannels"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE,4))},"WebAudioScriptProcessor_Factory"),WebAudioScriptProcessor.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioScriptProcessor,selectors:[["","waScriptProcessorNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},outputs:{audioprocess:"audioprocess"},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioScriptProcessor)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioScriptProcessor.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["bufferSize"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["numberOfInputChannels"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["numberOfOutputChannels"]}]},{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]}],WebAudioScriptProcessor.propDecorators={audioprocess:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}]};class WebAudioStereoPanner extends StereoPannerNode{constructor(context,node,panArg){const pan=parse(panArg,0);try{new StereoPannerNode(context)}catch(_){const result=context.createPanner();return Object.setPrototypeOf(result,WebAudioStereoPanner.prototype),result.fallbackToPannerNode(fallbackAudioParam(pan)),connect(node,result),result}super(context,{pan}),connect(node,this)}set panParam(pan){"setPosition"in this?this.fallbackToPannerNode(fallbackAudioParam(pan)):processAudioParam(this.pan,pan,this.context.currentTime)}ngOnDestroy(){this.disconnect()}fallbackToPannerNode(pan){const xDeg=100*pan,zDeg=xDeg>0?270-xDeg:xDeg+90,x=Math.sin(xDeg*(Math.PI/180)),z=Math.sin(zDeg*(Math.PI/180));this.setPosition(x,0,z)}}__name(WebAudioStereoPanner,"WebAudioStereoPanner"),WebAudioStereoPanner.\u0275fac=__name(function(t){return new(t||WebAudioStereoPanner)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("pan"))},"WebAudioStereoPanner_Factory"),WebAudioStereoPanner.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioStereoPanner,selectors:[["","waStereoPannerNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",panParam:["pan","panParam"]},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioStereoPanner)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioStereoPanner.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["pan"]}]}],WebAudioStereoPanner.propDecorators={panParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["pan"]}]};class WebAudioWaveShaper extends WaveShaperNode{constructor(context,node,modern){if(!modern){const result=context.createWaveShaper();return Object.setPrototypeOf(result,WebAudioWaveShaper.prototype),connect(node,result),result}super(context),connect(node,this)}ngOnDestroy(){this.disconnect()}}__name(WebAudioWaveShaper,"WebAudioWaveShaper"),WebAudioWaveShaper.\u0275fac=__name(function(t){return new(t||WebAudioWaveShaper)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT))},"WebAudioWaveShaper_Factory"),WebAudioWaveShaper.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioWaveShaper,selectors:[["","waWaveShaperNode",""]],inputs:{oversample:"oversample",curve:"curve",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioWaveShaper)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioWaveShaper.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]}];class WebAudioWorklet extends AudioWorkletNode{constructor(context,node,name){super(context,name),this.processorerror=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onprocessorerror=()=>this.processorerror.emit(),connect(node,this)}ngOnDestroy(){this.disconnect()}}__name(WebAudioWorklet,"WebAudioWorklet"),WebAudioWorklet.\u0275fac=__name(function(t){return new(t||WebAudioWorklet)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_NODE,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("name"))},"WebAudioWorklet_Factory"),WebAudioWorklet.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioWorklet,selectors:[["","waAudioWorkletNode","","name",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation"},outputs:{processorerror:"processorerror"},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioWorklet)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioWorklet.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.SkipSelf},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_NODE]}]},{type:String,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["name"]}]}],WebAudioWorklet.propDecorators={processorerror:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}]};class WebAudioParamPipe{transform(value,duration,mode="exponential"){return value instanceof Array?{value,duration}:{value,duration,mode}}}__name(WebAudioParamPipe,"WebAudioParamPipe"),WebAudioParamPipe.\u0275fac=__name(function(t){return new(t||WebAudioParamPipe)},"WebAudioParamPipe_Factory"),WebAudioParamPipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275definePipe({name:"waAudioParam",type:WebAudioParamPipe,pure:!0});class WebAudioPeriodicWavePipe{constructor(context){this.context=context}transform(real,imag,disableNormalization){return this.context.createPeriodicWave(new Float32Array(real),imag?new Float32Array(imag):new Float32Array(real.length),{disableNormalization:!!disableNormalization})}}__name(WebAudioPeriodicWavePipe,"WebAudioPeriodicWavePipe"),WebAudioPeriodicWavePipe.\u0275fac=__name(function(t){return new(t||WebAudioPeriodicWavePipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT,16))},"WebAudioPeriodicWavePipe_Factory"),WebAudioPeriodicWavePipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275definePipe({name:"waPeriodicWave",type:WebAudioPeriodicWavePipe,pure:!0}),WebAudioPeriodicWavePipe.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]}];class WebAudioBufferSource extends AudioBufferSourceNode{constructor(audioBufferService,context,modern,autoplay,detuneArg,playbackRateArg){const detune=parse(detuneArg,0),playbackRate=parse(playbackRateArg,1);if(!modern){const result=context.createBufferSource();return Object.setPrototypeOf(WebAudioBufferSource.prototype,Object.getPrototypeOf(result)),Object.setPrototypeOf(result,WebAudioBufferSource.prototype),result.playbackRate.value=playbackRate,WebAudioBufferSource.init(result,null,autoplay,audioBufferService),result}super(context,{detune,playbackRate}),WebAudioBufferSource.init(this,null,autoplay,audioBufferService)}set bufferSetter(source){this.buffer$.next(source)}ngOnDestroy(){this.buffer$.complete();try{this.stop()}catch(_){}this.disconnect()}static init(that,_node,autoplay,audioBufferService){null!==autoplay&&that.start();const ended=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter;that.ended=ended,that.onended=()=>ended.emit(),that.buffer$=new rxjs__WEBPACK_IMPORTED_MODULE_1__.Subject,that.buffer$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.wt)(source=>"string"==typeof source?audioBufferService.fetch(source):(0,rxjs__WEBPACK_IMPORTED_MODULE_1__.of)(source))).subscribe(buffer=>{that.buffer=buffer})}}__name(WebAudioBufferSource,"WebAudioBufferSource"),WebAudioBufferSource.\u0275fac=__name(function(t){return new(t||WebAudioBufferSource)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AudioBufferService),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("autoplay"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("detune"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("playbackRate"))},"WebAudioBufferSource_Factory"),WebAudioBufferSource.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioBufferSource,selectors:[["","waAudioBufferSourceNode",""]],inputs:{loop:"loop",loopStart:"loopStart",loopEnd:"loopEnd",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",bufferSetter:["buffer","bufferSetter"],detuneParam:["detune","detuneParam"],playbackRateParam:["playbackRate","playbackRateParam"]},outputs:{ended:"ended"},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioBufferSource)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioBufferSource.ctorParameters=()=>[{type:AudioBufferService,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AudioBufferService]}]},{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["autoplay"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["detune"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["playbackRate"]}]}],WebAudioBufferSource.propDecorators={bufferSetter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["buffer"]}],detuneParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["detune"]}],playbackRateParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["playbackRate"]}],ended:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}]},(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("detune"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioBufferSource.prototype,"detuneParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("playbackRate"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioBufferSource.prototype,"playbackRateParam",void 0);class WebAudioConstantSource extends ConstantSourceNode{constructor(context,autoplay,offset){super(context,{offset:parse(offset,0)}),this.ended=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter,this.onended=()=>this.ended.emit(),null!==autoplay&&this.start()}ngOnDestroy(){try{this.stop()}catch(_){}this.disconnect()}}__name(WebAudioConstantSource,"WebAudioConstantSource"),WebAudioConstantSource.\u0275fac=__name(function(t){return new(t||WebAudioConstantSource)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("autoplay"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("offset"))},"WebAudioConstantSource_Factory"),WebAudioConstantSource.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioConstantSource,selectors:[["","waConstantSourceNode",""]],inputs:{channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",offsetParam:["offset","offsetParam"]},outputs:{ended:"ended"},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioConstantSource)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioConstantSource.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["autoplay"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["offset"]}]}],WebAudioConstantSource.propDecorators={offsetParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["offset"]}],ended:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}]},(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("offset"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioConstantSource.prototype,"offsetParam",void 0);class WebAudioMediaSource extends MediaElementAudioSourceNode{constructor(context,modern,{nativeElement}){if(!modern){const result=context.createMediaElementSource(nativeElement);return Object.setPrototypeOf(result,WebAudioMediaSource.prototype),result}super(context,{mediaElement:nativeElement})}ngOnDestroy(){this.disconnect()}}__name(WebAudioMediaSource,"WebAudioMediaSource"),WebAudioMediaSource.\u0275fac=__name(function(t){return new(t||WebAudioMediaSource)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef))},"WebAudioMediaSource_Factory"),WebAudioMediaSource.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioMediaSource,selectors:[["audio","waMediaElementAudioSourceNode",""],["video","waMediaElementAudioSourceNode",""]],exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioMediaSource)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioMediaSource.ctorParameters=()=>[{type:AudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef]}]}];const MEDIA_STREAM=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("MediaStream for MediaStreamAudioSourceNode");class WebAudioMediaStreamSource extends MediaStreamAudioSourceNode{constructor(mediaStream,context,modern){if(!modern){const result=context.createMediaStreamSource(mediaStream);return Object.setPrototypeOf(result,WebAudioMediaStreamSource.prototype),result}super(context,{mediaStream})}ngOnDestroy(){this.disconnect()}}__name(WebAudioMediaStreamSource,"WebAudioMediaStreamSource"),WebAudioMediaStreamSource.\u0275fac=__name(function(t){return new(t||WebAudioMediaStreamSource)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(MEDIA_STREAM),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT))},"WebAudioMediaStreamSource_Factory"),WebAudioMediaStreamSource.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioMediaStreamSource,selectors:[["","waMediaStreamAudioSourceNode",""]],exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioMediaStreamSource)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioMediaStreamSource.ctorParameters=()=>[{type:MediaStream,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[MEDIA_STREAM]}]},{type:AudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]}];const MEDIA_STREAM_TRACK=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("MediaStreamTrack for MediaStreamTrackAudioSourceNode");class WebAudioMediaStreamTrackSource extends MediaStreamTrackAudioSourceNode{constructor(mediaStreamTrack,context){super(context,{mediaStreamTrack})}ngOnDestroy(){this.disconnect()}}__name(WebAudioMediaStreamTrackSource,"WebAudioMediaStreamTrackSource"),WebAudioMediaStreamTrackSource.\u0275fac=__name(function(t){return new(t||WebAudioMediaStreamTrackSource)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(MEDIA_STREAM_TRACK),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT))},"WebAudioMediaStreamTrackSource_Factory"),WebAudioMediaStreamTrackSource.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioMediaStreamTrackSource,selectors:[["","waMediaStreamTrackAudioSourceNode",""]],exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioMediaStreamTrackSource)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioMediaStreamTrackSource.ctorParameters=()=>[{type:MediaStreamTrack,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[MEDIA_STREAM_TRACK]}]},{type:AudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]}];class WebAudioOscillator extends OscillatorNode{constructor(context,modern,autoplay,detuneArg,frequencyArg){const detune=parse(detuneArg,0),frequency=parse(frequencyArg,440);if(!modern){const result=context.createOscillator();return Object.setPrototypeOf(WebAudioOscillator.prototype,Object.getPrototypeOf(result)),Object.setPrototypeOf(result,WebAudioOscillator.prototype),result.detune.value=detune,result.frequency.value=frequency,WebAudioOscillator.init(result,null,autoplay),result}super(context,{detune,frequency}),WebAudioOscillator.init(this,null,autoplay)}set periodicWave(periodicWave){this.setPeriodicWave(periodicWave)}ngOnDestroy(){try{this.stop()}catch(_){}this.disconnect()}static init(that,node,autoplay){connect(node,that),null!==autoplay&&that.start();const ended=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter;that.ended=ended,that.onended=()=>ended.emit()}}__name(WebAudioOscillator,"WebAudioOscillator"),WebAudioOscillator.\u0275fac=__name(function(t){return new(t||WebAudioOscillator)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(AUDIO_CONTEXT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275directiveInject(CONSTRUCTOR_SUPPORT),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("autoplay"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("detune"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275injectAttribute("frequency"))},"WebAudioOscillator_Factory"),WebAudioOscillator.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineDirective({type:WebAudioOscillator,selectors:[["","waOscillatorNode",""]],inputs:{type:"type",channelCount:"channelCount",channelCountMode:"channelCountMode",channelInterpretation:"channelInterpretation",periodicWave:"periodicWave",detuneParam:["detune","detuneParam"],frequencyParam:["frequency","frequencyParam"]},outputs:{ended:"ended"},exportAs:["AudioNode"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275ProvidersFeature([{provide:AUDIO_NODE,useExisting:(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(()=>WebAudioOscillator)}]),_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275InheritDefinitionFeature]}),WebAudioOscillator.ctorParameters=()=>[{type:BaseAudioContext,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[AUDIO_CONTEXT]}]},{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Inject,args:[CONSTRUCTOR_SUPPORT]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["autoplay"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["detune"]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Attribute,args:["frequency"]}]}],WebAudioOscillator.propDecorators={periodicWave:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input}],detuneParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["detune"]}],frequencyParam:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Input,args:["frequency"]}],ended:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_0__.Output}]},(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("detune"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioOscillator.prototype,"detuneParam",void 0),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([audioParam("frequency"),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.w6)("design:type",Object)],WebAudioOscillator.prototype,"frequencyParam",void 0);const AUDIO_WORKLET_PROCESSORS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("Web Audio API worklet processors paths",{providedIn:"root",factory:()=>[]}),AUDIO_WORKLET_SUPPORT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("AudioWorklet browser support",{factory:()=>!!(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(AUDIO_CONTEXT).audioWorklet}),WEB_AUDIO_SUPPORT=(new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("Web Audio API worklet processors resolution promise",{providedIn:"root",factory:()=>{const context=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(AUDIO_CONTEXT),processors=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(AUDIO_WORKLET_PROCESSORS);return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(AUDIO_WORKLET_SUPPORT)?Promise.all(processors.map(processor=>context.audioWorklet.addModule(processor))).then(()=>!0):Promise.reject("AudioWorklet is not supported").catch(()=>!1)}}),new _angular_core__WEBPACK_IMPORTED_MODULE_0__.InjectionToken("Web Audio API support",{providedIn:"root",factory:()=>!!AudioContext}));class WebAudioModule{}__name(WebAudioModule,"WebAudioModule"),WebAudioModule.\u0275fac=__name(function(t){return new(t||WebAudioModule)},"WebAudioModule_Factory"),WebAudioModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineNgModule({type:WebAudioModule}),WebAudioModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.\u0275\u0275defineInjector({})},13344:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{RN:()=>GEOLOCATION_SUPPORT});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74788),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(72921),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(57192),_ng_web_apis_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52608);const GEOLOCATION=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("An abstraction over window.navigator.geolocation object",{factory:()=>(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_ng_web_apis_common__WEBPACK_IMPORTED_MODULE_0__.s5).geolocation}),POSITION_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("Token for an additional position options",{factory:()=>({})}),GEOLOCATION_SUPPORT=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("Is Geolocation API supported?",{factory:()=>!!(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(GEOLOCATION)});class GeolocationService extends rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable{constructor(geolocationRef,geolocationSupported,positionOptions){let watchPositionId=0;return super(subscriber=>{geolocationSupported||subscriber.error("Geolocation is not supported in your browser"),watchPositionId=geolocationRef.watchPosition(position=>subscriber.next(position),positionError=>subscriber.error(positionError),positionOptions)}),this.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.xS)(()=>geolocationRef.clearWatch(watchPositionId)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.d)({bufferSize:1,refCount:!0}))}}__name(GeolocationService,"GeolocationService"),GeolocationService.\u0275fac=__name(function(t){return new(t||GeolocationService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(GEOLOCATION),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(GEOLOCATION_SUPPORT),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(POSITION_OPTIONS))},"GeolocationService_Factory"),GeolocationService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineInjectable({token:GeolocationService,factory:GeolocationService.\u0275fac,providedIn:"root"})},11693:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{tc:()=>INTERSECTION_OBSERVER_SUPPORT});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74788),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(72921),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(57192),_ng_web_apis_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52608);const INTERSECTION_ROOT=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("Root element for IntersectionObserver"),INTERSECTION_ROOT_MARGIN=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("rootMargin for IntersectionObserver",{providedIn:"root",factory:()=>"0px 0px 0px 0px"});function rootMarginFactory(rootMargin){return rootMargin||"0px 0px 0px 0px"}__name(rootMarginFactory,"rootMarginFactory");const INTERSECTION_THRESHOLD=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("threshold for IntersectionObserver",{providedIn:"root",factory:()=>0});function thresholdFactory(threshold){return(null==threshold?void 0:threshold.split(",").map(parseFloat))||0}__name(thresholdFactory,"thresholdFactory");class IntersectionObserverDirective extends IntersectionObserver{constructor(root,rootMargin,threshold){super(entries=>{this.callbacks.forEach((callback,element)=>{const filtered=entries.filter(({target})=>target===element);return filtered.length&&callback(filtered,this)})},{root:root&&root.nativeElement,rootMargin:rootMarginFactory(rootMargin),threshold:thresholdFactory(threshold)}),this.callbacks=new Map}observe(target,callback=(()=>{})){super.observe(target),this.callbacks.set(target,callback)}unobserve(target){super.unobserve(target),this.callbacks.delete(target)}ngOnDestroy(){this.disconnect()}}__name(IntersectionObserverDirective,"IntersectionObserverDirective"),IntersectionObserverDirective.\u0275fac=__name(function(t){return new(t||IntersectionObserverDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275directiveInject(INTERSECTION_ROOT,8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275injectAttribute("waIntersectionRootMargin"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275injectAttribute("waIntersectionThreshold"))},"IntersectionObserverDirective_Factory"),IntersectionObserverDirective.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineDirective({type:IntersectionObserverDirective,selectors:[["","waIntersectionObserver",""]],exportAs:["IntersectionObserver"],features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275InheritDefinitionFeature]});class IntersectionObserveeService extends rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable{constructor({nativeElement},observer){return super(subscriber=>(observer.observe(nativeElement,entries=>{subscriber.next(entries)}),()=>{observer.unobserve(nativeElement)})),this.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.BN)())}}__name(IntersectionObserveeService,"IntersectionObserveeService"),IntersectionObserveeService.\u0275fac=__name(function(t){return new(t||IntersectionObserveeService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(IntersectionObserverDirective))},"IntersectionObserveeService_Factory"),IntersectionObserveeService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineInjectable({token:IntersectionObserveeService,factory:IntersectionObserveeService.\u0275fac});class IntersectionObserveeDirective{constructor(waIntersectionObservee){this.waIntersectionObservee=waIntersectionObservee}}__name(IntersectionObserveeDirective,"IntersectionObserveeDirective"),IntersectionObserveeDirective.\u0275fac=__name(function(t){return new(t||IntersectionObserveeDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275directiveInject(IntersectionObserveeService))},"IntersectionObserveeDirective_Factory"),IntersectionObserveeDirective.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineDirective({type:IntersectionObserveeDirective,selectors:[["","waIntersectionObservee",""]],outputs:{waIntersectionObservee:"waIntersectionObservee"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275ProvidersFeature([IntersectionObserveeService])]});class IntersectionRootDirective{}__name(IntersectionRootDirective,"IntersectionRootDirective"),IntersectionRootDirective.\u0275fac=__name(function(t){return new(t||IntersectionRootDirective)},"IntersectionRootDirective_Factory"),IntersectionRootDirective.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineDirective({type:IntersectionRootDirective,selectors:[["","waIntersectionRoot",""]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275ProvidersFeature([{provide:INTERSECTION_ROOT,useExisting:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef}])]});class IntersectionObserverModule{}__name(IntersectionObserverModule,"IntersectionObserverModule"),IntersectionObserverModule.\u0275fac=__name(function(t){return new(t||IntersectionObserverModule)},"IntersectionObserverModule_Factory"),IntersectionObserverModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineNgModule({type:IntersectionObserverModule}),IntersectionObserverModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineInjector({});const INTERSECTION_OBSERVER_SUPPORT=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("Intersection Observer API support",{providedIn:"root",factory:()=>!!(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_ng_web_apis_common__WEBPACK_IMPORTED_MODULE_0__.m9).IntersectionObserver});class IntersectionObserverService extends rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable{constructor({nativeElement},support,rootMargin,threshold,root){return super(subscriber=>{if(!support)return void subscriber.error("IntersectionObserver is not supported in your browser");const observer=new IntersectionObserver(entries=>{subscriber.next(entries)},{root:root&&root.nativeElement,rootMargin,threshold});return observer.observe(nativeElement),()=>{observer.disconnect()}}),this.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.BN)())}}__name(IntersectionObserverService,"IntersectionObserverService"),IntersectionObserverService.\u0275fac=__name(function(t){return new(t||IntersectionObserverService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(INTERSECTION_OBSERVER_SUPPORT),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(INTERSECTION_ROOT_MARGIN),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(INTERSECTION_THRESHOLD),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(INTERSECTION_ROOT,8))},"IntersectionObserverService_Factory"),IntersectionObserverService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineInjectable({token:IntersectionObserverService,factory:IntersectionObserverService.\u0275fac})},75723:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{wF:()=>MIDI_SUPPORT});var rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(72921),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(57192),_ng_web_apis_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52608),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74788);function between(value,min,max){return value>=min&&value<=max}function toFrequency(note,tuning=440){return Math.pow(2,(note-69)/12)*tuning}__name(between,"between"),__name(function(){return source=>source.pipe(filter(({data})=>between(data[0],208,223)))},"aftertouch"),__name(function(channel){return source=>source.pipe(filter(({data})=>data[0]%16===channel))},"filterByChannel"),__name(function(id){return source=>source.pipe(filter(({target})=>target.id===id))},"filterById"),__name(function(name){return source=>source.pipe(filter(({target})=>target.name===name))},"filterByName"),__name(function(){return source=>source.pipe(filter(({data})=>between(data[0],176,191)&&7===data[1]))},"mainVolume"),__name(function(){return source=>source.pipe(filter(({data})=>between(data[0],176,191)&&1===data[1]))},"modulationWheel"),__name(function(){return source=>source.pipe(filter(({data})=>between(data[0],128,159)),map(event=>(between(event.data[0],128,143)&&(event.data[0]+=16,event.data[2]=0),event)))},"notes"),__name(function(){return source=>source.pipe(filter(({data})=>between(data[0],176,191)&&10===data[1]))},"pan"),__name(function(){return source=>source.pipe(filter(({data})=>between(data[0],224,239)))},"pitchBend"),__name(function(){return source=>source.pipe(filter(({data})=>between(data[0],160,175)))},"polyphonicAftertouch"),__name(function(){return source=>source.pipe(filter(({data})=>between(data[0],208,223)))},"programChange"),__name(function(){return source=>source.pipe(filter(({data})=>between(data[0],176,191)&&64===data[1]))},"sustainPedal"),__name(function(){return source=>source.pipe(map(({data})=>data))},"toData"),__name(function(){return source=>source.pipe(map(({data})=>data[1]))},"toDataByte"),__name(function(){return source=>source.pipe(map(({data})=>data[0]))},"toStatusByte"),__name(function(){return source=>source.pipe(map(({timeStamp})=>timeStamp))},"toTimeStamp"),__name(function(){return source=>source.pipe(map(({data})=>data[2]))},"toValueByte"),__name(toFrequency,"toFrequency");class FrequencyPipe{transform(note,tuning){return toFrequency(note,tuning)}}__name(FrequencyPipe,"FrequencyPipe"),FrequencyPipe.\u0275fac=__name(function(t){return new(t||FrequencyPipe)},"FrequencyPipe_Factory"),FrequencyPipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275definePipe({name:"frequency",type:FrequencyPipe,pure:!0});class FrequencyPipeModule{}__name(FrequencyPipeModule,"FrequencyPipeModule"),FrequencyPipeModule.\u0275fac=__name(function(t){return new(t||FrequencyPipeModule)},"FrequencyPipeModule_Factory"),FrequencyPipeModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineNgModule({type:FrequencyPipeModule}),FrequencyPipeModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineInjector({});const SYSEX=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("Require sysex MIDI access",{providedIn:"root",factory:()=>!1}),MIDI_ACCESS=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("Promise for MIDIAccess object",{providedIn:"root",factory:()=>{const navigatorRef=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_ng_web_apis_common__WEBPACK_IMPORTED_MODULE_0__.s5),sysex=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(SYSEX);return navigatorRef.requestMIDIAccess?navigatorRef.requestMIDIAccess({sysex}):Promise.reject(new Error("Web MIDI API is not supported"))}}),MIDI_INPUT=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("MIDIInput object");function getPortsStream(ports){return(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.from)((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(MIDI_ACCESS).catch(()=>null)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.wt)(access=>access?(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.fromEvent)(access,"statechange").pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.UI)(()=>[...access[ports].values()]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.O4)([...access[ports].values()])):(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)([])),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.d)(1))}__name(getPortsStream,"getPortsStream");new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("Array of MIDI inputs",{factory:()=>getPortsStream("inputs")}),new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("All incoming MIDI messages stream",{providedIn:"root",factory:()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.from)((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(MIDI_ACCESS).catch(e=>e)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.wt)(access=>access instanceof Error?(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.throwError)(access):(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.fromEvent)(access,"statechange").pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.O4)(null),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.wt)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.merge)(...Array.from(access.inputs).map(([_,input])=>(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.fromEvent)(input,"midimessage")))))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.BN)())});const MIDI_OUTPUT=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("MIDIOutput object"),MIDI_SUPPORT=(new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("Array of MIDI inputs",{factory:()=>getPortsStream("outputs")}),new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("Web MIDI API support",{factory:()=>!!(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_ng_web_apis_common__WEBPACK_IMPORTED_MODULE_0__.s5).requestMIDIAccess})),MIDI_INPUT_QUERY=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("MIDIInput object id or name");function inputByIdFactory(midiAccess,id){return midiAccess.then(access=>access.inputs.get(id))}function inputByNameFactory(midiAccess,name){return midiAccess.then(access=>[...access.inputs.values()].find(input=>input.name===name))}__name(function(id){return[{provide:MIDI_INPUT_QUERY,useValue:id},{provide:MIDI_INPUT,deps:[MIDI_ACCESS,MIDI_INPUT_QUERY],useFactory:inputByIdFactory}]},"inputById"),__name(inputByIdFactory,"inputByIdFactory"),__name(function(name){return[{provide:MIDI_INPUT_QUERY,useValue:name},{provide:MIDI_INPUT,deps:[MIDI_ACCESS,MIDI_INPUT_QUERY],useFactory:inputByNameFactory}]},"inputByName"),__name(inputByNameFactory,"inputByNameFactory");const MIDI_OUTPUT_QUERY=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("MIDIOutput object id or name");function outputByIdFactory(midiAccess,id){return midiAccess.then(access=>access.outputs.get(id))}function outputByNameFactory(midiAccess,name){return midiAccess.then(access=>[...access.outputs.values()].find(output=>output.name===name))}__name(function(id){return[{provide:MIDI_OUTPUT_QUERY,useValue:id},{provide:MIDI_OUTPUT,deps:[MIDI_ACCESS,MIDI_OUTPUT_QUERY],useFactory:outputByIdFactory}]},"outputById"),__name(outputByIdFactory,"outputByIdFactory"),__name(function(name){return[{provide:MIDI_OUTPUT_QUERY,useValue:name},{provide:MIDI_OUTPUT,deps:[MIDI_ACCESS,MIDI_OUTPUT_QUERY],useFactory:outputByNameFactory}]},"outputByName"),__name(outputByNameFactory,"outputByNameFactory");const COEFFICIENT=Math.pow(2,1/12);__name(function(frequency,tuning=440){return Math.round(Math.log(frequency/tuning)/Math.log(COEFFICIENT))+69},"toNote")},40165:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{aB:()=>PAYMENT_REQUEST_SUPPORT});var rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(72921),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(57192),_ng_web_apis_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52608),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74788);class PaymentItemDirective{}__name(PaymentItemDirective,"PaymentItemDirective"),PaymentItemDirective.\u0275fac=__name(function(t){return new(t||PaymentItemDirective)},"PaymentItemDirective_Factory"),PaymentItemDirective.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineDirective({type:PaymentItemDirective,selectors:[["","waPaymentItem","","paymentAmount","","paymentLabel",""]],inputs:{amount:["paymentAmount","amount"],label:["paymentLabel","label"],pending:["paymentPending","pending"]}}),PaymentItemDirective.propDecorators={amount:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:["paymentAmount"]}],label:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:["paymentLabel"]}],pending:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:["paymentPending"]}]};class PaymentDirective{set paymentItems(items){this.displayItems=items.toArray()}}__name(PaymentDirective,"PaymentDirective"),PaymentDirective.\u0275fac=__name(function(t){return new(t||PaymentDirective)},"PaymentDirective_Factory"),PaymentDirective.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineDirective({type:PaymentDirective,selectors:[["","waPayment","","paymentTotal",""]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275contentQuery(dirIndex,PaymentItemDirective,4),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275queryRefresh(_t=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275loadQuery())&&(ctx.paymentItems=_t)}},"PaymentDirective_ContentQueries"),inputs:{total:["paymentTotal","total"],id:["paymentId","id"],modifiers:["paymentModifiers","modifiers"],shippingOptions:["paymentShippingOptions","shippingOptions"]}}),PaymentDirective.propDecorators={total:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:["paymentTotal"]}],id:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:["paymentId"]}],modifiers:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:["paymentModifiers"]}],shippingOptions:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,args:["paymentShippingOptions"]}],paymentItems:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ContentChildren,args:[PaymentItemDirective]}]};const PAYMENT_METHODS=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("The methods used by Request Payment API",{factory:()=>[{supportedMethods:"basic-card"}]}),PAYMENT_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("Additional data requests from payer",{factory:()=>({})}),PAYMENT_REQUEST_SUPPORT=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("Is Payment Request Api supported?",{factory:()=>!!(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_ng_web_apis_common__WEBPACK_IMPORTED_MODULE_0__.m9).PaymentRequest});class PaymentRequestService{constructor(supported,paymentMethods,paymentOptions){this.supported=supported,this.paymentMethods=paymentMethods,this.paymentOptions=paymentOptions}request(details,methods=this.paymentMethods,options=this.paymentOptions){if(!this.supported)return Promise.reject(new Error("Payment Request is not supported in your browser"));const gateway=new PaymentRequest(methods,details,options);return gateway.canMakePayment().then(canPay=>canPay?gateway.show():Promise.reject(new Error("Payment Request cannot make the payment")))}}function isError(item){return item instanceof Error||item instanceof DOMException}__name(PaymentRequestService,"PaymentRequestService"),PaymentRequestService.\u0275fac=__name(function(t){return new(t||PaymentRequestService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(PAYMENT_REQUEST_SUPPORT),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(PAYMENT_METHODS),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(PAYMENT_OPTIONS))},"PaymentRequestService_Factory"),PaymentRequestService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineInjectable({token:PaymentRequestService,factory:PaymentRequestService.\u0275fac,providedIn:"root"}),PaymentRequestService.ctorParameters=()=>[{type:Boolean,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[PAYMENT_REQUEST_SUPPORT]}]},{type:Array,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[PAYMENT_METHODS]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[PAYMENT_OPTIONS]}]}],PaymentRequestService.ngInjectableDef=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.defineInjectable)({factory:__name(function(){return new PaymentRequestService((0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(PAYMENT_REQUEST_SUPPORT),(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(PAYMENT_METHODS),(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(PAYMENT_OPTIONS))},"PaymentRequestService_Factory"),token:PaymentRequestService,providedIn:"root"}),__name(isError,"isError");class PaymentSubmitDirective{constructor(paymentHost,paymentRequest,{nativeElement},methods,options){const requests$=(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.fromEvent)(nativeElement,"click").pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.wt)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.from)(paymentRequest.request(Object.assign({},paymentHost),methods,options)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.KQ)(error=>(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(error)))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.BN)());this.waPaymentSubmit=requests$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.hX)(response=>!isError(response))),this.waPaymentError=requests$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.hX)(isError))}}__name(PaymentSubmitDirective,"PaymentSubmitDirective"),PaymentSubmitDirective.\u0275fac=__name(function(t){return new(t||PaymentSubmitDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275directiveInject(PaymentDirective),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275directiveInject(PaymentRequestService),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275directiveInject(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275directiveInject(PAYMENT_METHODS),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275directiveInject(PAYMENT_OPTIONS))},"PaymentSubmitDirective_Factory"),PaymentSubmitDirective.\u0275dir=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineDirective({type:PaymentSubmitDirective,selectors:[["","waPaymentSubmit",""]],outputs:{waPaymentSubmit:"waPaymentSubmit",waPaymentError:"waPaymentError"}}),PaymentSubmitDirective.ctorParameters=()=>[{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[PaymentDirective]}]},{type:PaymentRequestService,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[PaymentRequestService]}]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef]}]},{type:Array,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[PAYMENT_METHODS]}]},{type:void 0,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,args:[PAYMENT_OPTIONS]}]}],PaymentSubmitDirective.propDecorators={waPaymentSubmit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],waPaymentError:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}]};class PaymentRequestModule{}__name(PaymentRequestModule,"PaymentRequestModule"),PaymentRequestModule.\u0275fac=__name(function(t){return new(t||PaymentRequestModule)},"PaymentRequestModule_Factory"),PaymentRequestModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineNgModule({type:PaymentRequestModule}),PaymentRequestModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineInjector({})},96077:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Yc:()=>PERMISSIONS_SUPPORT});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74788),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(72921),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(57192),_ng_web_apis_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52608);const PERMISSIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("An abstraction over window.navigator.permissions object",{factory:()=>(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_ng_web_apis_common__WEBPACK_IMPORTED_MODULE_0__.s5).permissions}),PERMISSIONS_SUPPORT=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken("Is Permissions API supported?",{factory:()=>!!(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(PERMISSIONS)});class PermissionsService{constructor(permissions,permissionsSupported){this.permissions=permissions,this.permissionsSupported=permissionsSupported}state(nameOrDescriptor){const descriptor="string"==typeof nameOrDescriptor?{name:nameOrDescriptor}:nameOrDescriptor;return new rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable(subscriber=>{if(this.permissionsSupported)return(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.from)(this.permissions.query(descriptor)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.wt)(status=>(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.fromEvent)(status,"change").pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.O4)(null),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.UI)(()=>status.state)))).subscribe(subscriber);subscriber.error("Permissions is not supported in your browser")}).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.d)({bufferSize:1,refCount:!0}))}}__name(PermissionsService,"PermissionsService"),PermissionsService.\u0275fac=__name(function(t){return new(t||PermissionsService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(PERMISSIONS),_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275inject(PERMISSIONS_SUPPORT))},"PermissionsService_Factory"),PermissionsService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.\u0275\u0275defineInjectable({token:PermissionsService,factory:PermissionsService.\u0275fac,providedIn:"root"})}};