"use strict";(self.webpackChunkng_web_apis=self.webpackChunkng_web_apis||[]).push([[948],{30948:(A,c,s)=>{s.r(c),s.d(c,{PermissionsPageModule:()=>y});var g=s(92176),m=s(54121),p=s(84945),h=s(98168),d=s(33568),e=s(74788),v=s(84787),l=s(53867),a=s(12057);function f(o,t){if(1&o&&(e.TgZ(0,"div"),e._uU(1," Unfortunately we could not show what the code snippet above would render due to an error: "),e._UZ(2,"br"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e.qZA()),2&o){const n=t.ngIf;e.xp6(4),e.Oqu(n)}}function P(o,t){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"p"),e._uU(2,"The sample above would render the following:"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"h2",2),e._uU(5),e.qZA(),e._UZ(6,"hr"),e.TgZ(7,"p"),e._uU(8," Go ahead and change your browser Location permission as shown below to see this change reflected above. "),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"img",3),e.qZA(),e.qZA()),2&o){const n=t.ngIf;e.xp6(5),e.hij("Geolocation state: ",n,"")}}let Z=(()=>{class o{constructor(n,i){this.permissionsService=n,this.navigator=i,this.error$=new m.X(null),this.basicSample="import { PermissionsService } from '@ng-web-apis/permissions';\n\n@Component({\n  selector: 'main',\n  template: `\n    <h2>Geolocation state: {{ geolocationState$ | async }}</h2>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AppComponent {\n  geolocationState$ = this.permissionsService.state('geolocation');\n\n  constructor(\n    private readonly permissionsService: PermissionsService,\n  ) {}\n}\n",this.geolocationState$=this.permissionsService.state("geolocation").pipe((0,h.b)(r=>{"prompt"===r&&(alert("After you acknowledge this message the browser will ask your permission to allow location access!"),this.navigator.geolocation.getCurrentPosition(()=>{}))}),(0,d.K)(r=>(this.error$.next(r.message),(0,p.of)(null))))}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(v.qQ),e.Y36(g.s5))},o.\u0275cmp=e.Xpm({type:o,selectors:[["permissions-page"]],decls:10,vars:7,consts:[[3,"highlight"],[4,"ngIf"],[1,"align-center"],["src","assets/change-permissions-instructions.jpg","alt","Click on 'View site information' icon next to the address bar and change selected permission for Location"]],template:function(n,i){1&n&&(e._uU(0,"The following example shows basic usage of\n"),e.TgZ(1,"code"),e._uU(2,"PermissionsService"),e.qZA(),e._uU(3,"\n: "),e.TgZ(4,"pre"),e._UZ(5,"code",0),e.qZA(),e.YNc(6,f,5,1,"div",1),e.ALo(7,"async"),e.YNc(8,P,11,1,"div",1),e.ALo(9,"async")),2&n&&(e.xp6(5),e.Q6J("highlight",i.basicSample),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,3,i.error$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(9,5,i.geolocationState$)))},directives:[l.y$,a.O5],pipes:[a.Ov],styles:["[_nghost-%COMP%]{display:block;max-width:600px;margin:0 auto}"],changeDetection:0}),o})();var S=s(23327);let y=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[a.ez,l._l,S.Bz.forChild([{path:"",component:Z}])]]}),o})()}}]);