"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[301],{92301:(I,h,o)=>{o.r(h),o.d(h,{StoragePageModule:()=>U});var p=o(88692),g=o(69900),f=o(22864),u=o(35673),d=o(60885),v=o(95974),m=o(21673),t=o(64537),c=o(73930);let S=(()=>{var n;class i{constructor(e,a){this.localStorage=e,this.windowRef=a}get length(){return this.localStorage.length}getItem(e){return this.localStorage.getItem(e)}setItem(e,a){const l=this.getItem(e);this.localStorage.setItem(e,a),this.notify(e,a,l)}removeItem(e){const a=this.getItem(e);this.localStorage.removeItem(e),this.notify(e,null,a)}clear(){this.localStorage.clear(),this.notify(null,null,null)}key(e){return this.localStorage.key(e)}notify(e,a,l){const r=new StorageEvent("storage",{key:e,newValue:a,oldValue:l,storageArea:this.localStorage,url:this.windowRef.location.href});this.windowRef.dispatchEvent(r)}}return(n=i).\u0275fac=function(e){return new(e||n)(t.LFG(c.H3),t.LFG(c.m9))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();var y=o(14581);const C=new t.OlP("[STORAGE_EVENT]: All changes to Storage objects",{factory:()=>(0,y.R)((0,t.f3M)(c.m9),"storage")});var T=o(74970),Z=o(27969);let A=(()=>{var n;class i{constructor(e,a,l){this.event$=e,this.storage=a,this.storageService=l,this.value$=this.event$.pipe(function E(n){return(0,T.h)(({key:i})=>null===i||i===n)}("value"),function M(){return(0,Z.U)(({newValue:n})=>n)}()),this.native="",this.service="",this.index=0}withStorage(e){this.storage.setItem("value",e),this.native=e}withService(e){this.storageService.setItem("value",e),this.service=e}}return(n=i).\u0275fac=function(e){return new(e||n)(t.Y36(C),t.Y36(c.H3),t.Y36(S))},n.\u0275cmp=t.Xpm({type:n,selectors:[["example"]],decls:16,vars:5,consts:[["tuiGroup",""],[3,"ngModel","ngModelChange"]],template:function(e,a){1&e&&(t.TgZ(0,"h3"),t._uU(1," Value from "),t.TgZ(2,"code"),t._uU(3,"STORAGE_EVENT"),t.qZA(),t._uU(4),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"p",0)(7,"tui-input",1),t.NdJ("ngModelChange",function(r){return a.withStorage(r)}),t._uU(8," Native update "),t.qZA(),t.TgZ(9,"tui-input",1),t.NdJ("ngModelChange",function(r){return a.withService(r)}),t._uU(10," With service "),t.qZA()(),t.TgZ(11,"tui-notification"),t._uU(12," Native event is only triggered with update happens in another tab. Try opening this page in another tab and type into the first input. Use "),t.TgZ(13,"code"),t._uU(14,"StorageService"),t.qZA(),t._uU(15," if you need to know about changes in the same tab too.\n"),t.qZA()),2&e&&(t.xp6(4),t.hij(" : ",t.lcZ(5,3,a.value$),"\n"),t.xp6(3),t.Q6J("ngModel",a.native),t.xp6(2),t.Q6J("ngModel",a.service))},dependencies:[g.JJ,g.On,m.K3,m.wU,d.L,v.gZ,p.Ov],encapsulation:2,changeDetection:0}),i})(),x=(()=>{var n;class i{constructor(){this.example={TypeScript:o.e(633).then(o.t.bind(o,95633,17)),HTML:o.e(534).then(o.t.bind(o,15534,17))}}}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["common-page"]],decls:2,vars:1,consts:[[3,"content"]],template:function(e,a){1&e&&(t.TgZ(0,"tui-doc-example",0),t._UZ(1,"example"),t.qZA()),2&e&&t.Q6J("content",a.example)},dependencies:[u.f2,A],styles:["[_nghost-%COMP%]{display:block;max-width:600px;margin:0 auto}tui-doc-example[_ngcontent-%COMP%]{padding:0}"],changeDetection:0}),i})(),U=(()=>{var n;class i{}return(n=i).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,g.u5,m.Qf,d.H,v.n6,u.u4,u.qn,f.Bz.forChild([{path:"",component:x}])]}),i})()}}]);