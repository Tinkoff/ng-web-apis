"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[373],{373:(j,v,n)=>{n.r(v),n.d(v,{default:()=>M});var i=n(1423),h=n(6556),g=n(5829),p=n(2683),d=n(9450),f=n(3774),m=n(8285),t=n(9508),u=n(6125);let S=(()=>{var a;class o{constructor(){(0,i.A)(this,"localStorage",(0,t.WQX)(u.Wd)),(0,i.A)(this,"windowRef",(0,t.WQX)(u.jf))}get length(){return this.localStorage.length}getItem(e){return this.localStorage.getItem(e)}setItem(e,s){const l=this.getItem(e);this.localStorage.setItem(e,s),this.notify(e,s,l)}removeItem(e){const s=this.getItem(e);this.localStorage.removeItem(e),this.notify(e,null,s)}clear(){this.localStorage.clear(),this.notify(null,null,null)}key(e){return this.localStorage.key(e)}notify(e,s,l){const c=new StorageEvent("storage",{key:e,newValue:s,oldValue:l,storageArea:this.localStorage,url:this.windowRef.location.href});this.windowRef.dispatchEvent(c)}}return a=o,(0,i.A)(o,"\u0275fac",function(e){return new(e||a)}),(0,i.A)(o,"\u0275prov",t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})),o})();var E=n(685);const C=new t.nKC("[STORAGE_EVENT]: All changes to Storage objects",{factory:()=>(0,E.R)((0,t.WQX)(u.jf),"storage")});var F=n(9147),y=n(6779);let T=(()=>{var a;class o{constructor(){(0,i.A)(this,"storageService",(0,t.WQX)(S)),(0,i.A)(this,"storage",(0,t.WQX)(u.Wd)),(0,i.A)(this,"value$",(0,t.WQX)(C).pipe(function A(a){return(0,F.p)(({key:o})=>null===o||o===a)}("value"),function I(){return(0,y.T)(({newValue:a})=>a)}())),(0,i.A)(this,"native",""),(0,i.A)(this,"service",""),(0,i.A)(this,"index",0)}withStorage(e){this.storage.setItem("value",e),this.native=e}withService(e){this.storageService.setItem("value",e),this.service=e}}return a=o,(0,i.A)(o,"\u0275fac",function(e){return new(e||a)}),(0,i.A)(o,"\u0275cmp",t.VBU({type:a,selectors:[["example"]],standalone:!0,features:[t.aNF],decls:16,vars:5,consts:[["tuiGroup",""],[3,"ngModel","ngModelChange"]],template:function(e,s){1&e&&(t.j41(0,"h3"),t.EFF(1," Value from "),t.j41(2,"code"),t.EFF(3,"STORAGE_EVENT"),t.k0s(),t.EFF(4),t.nI1(5,"async"),t.k0s(),t.j41(6,"p",0)(7,"tui-input",1),t.bIt("ngModelChange",function(c){return s.withStorage(c)}),t.EFF(8," Native update "),t.k0s(),t.j41(9,"tui-input",1),t.bIt("ngModelChange",function(c){return s.withService(c)}),t.EFF(10," With service "),t.k0s()(),t.j41(11,"tui-notification"),t.EFF(12," Native event is only triggered with update happens in another tab. Try opening this page in another tab and type into the first input. Use "),t.j41(13,"code"),t.EFF(14,"StorageService"),t.k0s(),t.EFF(15," if you need to know about changes in the same tab too.\n"),t.k0s()),2&e&&(t.R7$(4),t.SpI(" : ",t.bMT(5,3,s.value$),"\n"),t.R7$(3),t.Y8G("ngModel",s.native),t.R7$(2),t.Y8G("ngModel",s.service))},dependencies:[h.MD,h.Jj,d.O,d.v,m.zi,m.mp,m.Ws,g.YN,g.BC,g.vS],encapsulation:2,changeDetection:0})),o})(),M=(()=>{var a;class o{constructor(){(0,i.A)(this,"example",{TypeScript:n.e(385).then(n.t.bind(n,6385,17)),HTML:n.e(520).then(n.t.bind(n,1520,17))})}}return a=o,(0,i.A)(o,"\u0275fac",function(e){return new(e||a)}),(0,i.A)(o,"\u0275cmp",t.VBU({type:a,selectors:[["common-page"]],standalone:!0,features:[t.aNF],decls:2,vars:1,consts:[[3,"content"]],template:function(e,s){1&e&&(t.j41(0,"tui-doc-example",0),t.nrm(1,"example"),t.k0s()),2&e&&t.Y8G("content",s.example)},dependencies:[h.MD,g.YN,m.zi,d.O,f.s9,p.Zs,p.o3,p.ED,T],styles:["[_nghost-%COMP%]{display:block;max-width:600px;margin:0 auto}tui-doc-example[_ngcontent-%COMP%]{padding:0}"],changeDetection:0})),o})()}}]);